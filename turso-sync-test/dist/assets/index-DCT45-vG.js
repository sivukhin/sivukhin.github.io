(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const w of p)if(w.type==="childList")for(const h of w.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function f(p){const w={};return p.integrity&&(w.integrity=p.integrity),p.referrerPolicy&&(w.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?w.credentials="include":p.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function d(p){if(p.ep)return;p.ep=!0;const w=f(p);fetch(p.href,w)}})();var Xr=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0,be=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string";function Ga(u){return typeof u?.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0}function Ja(u){var s,f,d=new Int32Array(u),p=Atomics.load(d,0);if(p<=1)return null;var w=Atomics.load(d,1),h=Atomics.load(d,2),k=Atomics.load(d,3),F=new Uint8Array(u),P=F.slice(16,16+w),M=F.slice(16+w,16+w+h),E=F.slice(16+w+h,16+w+h+k),o=new TextDecoder().decode(P),g=new TextDecoder().decode(M),y=new TextDecoder().decode(E),m=(s=globalThis[o])!==null&&s!==void 0?s:o==="RuntimeError"&&(f=Xr.RuntimeError)!==null&&f!==void 0?f:Error,b=new m(g);return Object.defineProperty(b,"stack",{value:y,writable:!0,enumerable:!1,configurable:!0}),b}function qa(u){return typeof SharedArrayBuffer=="function"&&u instanceof SharedArrayBuffer||Object.prototype.toString.call(u)==="[object SharedArrayBuffer]"}function Ka(u){try{return u instanceof Xr.RuntimeError}catch{return!1}}function Ye(u,s){return{__emnapi__:{type:u,payload:s}}}var $a=536870911;function Zr(u){if(u){if(!qa(u.buffer))throw new Error("Multithread features require shared wasm memory. Try to compile with `-matomics -mbulk-memory` and use `--import-memory --shared-memory` during linking, then create WebAssembly.Memory with `shared: true` option")}else if(typeof SharedArrayBuffer>"u")throw new Error("Current environment does not support SharedArrayBuffer, threads are not available!")}function Qa(u){var s;if(typeof u=="boolean")return u?{size:0,strict:!1}:!1;if(typeof u=="number"){if(!(u>=0))throw new RangeError("reuseWorker: size must be a non-negative integer");return{size:u,strict:!1}}if(!u)return!1;var f=(s=Number(u.size))!==null&&s!==void 0?s:0,d=!!u.strict;if(!(f>0)&&d)throw new RangeError("reuseWorker: size must be set to positive integer if strict is set to true");return{size:f,strict:d}}var ze=0,et=(function(){function u(s){var f;if(this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.wasmModule=null,this.wasmMemory=null,this.messageEvents=new WeakMap,!s)throw new TypeError("ThreadManager(): options is not provided");"childThread"in s?this._childThread=!!s.childThread:this._childThread=!1,this._childThread?(this._onCreateWorker=void 0,this._reuseWorker=!1,this._beforeLoad=void 0):(this._onCreateWorker=s.onCreateWorker,this._reuseWorker=Qa(s.reuseWorker),this._beforeLoad=s.beforeLoad),this.printErr=(f=s.printErr)!==null&&f!==void 0?f:console.error.bind(console)}return Object.defineProperty(u.prototype,"nextWorkerID",{get:function(){return ze},enumerable:!1,configurable:!0}),u.prototype.init=function(){this._childThread||this.initMainThread()},u.prototype.initMainThread=function(){this.preparePool()},u.prototype.preparePool=function(){if(this._reuseWorker&&this._reuseWorker.size)for(var s=this._reuseWorker.size;s--;){var f=this.allocateUnusedWorker();be&&(f.once("message",function(){}),f.unref())}},u.prototype.shouldPreloadWorkers=function(){return!this._childThread&&this._reuseWorker&&this._reuseWorker.size>0},u.prototype.loadWasmModuleToAllWorkers=function(){for(var s=this,f=Array(this.unusedWorkers.length),d=function(h){var k=p.unusedWorkers[h];be&&k.ref(),f[h]=p.loadWasmModuleToWorker(k).then(function(F){return be&&k.unref(),F},function(F){throw be&&k.unref(),F})},p=this,w=0;w<this.unusedWorkers.length;++w)d(w);return Promise.all(f).catch(function(h){throw s.terminateAllThreads(),h})},u.prototype.preloadWorkers=function(){return this.shouldPreloadWorkers()?this.loadWasmModuleToAllWorkers():Promise.resolve([])},u.prototype.setup=function(s,f){this.wasmModule=s,this.wasmMemory=f},u.prototype.markId=function(s){if(s.__emnapi_tid)return s.__emnapi_tid;var f=ze+43;return ze=(ze+1)%($a-42),this.pthreads[f]=s,s.__emnapi_tid=f,f},u.prototype.returnWorkerToPool=function(s){var f=s.__emnapi_tid;f!==void 0&&delete this.pthreads[f],this.unusedWorkers.push(s),this.runningWorkers.splice(this.runningWorkers.indexOf(s),1),delete s.__emnapi_tid,be&&s.unref()},u.prototype.loadWasmModuleToWorker=function(s,f){var d=this;if(s.whenLoaded)return s.whenLoaded;var p=this.printErr,w=this._beforeLoad,h=this;return s.whenLoaded=new Promise(function(k,F){var P=function(E){var o="worker sent an error!";if(s.__emnapi_tid!==void 0&&(o="worker (tid = "+s.__emnapi_tid+") sent an error!"),"message"in E){if(p(o+" "+E.message),E.message.indexOf("RuntimeError")!==-1||E.message.indexOf("unreachable")!==-1)try{h.terminateAllThreads()}catch{}}else p(o);throw F(E),E},M=function(E){if(E.__emnapi__){var o=E.__emnapi__.type,g=E.__emnapi__.payload;o==="loaded"?(s.loaded=!0,be&&!s.__emnapi_tid&&s.unref(),k(s)):o==="cleanup-thread"&&g.tid in d.pthreads&&d.cleanThread(s,g.tid)}};s.onmessage=function(E){M(E.data),d.fireMessageEvent(s,E)},s.onerror=P,be&&(s.on("message",function(E){var o,g;(g=(o=s).onmessage)===null||g===void 0||g.call(o,{data:E})}),s.on("error",function(E){var o,g;(g=(o=s).onerror)===null||g===void 0||g.call(o,E)}),s.on("detachedExit",function(){})),typeof w=="function"&&w(s);try{s.postMessage(Ye("load",{wasmModule:d.wasmModule,wasmMemory:d.wasmMemory,sab:f}))}catch(E){throw Zr(d.wasmMemory),E}}),s.whenLoaded},u.prototype.allocateUnusedWorker=function(){var s=this._onCreateWorker;if(typeof s!="function")throw new TypeError("`options.onCreateWorker` is not provided");var f=s({type:"thread",name:"emnapi-pthread"});return this.unusedWorkers.push(f),f},u.prototype.getNewWorker=function(s){if(this._reuseWorker){if(this.unusedWorkers.length===0){if(this._reuseWorker.strict&&!be){var f=this.printErr;f(`Tried to spawn a new thread, but the thread pool is exhausted.
This might result in a deadlock unless some threads eventually exit or the code explicitly breaks out to the event loop.`);return}var d=this.allocateUnusedWorker();this.loadWasmModuleToWorker(d,s)}return this.unusedWorkers.pop()}var p=this.allocateUnusedWorker();return this.loadWasmModuleToWorker(p,s),this.unusedWorkers.pop()},u.prototype.cleanThread=function(s,f,d){if(!d&&this._reuseWorker)this.returnWorkerToPool(s);else{delete this.pthreads[f];var p=this.runningWorkers.indexOf(s);p!==-1&&this.runningWorkers.splice(p,1),this.terminateWorker(s),delete s.__emnapi_tid}},u.prototype.terminateWorker=function(s){var f=this,d,p=s.__emnapi_tid;s.terminate(),(d=this.messageEvents.get(s))===null||d===void 0||d.clear(),this.messageEvents.delete(s),s.onmessage=function(w){if(w.data.__emnapi__){var h=f.printErr;h('received "'+w.data.__emnapi__.type+'" command from terminated worker: '+p)}}},u.prototype.terminateAllThreads=function(){for(var s=0;s<this.runningWorkers.length;++s)this.terminateWorker(this.runningWorkers[s]);for(var s=0;s<this.unusedWorkers.length;++s)this.terminateWorker(this.unusedWorkers[s]);this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.preparePool()},u.prototype.addMessageEventListener=function(s,f){var d=this.messageEvents.get(s);return d||(d=new Set,this.messageEvents.set(s,d)),d.add(f),function(){d?.delete(f)}},u.prototype.fireMessageEvent=function(s,f){var d=this.messageEvents.get(s);if(d){var p=this.printErr;d.forEach(function(w){try{w(f)}catch(h){p(h.stack)}})}},u})(),zr=Symbol("kIsProxy");function Gr(u,s){if(u[zr])return u;var f=u.exports,d=function(F){for(var P=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],M={},E=function(g){var y=P[g];M[y]=function(){var m=Array.prototype.slice.call(arguments,1);return m.unshift(F),Reflect[y].apply(Reflect,m)}},o=0;o<P.length;o++)E(o);return M},p=d(f),w=function(){},h=function(){return 0};p.get=function(F,P,M){var E;return P==="memory"?(E=typeof s=="function"?s():s)!==null&&E!==void 0?E:Reflect.get(f,P,M):P==="_initialize"?P in f?w:void 0:P==="_start"?P in f?h:void 0:Reflect.get(f,P,M)},p.has=function(F,P){return P==="memory"?!0:Reflect.has(f,P)};var k=new Proxy(Object.create(null),p);return new Proxy(u,{get:function(F,P,M){return P==="exports"?k:P===zr?!0:Reflect.get(F,P,M)}})}var rt=new WeakMap,Ya=(function(){function u(s){var f=this;if(!s)throw new TypeError("WASIThreads(): options is not provided");if(!s.wasi)throw new TypeError("WASIThreads(): options.wasi is not provided");rt.set(this,new WeakSet);var d=s.wasi;Xa(this,d),this.wasi=d,"childThread"in s?this.childThread=!!s.childThread:this.childThread=!1,this.PThread=void 0,"threadManager"in s?typeof s.threadManager=="function"?this.PThread=s.threadManager():this.PThread=s.threadManager:this.childThread||(this.PThread=new et(s),this.PThread.init());var p=!1;"waitThreadStart"in s&&(p=typeof s.waitThreadStart=="number"?s.waitThreadStart:!!s.waitThreadStart);var w=Ga(s);if(this.childThread&&typeof w!="function")throw new TypeError("options.postMessage is not a function");this.postMessage=w;var h=!!s.wasm64,k=function(P){if(P.data.__emnapi__){var M=P.data.__emnapi__.type,E=P.data.__emnapi__.payload;M==="spawn-thread"?F(E.startArg,E.errorOrTid):M==="terminate-all-threads"&&f.terminateAllThreads()}},F=function(P,M){var E,o=6,g=M!==void 0;try{Zr(f.wasmMemory)}catch($){if((E=f.PThread)===null||E===void 0||E.printErr($.stack),g){var y=new Int32Array(f.wasmMemory.buffer,M,2);return Atomics.store(y,0,1),Atomics.store(y,1,o),Atomics.notify(y,1),1}else return-o}if(!g){var m=f.wasmInstance.exports.malloc;if(M=h?Number(m(BigInt(8))):m(8),!M)return-48}var b=f.wasmInstance.exports.free,I=h?function($){b(BigInt($))}:b,C=new Int32Array(f.wasmMemory.buffer,M,2);if(Atomics.store(C,0,0),Atomics.store(C,1,0),f.childThread){w(Ye("spawn-thread",{startArg:P,errorOrTid:M})),Atomics.wait(C,1,0);var O=Atomics.load(C,0),B=Atomics.load(C,1);return g?O:(I(M),O?-B:B)}var D=p||p===0,V;D&&(V=new Int32Array(new SharedArrayBuffer(8208)),Atomics.store(V,0,0));var R,U,j=f.PThread;try{if(R=j.getNewWorker(V),!R)throw new Error("failed to get new worker");if(j.addMessageEventListener(R,k),U=j.markId(R),be&&R.ref(),R.postMessage(Ye("start",{tid:U,arg:P,sab:V})),D){if(typeof p=="number"){var J=Atomics.wait(V,0,0,p);if(J==="timed-out"){try{j.cleanThread(R,U,!0)}catch{}throw new Error("Spawning thread timed out. Please check if the worker is created successfully and if message is handled properly in the worker.")}}else Atomics.wait(V,0,0);var Y=Atomics.load(V,0);if(Y>1){try{j.cleanThread(R,U,!0)}catch{}throw Ja(V.buffer)}}}catch($){return Atomics.store(C,0,1),Atomics.store(C,1,o),Atomics.notify(C,1),j?.printErr($.stack),g?1:(I(M),-o)}return Atomics.store(C,0,0),Atomics.store(C,1,U),Atomics.notify(C,1),j.runningWorkers.push(R),D||R.whenLoaded.catch(function($){throw delete R.whenLoaded,j.cleanThread(R,U,!0),$}),g?0:(I(M),U)};this.threadSpawn=F}return u.prototype.getImportObject=function(){return{wasi:{"thread-spawn":this.threadSpawn}}},u.prototype.setup=function(s,f,d){d??(d=s.exports.memory),this.wasmInstance=s,this.wasmMemory=d,this.PThread&&this.PThread.setup(f,d)},u.prototype.preloadWorkers=function(){return this.PThread?this.PThread.preloadWorkers():Promise.resolve([])},u.prototype.initialize=function(s,f,d){var p=s.exports;d??(d=p.memory),this.childThread&&(s=Gr(s,d)),this.setup(s,f,d);var w=this.wasi;if("_start"in p&&typeof p._start=="function")if(this.childThread){w.start(s);try{var h=tt(w,"kStarted");w[h]=!1}catch{}}else Za(w,s);else w.initialize(s);return s},u.prototype.start=function(s,f,d){var p=s.exports;d??(d=p.memory),this.childThread&&(s=Gr(s,d)),this.setup(s,f,d);var w=this.wasi.start(s);return{exitCode:w,instance:s}},u.prototype.terminateAllThreads=function(){var s;this.childThread?this.postMessage(Ye("terminate-all-threads",{})):(s=this.PThread)===null||s===void 0||s.terminateAllThreads()},u})();function Xa(u,s){var f=rt.get(u);if(!f.has(s)){var d=u,p=s.wasiImport;if(p){var w=p.proc_exit;p.proc_exit=function(k){return d.terminateAllThreads(),w.call(this,k)}}if(!d.childThread){var h=s.start;typeof h=="function"&&(s.start=function(k){try{return h.call(this,k)}catch(F){throw Ka(F)&&d.terminateAllThreads(),F}})}f.add(s)}}function tt(u,s){var f=Object.getOwnPropertySymbols(u),d=function(p){return function(w){return w.description?w.description===p:w.toString()==="Symbol(".concat(p,")")}};return Array.isArray(s)?s.map(function(p){return f.filter(d(p))[0]}):f.filter(d(s))[0]}function Za(u,s){var f=tt(u,["kInstance","kSetMemory"]),d=f[0],p=f[1];u[d]=s,u[p](s.exports.memory)}var wr=function(u,s){return wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])},wr(u,s)};function Ae(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");wr(u,s);function f(){this.constructor=u}u.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}var _e=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;function nt(u){if(u&&typeof u!="object")throw new TypeError("imports must be an object or undefined");return!0}function xe(u,s){if(!u)throw new TypeError("Invalid wasm source");nt(s),s=s??{};try{var f=typeof u=="object"&&u!==null&&"then"in u?u.then:void 0;if(typeof f=="function")return f.call(u,function(p){return xe(p,s)})}catch{}if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))return _e.instantiate(u,s);if(u instanceof _e.Module)return _e.instantiate(u,s).then(function(p){return{instance:p,module:u}});if(typeof Response<"u"&&u instanceof Response)return u.arrayBuffer().then(function(p){return _e.instantiate(p,s)});var d=typeof u=="string";if(d||typeof URL<"u"&&u instanceof URL){if(d&&typeof wx<"u"&&typeof __wxConfig<"u")return _e.instantiate(u,s);if(typeof fetch!="function")throw new TypeError("wasm source can not be a string or URL in this environment");if(typeof _e.instantiateStreaming=="function")try{return _e.instantiateStreaming(fetch(u),s).catch(function(){return xe(fetch(u),s)})}catch{return xe(fetch(u),s)}else return xe(fetch(u),s)}throw new TypeError("Invalid wasm source")}function es(u,s){if(!u)throw new TypeError("Invalid wasm source");nt(s),s=s??{};var f;if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))f=new _e.Module(u);else if(u instanceof WebAssembly.Module)f=u;else throw new TypeError("Invalid wasm source");var d=new _e.Instance(f,s),p={instance:d,module:f};return p}function rs(u){var s=(function(){var f=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string",d=!!u.childThread,p=typeof u.waitThreadStart=="number"?u.waitThreadStart:!!u.waitThreadStart,w,h,k,F,P;function M(e){throw typeof _e.RuntimeError=="function"?new _e.RuntimeError(e):Error(e)}var E={imports:{env:{},napi:{},emnapi:{}},exports:{},emnapi:{},loaded:!1,filename:"",childThread:d,initWorker:void 0,executeAsyncWork:void 0,waitThreadStart:p,PThread:void 0,init:function(e){if(E.loaded)return E.exports;if(!e)throw new TypeError("Invalid napi init options");var i=e.instance;if(!i?.exports)throw new TypeError("Invalid wasm instance");w=i;var t=i.exports,r=e.module,n=e.memory||t.memory,a=e.table||t.__indirect_function_table;if(!(r instanceof _e.Module))throw new TypeError("Invalid wasm module");if(!(n instanceof _e.Memory))throw new TypeError("Invalid wasm memory");if(!(a instanceof _e.Table))throw new TypeError("Invalid wasm table");if(h=n,k=a,typeof t.malloc!="function")throw new TypeError("malloc is not exported");if(typeof t.free!="function")throw new TypeError("free is not exported");if(F=t.malloc,P=t.free,!E.childThread){var c=8,l=i.exports.node_api_module_get_api_version_v1;typeof l=="function"&&(c=l());var _=E.envObject||(E.envObject=o.createEnv(E.filename,c,function(S){return k.get(S)},function(S){return k.get(S)},M,g)),v=o.openScope(_);try{_.callIntoModule(function(S){var A=E.exports,N=v.add(A),x=i.exports.napi_register_wasm_v1,W=x(S.id,N.id);E.exports=W?o.handleStore.get(W).value:A})}finally{o.closeScope(_,v)}return E.loaded=!0,delete E.envObject,E.exports}}},o,g,y=void 0,m;if(d){o=u?.context;var I=typeof u.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0;if(typeof I!="function")throw new TypeError("No postMessage found");E.postMessage=I}else{var b=u.context;if(typeof b!="object"||b===null)throw new TypeError("Invalid `options.context`. Use `import { getDefaultContext } from '@emnapi/runtime'`");o=b}if(typeof u.filename=="string"&&(E.filename=u.filename),typeof u.onCreateWorker=="function"&&(y=u.onCreateWorker),typeof u.print=="function"?u.print:console.log.bind(console),typeof u.printErr=="function"?m=u.printErr:m=console.warn.bind(console),"nodeBinding"in u){var C=u.nodeBinding;if(typeof C!="object"||C===null)throw new TypeError("Invalid `options.nodeBinding`. Use @emnapi/node-binding package");g=C}var O=0;if("asyncWorkPoolSize"in u){if(typeof u.asyncWorkPoolSize!="number")throw new TypeError("options.asyncWorkPoolSize must be a integer");O=u.asyncWorkPoolSize>>0,O>1024?O=1024:O<-1024&&(O=-1024)}var B=d?!1:O<=0;function D(){return Math.abs(O)}E.imports.env._emnapi_async_work_pool_size=D;function V(e){if(!e)return!1;if(e._emnapiSendListener)return!0;var i=function(r){var n=f?r:r.data,a=n.__emnapi__;if(a&&a.type==="async-send")if(d){var c=E.postMessage;c({__emnapi__:a})}else{var l=a.payload.callback;k.get(l)(a.payload.data)}},t=function(){f?e.off("message",i):e.removeEventListener("message",i,!1),delete e._emnapiSendListener};return e._emnapiSendListener={handler:i,dispose:t},f?e.on("message",i):e.addEventListener("message",i,!1),!0}E.emnapi.addSendListener=V;var R=new et(d?{printErr:m,childThread:!0}:{printErr:m,beforeLoad:function(e){V(e)},reuseWorker:u.reuseWorker,onCreateWorker:y});E.PThread=R;function U(e,i,t,r){var n=o.envStore.get(e);return n.setLastError(i,t,r)}function j(e){var i=o.envStore.get(e);return i.clearLastError()}function J(e,i,t){var r=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string"?process.versions.node.split(".").map(function(a){return Number(a)}):[0,0,0],n=new DataView(h.buffer);n.setUint32(e,r[0],!0),n.setUint32(i,r[1],!0),n.setUint32(t,r[2],!0)}function Y(){}function $(){}function X(e,i){o.feature.setImmediate(function(){k.get(e)(i)})}function fe(e,i){Promise.resolve().then(function(){k.get(e)(i)})}function he(e,i,t,r,n){var a=o.envStore.get(i),c=o.openScope(a);try{a.callbackIntoModule(!!e,function(){k.get(t)(i,r)})}catch(l){throw o.closeScope(a,c),n&&o.closeScope(a),l}o.closeScope(a,c)}function me(e,i,t,r,n){var a=o.envStore.get(i);a.callFinalizerInternal(e,t,r,n)}function Be(){o.increaseWaitingRequestCounter()}function Oe(){o.decreaseWaitingRequestCounter()}function ge(e,i){var t,r=[i>>>0,(t=i,+Math.abs(t)>=1?t>0?(Math.min(+Math.floor(t/4294967296),4294967295)|0)>>>0:~~+Math.ceil((t-+(~~t>>>0))/4294967296)>>>0:0)],n=new DataView(h.buffer);n.setInt32(e,r[0],!0),n.setInt32(e+4,r[1],!0)}var we=Object.freeze({__proto__:null,$emnapiSetValueI64:ge,_emnapi_call_finalizer:me,_emnapi_callback_into_module:he,_emnapi_ctx_decrease_waiting_request_counter:Oe,_emnapi_ctx_increase_waiting_request_counter:Be,_emnapi_get_node_version:J,_emnapi_next_tick:fe,_emnapi_runtime_keepalive_pop:$,_emnapi_runtime_keepalive_push:Y,_emnapi_set_immediate:X,napi_clear_last_error:j,napi_set_last_error:U});function je(e){var i=new DataView(h.buffer),t=20,r=i.getInt32(e+t,!0),n=R.pthreads[r];return n}function At(e){if(!d){var i=je(e);i&&typeof i.unref=="function"&&i.unref()}}function St(e,i,t){if(d){var r=E.postMessage;r({__emnapi__:{type:"async-send",payload:{callback:i,data:t}}})}else switch(e){case 0:X(i,t);break;case 1:fe(i,t);break}}var Rr,He=new Promise(function(e){Rr=function(){He.ready=!0,e()}});He.ready=!1;function It(){return typeof window<"u"&&typeof document<"u"&&!f?1:0}function Lt(e,i,t){He.ready?k.get(e)(i,t):He.then(function(){k.get(e)(i,t)})}function Tt(e,i){for(var t=[],r=new DataView(h.buffer),n=function(c){var l=r.getInt32(e+c*4,!0),_=je(l);t.push(new Promise(function(v){var S=function(A){var N=f?A:A.data,x=N.__emnapi__;x&&x.type==="async-thread-ready"&&(v(),_&&typeof _.unref=="function"&&_.unref(),f?_.off("message",S):_.removeEventListener("message",S))};f?_.on("message",S):_.addEventListener("message",S)}))},a=0;a<i;a++)n(a);Promise.all(t).then(Rr)}function Ct(){if(d){var e=E.postMessage;e({__emnapi__:{type:"async-thread-ready",payload:{}}})}}var kt=Object.freeze({__proto__:null,_emnapi_after_uvthreadpool_ready:Lt,_emnapi_async_send_js:St,_emnapi_emit_async_thread_ready:Ct,_emnapi_is_main_browser_thread:It,_emnapi_tell_js_uvthreadpool:Tt,_emnapi_worker_unref:At});function Dt(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(!t)return r.setLastError(1);var n=Number(i);if(n<0)return r.setLastError(1);var a=h.buffer.byteLength,c=a+n;if(c=c+(65536-c%65536)%65536,h.grow(c-a+65535>>16)===-1)return r.setLastError(9);if(o.feature.supportBigInt){var l=new DataView(h.buffer);l.setBigInt64(t,BigInt(h.buffer.byteLength),!0)}else ge(t,h.buffer.byteLength);return r.clearLastError()}var Bt=Object.freeze({__proto__:null,napi_adjust_external_memory:Dt}),te={idGen:{},values:[void 0],queued:new Set,pending:[],init:function(){var e={nextId:1,list:[],generate:function(){var i;return e.list.length?i=e.list.shift():(i=e.nextId,e.nextId++),i},reuse:function(i){e.list.push(i)}};te.idGen=e,te.values=[void 0],te.queued=new Set,te.pending=[]},create:function(e,i,t,r,n,a){var c=0,l=0;if(g){var _=g.node.emitAsyncInit(i,t,-1);c=_.asyncId,l=_.triggerAsyncId}var v=te.idGen.generate();return te.values[v]={env:e,id:v,resource:i,asyncId:c,triggerAsyncId:l,status:0,execute:r,complete:n,data:a},v},callComplete:function(e,i){var t=e.complete,r=e.env,n=e.data,a=function(){if(t){var c=o.envStore.get(r),l=o.openScope(c);try{c.callbackIntoModule(!0,function(){k.get(t)(r,i,n)})}finally{o.closeScope(c,l)}}};g?g.node.makeCallback(e.resource,a,[],{asyncId:e.asyncId,triggerAsyncId:e.triggerAsyncId}):a()},queue:function(e){var i=te.values[e];if(i&&i.status===0){if(i.status=1,te.queued.size>=(Math.abs(O)||4)){te.pending.push(e);return}te.queued.add(e);var t=i.env,r=i.data,n=i.execute;i.status=2,o.feature.setImmediate(function(){if(k.get(n)(t,r),te.queued.delete(e),i.status=3,o.feature.setImmediate(function(){te.callComplete(i,0)}),te.pending.length>0){var a=te.pending.shift();te.values[a].status=0,te.queue(a)}})}},cancel:function(e){var i=te.pending.indexOf(e);if(i!==-1){var t=te.values[e];return t&&t.status===1?(t.status=4,te.pending.splice(i,1),o.feature.setImmediate(function(){te.callComplete(t,11)}),0):9}return 9},remove:function(e){var i=te.values[e];i&&(g&&g.node.emitAsyncDestroy({asyncId:i.asyncId,triggerAsyncId:i.triggerAsyncId}),te.values[e]=void 0,te.idGen.reuse(e))}};function ar(e,i,t,r){if(g){var n=o.handleStore.get(e).value,a=o.handleStore.get(i).value,c=g.node.emitAsyncInit(n,a,t),l=c.asyncId,_=c.triggerAsyncId;if(r){var v=new DataView(h.buffer);v.setFloat64(r,l,!0),v.setFloat64(r+8,_,!0)}}}function sr(e,i){g&&g.node.emitAsyncDestroy({asyncId:e,triggerAsyncId:i})}function Ot(e,i,t,r,n,a,c,l){var _=0,v;if(g){var S=o.handleStore.get(i).value,A=o.handleStore.get(t).value;n=n>>>0;for(var N=Array(n),x=new DataView(h.buffer);_<n;_++){var W=x.getInt32(r+_*4,!0);N[_]=o.handleStore.get(W).value}var G=g.node.makeCallback(S,A,N,{asyncId:a,triggerAsyncId:c});if(l){var Q=o.envStore.get(e);v=Q.ensureHandleId(G),x.setInt32(l,v,!0)}}}function Ft(e,i,t){if(!g)return 9;var r;e&&(r=Object(o.handleStore.get(e).value));var n=o.handleStore.get(i).value,a=g.napi.asyncInit(r,n);if(a.status!==0)return a.status;var c=a.value;c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)||(c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var l=Number(c&BigInt(4294967295)),_=Number(c>>BigInt(32)),v=new DataView(h.buffer);return v.setInt32(t,l,!0),v.setInt32(t+4,_,!0),0}function Rt(e){if(!g)return 9;var i=new DataView(h.buffer),t=i.getInt32(e,!0),r=i.getInt32(e+4,!0),n=BigInt(t>>>0)|BigInt(r)<<BigInt(32),a=g.napi.asyncDestroy(n);return a.status!==0?a.status:0}function Nt(e,i,t,r){throw new Error("napi_open_callback_scope has not been implemented yet")}function xt(e,i){throw new Error("napi_close_callback_scope has not been implemented yet")}function Pt(e,i,t,r,n,a,c){var l=0,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!g)return v.setLastError(9);if(!t||n>0&&!a)return v.setLastError(1);var S=Object(o.handleStore.get(t).value),A=o.handleStore.get(r).value;if(typeof A!="function")return v.setLastError(1);var N=new DataView(h.buffer),x=N.getInt32(i,!0),W=N.getInt32(i+4,!0),G=BigInt(x>>>0)|BigInt(W)<<BigInt(32);n=n>>>0;for(var Q=Array(n);l<n;l++){var ne=N.getInt32(a+l*4,!0);Q[l]=o.handleStore.get(ne).value}var oe=g.napi.makeCallback(G,S,A,Q);if(oe.error)throw oe.error;return oe.status!==0?v.setLastError(oe.status):(c&&(_=v.ensureHandleId(oe.value),N.setInt32(c,_,!0)),v.getReturnStatus())}catch(ee){return v.tryCatch.setError(ee),v.setLastError(10)}}function Ut(e){var i=o.envStore.get(e);i.checkGCAccess()}var Vt=Object.freeze({__proto__:null,_emnapi_async_destroy_js:Rt,_emnapi_async_init_js:Ft,_emnapi_env_check_gc_access:Ut,_emnapi_node_emit_async_destroy:sr,_emnapi_node_emit_async_init:ar,_emnapi_node_make_callback:Ot,napi_close_callback_scope:xt,napi_make_callback:Pt,napi_open_callback_scope:Nt}),L={offset:{resource:0,async_id:8,trigger_async_id:16,queue_size:24,queue:28,thread_count:32,is_closing:36,dispatch_state:40,context:44,max_queue_size:48,ref:52,env:56,finalize_data:60,finalize_cb:64,call_js_cb:68,handles_closing:72,async_ref:76,mutex:80,cond:84,end:88},init:function(){if(typeof R<"u"){R.unusedWorkers.forEach(L.addListener),R.runningWorkers.forEach(L.addListener);var e=R.getNewWorker;R.getNewWorker=function(){var i=e.apply(this,arguments);return L.addListener(i),i}}},addListener:function(e){if(!e)return!1;if(e._emnapiTSFNListener)return!0;var i=function(r){var n=f?r:r.data,a=n.__emnapi__;if(a){var c=a.type,l=a.payload;c==="tsfn-send"&&L.dispatch(l.tsfn)}},t=function(){f?e.off("message",i):e.removeEventListener("message",i,!1),delete e._emnapiTSFNListener};return e._emnapiTSFNListener={handler:i,dispose:t},f?e.on("message",i):e.addEventListener("message",i,!1),!0},initQueue:function(e){var i=8,t=F(i);return t?(new Uint8Array(h.buffer,t,i).fill(0),L.storeSizeTypeValue(e+L.offset.queue,t,!1),!0):!1},destroyQueue:function(e){var i=L.loadSizeTypeValue(e+L.offset.queue,!1);i&&P(i)},pushQueue:function(e,i){var t=L.loadSizeTypeValue(e+L.offset.queue,!1),r=L.loadSizeTypeValue(t,!1),n=L.loadSizeTypeValue(t+4,!1),a=8,c=F(a);if(!c)throw new Error("OOM");L.storeSizeTypeValue(c,i,!1),L.storeSizeTypeValue(c+4,0,!1),r===0&&n===0?(L.storeSizeTypeValue(t,c,!1),L.storeSizeTypeValue(t+4,c,!1)):(L.storeSizeTypeValue(n+4,c,!1),L.storeSizeTypeValue(t+4,c,!1)),L.addQueueSize(e)},shiftQueue:function(e){var i=L.loadSizeTypeValue(e+L.offset.queue,!1),t=L.loadSizeTypeValue(i,!1);if(t===0)return 0;var r=t,n=L.loadSizeTypeValue(t+4,!1);L.storeSizeTypeValue(i,n,!1),n===0&&L.storeSizeTypeValue(i+4,0,!1),L.storeSizeTypeValue(r+4,0,!1);var a=L.loadSizeTypeValue(r,!1);return P(r),L.subQueueSize(e),a},push:function(e,i,t){var r=L.getMutex(e),n=L.getCond(e),a=function(){var l=L.getQueueSize(e),_=L.getMaxQueueSize(e),v=L.getIsClosing(e);return l>=_&&_>0&&!v},c=typeof window<"u"&&typeof document<"u"&&!f;return r.execute(function(){for(;a();){if(t===0)return 15;if(c)return 21;n.wait()}return L.getIsClosing(e)?L.getThreadCount(e)===0?1:(L.subThreadCount(e),16):(L.pushQueue(e,i),L.send(e),0)})},getMutex:function(e){var i=e+L.offset.mutex,t={lock:function(){var r=typeof window<"u"&&typeof document<"u"&&!f,n=new Int32Array(h.buffer,i,1);if(r)for(;;){var a=Atomics.compareExchange(n,0,0,1);if(a===0)return}else for(;;){var a=Atomics.compareExchange(n,0,0,1);if(a===0)return;Atomics.wait(n,0,1)}},unlock:function(){var r=new Int32Array(h.buffer,i,1),n=Atomics.compareExchange(r,0,1,0);if(n!==1)throw new Error("Tried to unlock while not holding the mutex");Atomics.notify(r,0,1)},execute:function(r){t.lock();try{return r()}finally{t.unlock()}}};return t},getCond:function(e){var i=e+L.offset.cond,t=L.getMutex(e),r={wait:function(){var n=new Int32Array(h.buffer,i,1),a=Atomics.load(n,0);t.unlock(),Atomics.wait(n,0,a),t.lock()},signal:function(){var n=new Int32Array(h.buffer,i,1);Atomics.add(n,0,1),Atomics.notify(n,0,1)}};return r},getQueueSize:function(e){return L.loadSizeTypeValue(e+L.offset.queue_size,!0)},addQueueSize:function(e){var i=L.offset.queue_size,t,r;t=new Uint32Array(h.buffer),r=e+i>>2,Atomics.add(t,r,1)},subQueueSize:function(e){var i=L.offset.queue_size,t,r;t=new Uint32Array(h.buffer),r=e+i>>2,Atomics.sub(t,r,1)},getThreadCount:function(e){return L.loadSizeTypeValue(e+L.offset.thread_count,!0)},addThreadCount:function(e){var i=L.offset.thread_count,t,r;t=new Uint32Array(h.buffer),r=e+i>>2,Atomics.add(t,r,1)},subThreadCount:function(e){var i=L.offset.thread_count,t,r;t=new Uint32Array(h.buffer),r=e+i>>2,Atomics.sub(t,r,1)},getIsClosing:function(e){return Atomics.load(new Int32Array(h.buffer),e+L.offset.is_closing>>2)},setIsClosing:function(e,i){Atomics.store(new Int32Array(h.buffer),e+L.offset.is_closing>>2,i)},getHandlesClosing:function(e){return Atomics.load(new Int32Array(h.buffer),e+L.offset.handles_closing>>2)},setHandlesClosing:function(e,i){Atomics.store(new Int32Array(h.buffer),e+L.offset.handles_closing>>2,i)},getDispatchState:function(e){return Atomics.load(new Uint32Array(h.buffer),e+L.offset.dispatch_state>>2)},getContext:function(e){return L.loadSizeTypeValue(e+L.offset.context,!1)},getMaxQueueSize:function(e){return L.loadSizeTypeValue(e+L.offset.max_queue_size,!0)},getEnv:function(e){return L.loadSizeTypeValue(e+L.offset.env,!1)},getCallJSCb:function(e){return L.loadSizeTypeValue(e+L.offset.call_js_cb,!1)},getRef:function(e){return L.loadSizeTypeValue(e+L.offset.ref,!1)},getResource:function(e){return L.loadSizeTypeValue(e+L.offset.resource,!1)},getFinalizeCb:function(e){return L.loadSizeTypeValue(e+L.offset.finalize_cb,!1)},getFinalizeData:function(e){return L.loadSizeTypeValue(e+L.offset.finalize_data,!1)},loadSizeTypeValue:function(e,i){var t,r;return i?(r=new Uint32Array(h.buffer),t=Atomics.load(r,e>>2),t):(r=new Int32Array(h.buffer),t=Atomics.load(r,e>>2),t)},storeSizeTypeValue:function(e,i,t){var r;if(t){r=new Uint32Array(h.buffer),Atomics.store(r,e>>2,i);return}else{r=new Int32Array(h.buffer),Atomics.store(r,e>>2,i>>>0);return}},destroy:function(e){L.destroyQueue(e);var i=L.getEnv(e),t=o.envStore.get(i),r=L.getRef(e);r&&o.refStore.get(r).dispose(),o.removeCleanupHook(t,L.cleanup,e),t.unref();var n=e+L.offset.async_ref>>2,a=new Int32Array(h.buffer);Atomics.load(a,n)&&(Atomics.store(a,n,0),o.decreaseWaitingRequestCounter());var c=L.getResource(e);if(o.refStore.get(c).dispose(),g){var l=new DataView(h.buffer),_=l.getFloat64(e+L.offset.async_id,!0),v=l.getFloat64(e+L.offset.trigger_async_id,!0);sr(_,v)}P(e)},emptyQueueAndDelete:function(e){for(var i=L.getCallJSCb(e),t=L.getContext(e),r;L.getQueueSize(e)>0;)r=L.shiftQueue(e),i&&k.get(i)(0,0,t,r);L.destroy(e)},finalize:function(e){var i=L.getEnv(e),t=o.envStore.get(i);o.openScope(t);var r=L.getFinalizeCb(e),n=L.getFinalizeData(e),a=L.getContext(e),c=function(){t.callFinalizerInternal(0,r,n,a)};try{if(r)if(g){var l=L.getResource(e),_=o.refStore.get(l).get(),v=o.handleStore.get(_).value,S=new DataView(h.buffer),A=S.getFloat64(e+L.offset.async_id,!0),N=S.getFloat64(e+L.offset.trigger_async_id,!0);g.node.makeCallback(v,c,[],{asyncId:A,triggerAsyncId:N})}else c();L.emptyQueueAndDelete(e)}finally{o.closeScope(t)}},cleanup:function(e){L.closeHandlesAndMaybeDelete(e,1)},closeHandlesAndMaybeDelete:function(e,i){var t=L.getEnv(e),r=o.envStore.get(t);o.openScope(r);try{if(i&&L.getMutex(e).execute(function(){L.setIsClosing(e,1),L.getMaxQueueSize(e)>0&&L.getCond(e).signal()}),L.getHandlesClosing(e))return;L.setHandlesClosing(e,1),o.feature.setImmediate(function(){L.finalize(e)})}finally{o.closeScope(r)}},dispatchOne:function(e){var i=0,t=!1,r=!1,n=L.getMutex(e),a=L.getCond(e);if(n.execute(function(){if(L.getIsClosing(e))L.closeHandlesAndMaybeDelete(e,0);else{var x=L.getQueueSize(e);if(x>0){i=L.shiftQueue(e),t=!0;var W=L.getMaxQueueSize(e);x===W&&W>0&&a.signal(),x--}x===0?L.getThreadCount(e)===0&&(L.setIsClosing(e,1),L.getMaxQueueSize(e)>0&&a.signal(),L.closeHandlesAndMaybeDelete(e,0)):r=!0}}),t){var c=L.getEnv(e),l=o.envStore.get(c);o.openScope(l);var _=function(){l.callbackIntoModule(!1,function(){var x=L.getCallJSCb(e),W=L.getRef(e),G=W?o.refStore.get(W).get():0;if(x){var Q=L.getContext(e);k.get(x)(c,G,Q,i)}else{var ne=G?o.handleStore.get(G).value:null;typeof ne=="function"&&ne()}})};try{if(g){var v=L.getResource(e),S=o.refStore.get(v).get(),A=o.handleStore.get(S).value,N=new DataView(h.buffer);g.node.makeCallback(A,_,[],{asyncId:N.getFloat64(e+L.offset.async_id,!0),triggerAsyncId:N.getFloat64(e+L.offset.trigger_async_id,!0)})}else _()}finally{o.closeScope(l)}}return r},dispatch:function(e){for(var i=!0,t=1e3,r=new Uint32Array(h.buffer),n=e+L.offset.dispatch_state>>2;i&&--t!==0;)Atomics.store(r,n,1),i=L.dispatchOne(e),Atomics.exchange(r,n,0)!==1&&(i=!0);i&&L.send(e)},send:function(e){var i=Atomics.or(new Uint32Array(h.buffer),e+L.offset.dispatch_state>>2,2);(i&1)!==1&&(typeof d<"u"&&d?postMessage({__emnapi__:{type:"tsfn-send",payload:{tsfn:e}}}):o.feature.setImmediate(function(){L.dispatch(e)}))}};function Wt(e,i,t,r,n,a,c,l,_,v,S){if(!e)return 1;var A=o.envStore.get(e);if(A.checkGCAccess(),!r||(n=n>>>0,a=a>>>0,a===0)||!S)return A.setLastError(1);var N=0;if(i){var x=o.handleStore.get(i).value;if(typeof x!="function")return A.setLastError(1);N=o.createReference(A,i,1,1).id}else if(!v)return A.setLastError(1);var W;if(t){if(W=o.handleStore.get(t).value,W==null)return A.setLastError(2);W=Object(W)}else W={};var G=A.ensureHandleId(W),Q=o.handleStore.get(r).value;if(typeof Q=="symbol")return A.setLastError(3);Q=String(Q);var ne=A.ensureHandleId(Q),oe=L.offset.end,ee=F(oe);if(!ee)return A.setLastError(9);new Uint8Array(h.buffer).subarray(ee,ee+oe).fill(0);var le=o.createReference(A,G,1,1),ve=le.id,pe=new DataView(h.buffer);return pe.setInt32(ee,ve,!0),L.initQueue(ee)?(ar(G,ne,-1,ee+L.offset.async_id),pe.setUint32(ee+L.offset.thread_count,a,!0),pe.setInt32(ee+L.offset.context,_,!0),pe.setUint32(ee+L.offset.max_queue_size,n,!0),pe.setInt32(ee+L.offset.ref,N,!0),pe.setInt32(ee+L.offset.env,e,!0),pe.setInt32(ee+L.offset.finalize_data,c,!0),pe.setInt32(ee+L.offset.finalize_cb,l,!0),pe.setInt32(ee+L.offset.call_js_cb,v,!0),o.addCleanupHook(A,L.cleanup,ee),A.ref(),o.increaseWaitingRequestCounter(),pe.setInt32(ee+L.offset.async_ref,1,!0),pe.setInt32(S,ee,!0),A.clearLastError()):(P(ee),le.dispose(),A.setLastError(9))}function Mt(e,i){if(!e||!i)return M(),1;var t=L.getContext(e),r=new DataView(h.buffer);return r.setInt32(i,t,!0),0}function jt(e,i,t){return e?L.push(e,i,t):(M(),1)}function Ht(e){if(!e)return M(),1;var i=L.getMutex(e);return i.execute(function(){return L.getIsClosing(e)?16:(L.addThreadCount(e),0)})}function zt(e,i){if(!e)return M(),1;var t=L.getMutex(e),r=L.getCond(e);return t.execute(function(){if(L.getThreadCount(e)===0)return 1;if(L.subThreadCount(e),L.getThreadCount(e)===0||i===1){var n=L.getIsClosing(e);if(!n){var a=i===1?1:0;L.setIsClosing(e,a),a&&L.getMaxQueueSize(e)>0&&r.signal(),L.send(e)}}return 0})}function Gt(e,i){if(!i)return M(),1;var t=i+L.offset.async_ref>>2,r=new Int32Array(h.buffer);return Atomics.load(r,t)&&(Atomics.store(r,t,0),o.decreaseWaitingRequestCounter()),0}function Jt(e,i){if(!i)return M(),1;var t=i+L.offset.async_ref>>2,r=new Int32Array(h.buffer);return Atomics.load(r,t)||(Atomics.store(r,t,1),o.increaseWaitingRequestCounter()),0}var H={unusedWorkers:[],runningWorkers:[],workQueue:[],workerReady:null,offset:{resource:0,async_id:8,trigger_async_id:16,env:24,data:28,execute:32,complete:36,end:40},init:function(){H.unusedWorkers=[],H.runningWorkers=[],H.workQueue=[],H.workerReady=null},addListener:function(e){if(!e)return!1;if(e._emnapiAWMTListener)return!0;var i=function(r){var n=f?r:r.data,a=n.__emnapi__;if(a){var c=a.type,l=a.payload;c==="async-work-complete"?(o.decreaseWaitingRequestCounter(),H.runningWorkers.splice(H.runningWorkers.indexOf(e),1),H.unusedWorkers.push(e),H.checkIdleWorker(),H.callComplete(l.work,0)):c==="async-work-queue"?H.scheduleWork(l.work):c==="async-work-cancel"&&H.cancelWork(l.work)}},t=function(){f?e.off("message",i):e.removeEventListener("message",i,!1),delete e._emnapiAWMTListener};return e._emnapiAWMTListener={handler:i,dispose:t},f?e.on("message",i):e.addEventListener("message",i,!1),!0},initWorkers:function(e){if(d)return H.workerReady||(H.workerReady=Promise.resolve());if(H.workerReady)return H.workerReady;if(typeof y!="function")throw new TypeError("`options.onCreateWorker` is not a function");var i=[],t=[];if(!("emnapi_async_worker_create"in w.exports))throw new TypeError("`emnapi_async_worker_create` is not exported, please try to add `--export=emnapi_async_worker_create` to linker flags");for(var r=0;r<e;++r)t.push(w.exports.emnapi_async_worker_create());try{for(var n=function(c){var l=y({type:"async-work",name:"emnapi-async-worker"}),_=R.loadWasmModuleToWorker(l);H.addListener(l),i.push(_.then(function(){typeof l.unref=="function"&&l.unref()})),H.unusedWorkers.push(l);var v=t[c];l.threadBlockBase=v,l.postMessage({__emnapi__:{type:"async-worker-init",payload:{arg:v}}})},r=0;r<e;++r)n(r)}catch(c){for(var r=0;r<e;++r){var a=t[r];P(a)}throw c}return H.workerReady=Promise.all(i),H.workerReady},checkIdleWorker:function(){if(H.unusedWorkers.length>0&&H.workQueue.length>0){var e=H.unusedWorkers.shift(),i=H.workQueue.shift();H.runningWorkers.push(e),e.postMessage({__emnapi__:{type:"async-work-execute",payload:{work:i}}})}},getResource:function(e){return L.loadSizeTypeValue(e+H.offset.resource,!1)},getExecute:function(e){return L.loadSizeTypeValue(e+H.offset.execute,!1)},getComplete:function(e){return L.loadSizeTypeValue(e+H.offset.complete,!1)},getEnv:function(e){return L.loadSizeTypeValue(e+H.offset.env,!1)},getData:function(e){return L.loadSizeTypeValue(e+H.offset.data,!1)},scheduleWork:function(e){var i;if(d){var t=E.postMessage;t({__emnapi__:{type:"async-work-queue",payload:{work:e}}});return}if(o.increaseWaitingRequestCounter(),H.workQueue.push(e),!((i=H.workerReady)===null||i===void 0)&&i.ready)H.checkIdleWorker();else{var r=function(n){throw o.decreaseWaitingRequestCounter(),n};try{H.initWorkers(D()).then(function(){H.workerReady.ready=!0,H.checkIdleWorker()},r)}catch(n){r(n)}}},cancelWork:function(e){if(d){var i=E.postMessage;return i({__emnapi__:{type:"async-work-cancel",payload:{work:e}}}),0}var t=H.workQueue.indexOf(e);return t!==-1?(H.workQueue.splice(t,1),o.feature.setImmediate(function(){o.decreaseWaitingRequestCounter(),H.checkIdleWorker(),H.callComplete(e,11)}),0):9},callComplete:function(e,i){var t=H.getComplete(e),r=H.getEnv(e),n=H.getData(e),a=o.envStore.get(r),c=o.openScope(a),l=function(){t&&a.callbackIntoModule(!0,function(){k.get(t)(r,i,n)})};try{if(g){var _=H.getResource(e),v=o.refStore.get(_).get(),S=o.handleStore.get(v).value,A=new DataView(h.buffer),N=A.getFloat64(e+H.offset.async_id,!0),x=A.getFloat64(e+H.offset.trigger_async_id,!0);g.node.makeCallback(S,l,[],{asyncId:N,triggerAsyncId:x})}else l()}finally{o.closeScope(a,c)}}},qt=B?function(e,i,t,r,n,a,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!r||!c)return l.setLastError(1);var _;if(i?_=Object(o.handleStore.get(i).value):_={},!t)return l.setLastError(1);var v=String(o.handleStore.get(t).value),S=te.create(e,_,v,r,n,a),A=new DataView(h.buffer);return A.setInt32(c,S,!0),l.clearLastError()}:function(e,i,t,r,n,a,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!r||!c)return l.setLastError(1);var _;if(i?_=Object(o.handleStore.get(i).value):_={},!t)return l.setLastError(1);var v=H.offset.end,S=F(v);if(!S)return l.setLastError(9);new Uint8Array(h.buffer).subarray(S,S+v).fill(0);var A=l.ensureHandleId(_),N=o.createReference(l,A,1,1),x=N.id,W=new DataView(h.buffer);return W.setInt32(S,x,!0),ar(A,t,-1,S+H.offset.async_id),W.setInt32(S+H.offset.env,e,!0),W.setInt32(S+H.offset.execute,r,!0),W.setInt32(S+H.offset.complete,n,!0),W.setInt32(S+H.offset.data,a,!0),W.setInt32(c,S,!0),l.clearLastError()},Kt=B?function(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?(te.remove(i),t.clearLastError()):t.setLastError(1)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=H.getResource(i);if(o.refStore.get(r).dispose(),g){var n=new DataView(h.buffer),a=n.getFloat64(i+H.offset.async_id,!0),c=n.getFloat64(i+H.offset.trigger_async_id,!0);sr(a,c)}return P(i),t.clearLastError()},$t=B?function(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(te.queue(i),t.clearLastError()):t.setLastError(1)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(H.scheduleWork(i),t.clearLastError()):t.setLastError(1)},Qt=B?function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=te.cancel(i);return r===0?t.clearLastError():t.setLastError(r)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=H.cancelWork(i);return r===0?t.clearLastError():t.setLastError(r)};function Yt(e){if(E.childThread){if(typeof w.exports.emnapi_async_worker_init!="function")throw new TypeError("`emnapi_async_worker_init` is not exported, please try to add `--export=emnapi_async_worker_init` to linker flags");w.exports.emnapi_async_worker_init(e)}else throw new Error("startThread is only available in child threads")}function Xt(e){if(d){var i=H.getExecute(e),t=H.getEnv(e),r=H.getData(e);k.get(i)(t,r);var n=E.postMessage;n({__emnapi__:{type:"async-work-complete",payload:{work:e}}})}}E.initWorker=Yt,E.executeAsyncWork=Xt;var Zt=Object.freeze({__proto__:null,napi_cancel_async_work:Qt,napi_create_async_work:qt,napi_delete_async_work:Kt,napi_queue_async_work:$t}),K={registry:typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){P(e)}):void 0,table:new WeakMap,wasmMemoryViewTable:new WeakMap,init:function(){K.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){P(e)}):void 0,K.table=new WeakMap,K.wasmMemoryViewTable=new WeakMap},isDetachedArrayBuffer:function(e){if(e.byteLength===0)try{new Uint8Array(e)}catch{return!0}return!1},getArrayBufferPointer:function(e,i){var t,r={address:0,ownership:0,runtimeAllocated:0};if(e===h.buffer)return r;var n=K.isDetachedArrayBuffer(e);if(K.table.has(e)){var a=K.table.get(e);return n?(a.address=0,a):(i&&a.ownership===0&&a.runtimeAllocated===1&&new Uint8Array(h.buffer).set(new Uint8Array(e),a.address),a)}if(n||e.byteLength===0||!i)return r;var c=F(e.byteLength);if(!c)throw new Error("Out of memory");return new Uint8Array(h.buffer).set(new Uint8Array(e),c),r.address=c,r.ownership=K.registry?0:1,r.runtimeAllocated=1,K.table.set(e,r),(t=K.registry)===null||t===void 0||t.register(e,c),r},getOrUpdateMemoryView:function(e){if(e.buffer===h.buffer)return K.wasmMemoryViewTable.has(e)||K.wasmMemoryViewTable.set(e,{Ctor:e.constructor,address:e.byteOffset,length:e instanceof DataView?e.byteLength:e.length,ownership:1,runtimeAllocated:0}),e;var i=K.isDetachedArrayBuffer(e.buffer)||typeof SharedArrayBuffer=="function"&&e.buffer instanceof SharedArrayBuffer;if(i&&K.wasmMemoryViewTable.has(e)){var t=K.wasmMemoryViewTable.get(e),r=t.Ctor,n=void 0,a=o.feature.Buffer;return typeof a=="function"&&r===a?n=a.from(h.buffer,t.address,t.length):n=new r(h.buffer,t.address,t.length),K.wasmMemoryViewTable.set(n,t),n}return e},getViewPointer:function(e,i){if(e=K.getOrUpdateMemoryView(e),e.buffer===h.buffer){if(K.wasmMemoryViewTable.has(e)){var t=K.wasmMemoryViewTable.get(e),r=t.address,n=t.ownership,a=t.runtimeAllocated;return{address:r,ownership:n,runtimeAllocated:a,view:e}}return{address:e.byteOffset,ownership:1,runtimeAllocated:0,view:e}}var c=K.getArrayBufferPointer(e.buffer,i),l=c.address,_=c.ownership,v=c.runtimeAllocated;return{address:l===0?0:l+e.byteOffset,ownership:_,runtimeAllocated:v,view:e}}},Z={utf8Decoder:void 0,utf16Decoder:void 0,init:function(){var e={decode:function(n){for(var a=0,c=Math.min(4096,n.length+1),l=new Uint16Array(c),_=[],v=0;;){var S=a<n.length;if(!S||v>=c-1){var A=l.subarray(0,v),N=A;if(_.push(String.fromCharCode.apply(null,N)),!S)return _.join("");n=n.subarray(a),a=0,v=0}var x=n[a++];if((x&128)===0)l[v++]=x;else if((x&224)===192){var W=n[a++]&63;l[v++]=(x&31)<<6|W}else if((x&240)===224){var W=n[a++]&63,G=n[a++]&63;l[v++]=(x&31)<<12|W<<6|G}else if((x&248)===240){var W=n[a++]&63,G=n[a++]&63,Q=n[a++]&63,ne=(x&7)<<18|W<<12|G<<6|Q;ne>65535&&(ne-=65536,l[v++]=ne>>>10&1023|55296,ne=56320|ne&1023),l[v++]=ne}}}},i;i=typeof TextDecoder=="function"?new TextDecoder:e,Z.utf8Decoder=i;var t={decode:function(n){var a=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);if(a.length<=4096)return String.fromCharCode.apply(null,a);for(var c=[],l=0,_=0;l<a.length;l+=_)_=Math.min(4096,a.length-l),c.push(String.fromCharCode.apply(null,a.subarray(l,l+_)));return c.join("")}},r;r=typeof TextDecoder=="function"?new TextDecoder("utf-16le"):t,Z.utf16Decoder=r},lengthBytesUTF8:function(e){for(var i,t=0,r=0;r<e.length;++r)i=e.charCodeAt(r),i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3;return t},UTF8ToString:function(e,i){if(!e||!i)return"";e>>>=0;var t=new Uint8Array(h.buffer),r=e;if(i===-1)for(;t[r];)++r;else r=e+(i>>>0);if(i=r-e,i<=16){for(var n=e,a="";n<r;){var c=t[n++];if(!(c&128)){a+=String.fromCharCode(c);continue}var l=t[n++]&63;if((c&224)===192){a+=String.fromCharCode((c&31)<<6|l);continue}var _=t[n++]&63;if((c&240)===224?c=(c&15)<<12|l<<6|_:c=(c&7)<<18|l<<12|_<<6|t[n++]&63,c<65536)a+=String.fromCharCode(c);else{var v=c-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}return Z.utf8Decoder.decode(typeof SharedArrayBuffer=="function"&&t.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(t.buffer)==="[object SharedArrayBuffer]"?t.slice(e,r):t.subarray(e,r))},stringToUTF8:function(e,i,t){var r=new Uint8Array(h.buffer),n=i;if(n>>>=0,!(t>0))return 0;for(var a=n,c=n+t-1,l=0;l<e.length;++l){var _=e.charCodeAt(l);if(_>=55296&&_<=57343){var v=e.charCodeAt(++l);_=65536+((_&1023)<<10)|v&1023}if(_<=127){if(n>=c)break;r[n++]=_}else if(_<=2047){if(n+1>=c)break;r[n++]=192|_>>6,r[n++]=128|_&63}else if(_<=65535){if(n+2>=c)break;r[n++]=224|_>>12,r[n++]=128|_>>6&63,r[n++]=128|_&63}else{if(n+3>=c)break;r[n++]=240|_>>18,r[n++]=128|_>>12&63,r[n++]=128|_>>6&63,r[n++]=128|_&63}}return r[n]=0,n-a},UTF16ToString:function(e,i){if(!e||!i)return"";e>>>=0;var t=e;if(i===-1){for(var r=t>>1,n=new Uint16Array(h.buffer);n[r];)++r;t=r<<1}else t=e+(i>>>0)*2;if(i=t-e,i<=32)return String.fromCharCode.apply(null,new Uint16Array(h.buffer,e,i/2));var a=new Uint8Array(h.buffer);return Z.utf16Decoder.decode(typeof SharedArrayBuffer=="function"&&a.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(a.buffer)==="[object SharedArrayBuffer]"?a.slice(e,t):a.subarray(e,t))},stringToUTF16:function(e,i,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var r=i,n=t<e.length*2?t/2:e.length,a=new DataView(h.buffer),c=0;c<n;++c){var l=e.charCodeAt(c);a.setInt16(i,l,!0),i+=2}return a.setInt16(i,0,!0),i-r},newString:function(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);a.checkGCAccess();var c=t===-1,l=t>>>0;if(t!==0&&!i||!r||!(c||l<=2147483647))return a.setLastError(1);var _=n(i,c,l),v=o.addToCurrentScope(_).id,S=new DataView(h.buffer);return S.setInt32(r,v,!0),a.clearLastError()},newExternalString:function(e,i,t,r,n,a,c,l,_){if(!e)return 1;var v=o.envStore.get(e);v.checkGCAccess();var S=t===-1,A=t>>>0;if(t!==0&&!i||!a||!(S||A<=2147483647))return v.setLastError(1);var N=l(e,i,t,a);if(N===0){if(c){var x=new DataView(h.buffer);x.setInt8(c,1,!0)}r&&v.callFinalizer(r,i,n)}return N}};function en(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(!n.isArray())return r.setLastError(8);var a=n.value.length>>>0,c=new DataView(h.buffer);return c.setUint32(t,a,!0),r.getReturnStatus()}catch(l){return r.tryCatch.setError(l),r.setLastError(10)}}function rn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i)return n.setLastError(1);var a=o.handleStore.get(i);if(!a.isArrayBuffer())return n.setLastError(1);var c=new DataView(h.buffer);if(t){var l=K.getArrayBufferPointer(a.value,!0).address;c.setInt32(t,l,!0)}return r&&c.setUint32(r,a.value.byteLength,!0),n.clearLastError()}function tn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(n.value==null)throw new TypeError("Cannot convert undefined or null to object");var a=void 0;try{a=n.isObject()||n.isFunction()?n.value:Object(n.value)}catch{return r.setLastError(2)}var c=r.ensureHandleId(Object.getPrototypeOf(a)),l=new DataView(h.buffer);return l.setInt32(t,c,!0),r.getReturnStatus()}catch(_){return r.tryCatch.setError(_),r.setLastError(10)}}function Nr(e,i,t,r,n,a,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!i)return l.setLastError(1);var _=o.handleStore.get(i);if(!_.isTypedArray())return l.setLastError(1);var v=_.value,S=new DataView(h.buffer);if(t){var A=void 0;if(v instanceof Int8Array)A=0;else if(v instanceof Uint8Array)A=1;else if(v instanceof Uint8ClampedArray)A=2;else if(v instanceof Int16Array)A=3;else if(v instanceof Uint16Array)A=4;else if(v instanceof Int32Array)A=5;else if(v instanceof Uint32Array)A=6;else if(v instanceof Float32Array)A=7;else if(v instanceof Float64Array)A=8;else if(v instanceof BigInt64Array)A=9;else if(v instanceof BigUint64Array)A=10;else return l.setLastError(9);S.setInt32(t,A,!0)}r&&S.setUint32(r,v.length,!0);var N;if(n||a){if(N=v.buffer,n){var x=K.getViewPointer(v,!0).address;S.setInt32(n,x,!0)}if(a){var W=l.ensureHandleId(N);S.setInt32(a,W,!0)}}return c&&S.setUint32(c,v.byteOffset,!0),l.clearLastError()}function nn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isBuffer(o.feature.Buffer)?a.isDataView()?xr(e,i,r,t,0,0):Nr(e,i,0,r,t,0,0):n.setLastError(1)}function xr(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!i)return c.setLastError(1);var l=o.handleStore.get(i);if(!l.isDataView())return c.setLastError(1);var _=l.value,v=new DataView(h.buffer);t&&v.setUint32(t,_.byteLength,!0);var S;if(r||n){if(S=_.buffer,r){var A=K.getViewPointer(_,!0).address;v.setInt32(r,A,!0)}if(n){var N=c.ensureHandleId(S);v.setInt32(n,N,!0)}}return a&&v.setUint32(a,_.byteOffset,!0),c.clearLastError()}function an(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(!a.isDate())return n.setLastError(1);r=a.value.valueOf();var c=new DataView(h.buffer);return c.setFloat64(t,r,!0),n.getReturnStatus()}catch(l){return n.tryCatch.setError(l),n.setLastError(10)}}function sn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="boolean")return r.setLastError(7);var a=n.value?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function on(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=n.value,c=new DataView(h.buffer);return c.setFloat64(t,a,!0),r.clearLastError()}function un(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);if(!i||!t||!r)return n.setLastError(1);var a=o.handleStore.get(i),c=a.value;if(typeof c!="bigint")return n.setLastError(6);var l=new DataView(h.buffer);c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)?l.setInt8(r,1,!0):(l.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return l.setInt32(t,_,!0),l.setInt32(t+4,v,!0),n.clearLastError()}function cn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);if(!i||!t||!r)return n.setLastError(1);var a=o.handleStore.get(i),c=a.value;if(typeof c!="bigint")return n.setLastError(6);var l=new DataView(h.buffer);c>=BigInt(0)&&c<BigInt(1)<<BigInt(64)?l.setInt8(r,1,!0):(l.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return l.setUint32(t,_,!0),l.setUint32(t+4,v,!0),n.clearLastError()}function fn(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!o.feature.supportBigInt)return a.setLastError(9);if(!i||!r)return a.setLastError(1);var c=o.handleStore.get(i);if(!c.isBigInt())return a.setLastError(17);for(var l=c.value<BigInt(0),_=new DataView(h.buffer),v=_.getUint32(r,!0),S=0,A=l?c.value*BigInt(-1):c.value;A!==BigInt(0);)S++,A=A>>BigInt(64);if(A=l?c.value*BigInt(-1):c.value,!t&&!n)v=S,_.setUint32(r,v,!0);else{if(!t||!n)return a.setLastError(1);for(var N=[];A!==BigInt(0);){var x=A&(BigInt(1)<<BigInt(64))-BigInt(1);N.push(x),A=A>>BigInt(64)}for(var W=Math.min(v,N.length),G=0;G<W;G++){var Q=Number(N[G]&BigInt(4294967295)),ne=Number(N[G]>>BigInt(32));_.setUint32(n+G*8,Q,!0),_.setUint32(n+(G*8+4),ne,!0)}_.setInt32(t,l?1:0,!0),_.setUint32(r,W,!0)}return a.clearLastError()}function ln(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(!n.isExternal())return r.setLastError(1);var a=n.data(),c=new DataView(h.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function dn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=new Int32Array([n.value])[0],c=new DataView(h.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function pn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=n.value,c=new DataView(h.buffer);return a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY||isNaN(a)?(c.setInt32(t,0,!0),c.setInt32(t+4,0,!0)):a<-9223372036854776e3?(c.setInt32(t,0,!0),c.setInt32(t+4,2147483648,!0)):a>=9223372036854776e3?(c.setUint32(t,4294967295,!0),c.setUint32(t+4,2147483647,!0)):ge(t,Math.trunc(a)),r.clearLastError()}function hn(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){for(var _=0,v=void 0,S=0;S<r-1;++S)v=c.value.charCodeAt(S)&255,l.setUint8(t+S,v,!0),_++;l.setUint8(t+_,0,!0),n&&l.setUint32(n,_,!0)}else n&&l.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);l.setUint32(n,c.value.length,!0)}return a.clearLastError()}function _n(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){var v=Z.stringToUTF8(c.value,t,r);n&&l.setUint32(n,v,!0)}else n&&l.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);var _=Z.lengthBytesUTF8(c.value);l.setUint32(n,_,!0)}return a.clearLastError()}function vn(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){var _=Z.stringToUTF16(c.value,t,r*2);n&&l.setUint32(n,_/2,!0)}else n&&l.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);l.setUint32(n,c.value.length,!0)}return a.clearLastError()}function gn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=new Uint32Array([n.value])[0],c=new DataView(h.buffer);return c.setUint32(t,a,!0),r.clearLastError()}var yn=Object.freeze({__proto__:null,napi_get_array_length:en,napi_get_arraybuffer_info:rn,napi_get_buffer_info:nn,napi_get_dataview_info:xr,napi_get_date_value:an,napi_get_prototype:tn,napi_get_typedarray_info:Nr,napi_get_value_bigint_int64:un,napi_get_value_bigint_uint64:cn,napi_get_value_bigint_words:fn,napi_get_value_bool:sn,napi_get_value_double:on,napi_get_value_external:ln,napi_get_value_int32:dn,napi_get_value_int64:pn,napi_get_value_string_latin1:hn,napi_get_value_string_utf16:vn,napi_get_value_string_utf8:_n,napi_get_value_uint32:gn});function En(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i).id,a=new DataView(h.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function mn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i>>>0).id,a=new DataView(h.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function wn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);n.checkGCAccess();var a;if(!t)return n.setLastError(1);a=Number(i);var c=o.addToCurrentScope(a).id,l=new DataView(h.buffer);return l.setInt32(t,c,!0),n.clearLastError()}function bn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i).id,a=new DataView(h.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function or(e,i,t,r){return Z.newString(e,i,t,r,function(n,a,c){var l="",_=0,v=new DataView(h.buffer);if(a)for(;;){var S=v.getUint8(n,!0);if(!S)break;l+=String.fromCharCode(S),n++}else for(;_<c;){var S=v.getUint8(n,!0);if(!S)break;l+=String.fromCharCode(S),_++,n++}return l})}function ur(e,i,t,r){return Z.newString(e,i,t,r,function(n){return Z.UTF16ToString(n,t)})}function Pr(e,i,t,r){return Z.newString(e,i,t,r,function(n){return Z.UTF8ToString(n,t)})}function An(e,i,t,r,n,a,c){return Z.newExternalString(e,i,t,r,n,a,c,or,void 0)}function Sn(e,i,t,r,n,a,c){return Z.newExternalString(e,i,t,r,n,a,c,ur,void 0)}function In(e,i,t,r){return or(e,i,t,r)}function Ln(e,i,t,r){return Pr(e,i,t,r)}function Tn(e,i,t,r){return ur(e,i,t,r)}function Cn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);var a;if(!t)return n.setLastError(1);a=i;var c=o.addToCurrentScope(a).id,l=new DataView(h.buffer);return l.setInt32(t,c,!0),n.clearLastError()}function kn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);var a;if(!t)return n.setLastError(1);a=i&(BigInt(1)<<BigInt(64))-BigInt(1);var c=o.addToCurrentScope(a).id,l=new DataView(h.buffer);return l.setInt32(t,c,!0),n.clearLastError()}function Dn(e,i,t,r,n){var a,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!o.feature.supportBigInt)return l.setLastError(9);if(!n||(t=t>>>0,t>2147483647))return l.setLastError(1);if(t>16384)throw new RangeError("Maximum BigInt size exceeded");var _=BigInt(0),v=new DataView(h.buffer);for(c=0;c<t;c++){var S=v.getUint32(r+c*8,!0),A=v.getUint32(r+(c*8+4),!0),N=BigInt(S)|BigInt(A)<<BigInt(32);_+=N<<BigInt(64*c)}return _*=BigInt(i)%BigInt(2)===BigInt(0)?BigInt(1):BigInt(-1),a=o.addToCurrentScope(_).id,v.setInt32(n,a,!0),l.getReturnStatus()}catch(x){return l.tryCatch.setError(x),l.setLastError(10)}}var Bn=Object.freeze({__proto__:null,napi_create_bigint_int64:Cn,napi_create_bigint_uint64:kn,napi_create_bigint_words:Dn,napi_create_double:bn,napi_create_int32:En,napi_create_int64:wn,napi_create_string_latin1:or,napi_create_string_utf16:ur,napi_create_string_utf8:Pr,napi_create_uint32:mn,node_api_create_external_string_latin1:An,node_api_create_external_string_utf16:Sn,node_api_create_property_key_latin1:In,node_api_create_property_key_utf16:Tn,node_api_create_property_key_utf8:Ln});function Fe(e,i,t,r,n){var a=!i||!t?"":Z.UTF8ToString(i,t),c,l=k.get(r),_=function(A){return l(A.id,A.ctx.scopeStore.currentScope.id)},v=function(A,N){return function(){var x=A.ctx.openScope(A),W=x.callbackInfo;W.data=n,W.args=arguments,W.thiz=this,W.fn=c;try{var G=A.callIntoModule(N);return G?A.ctx.handleStore.get(G).value:void 0}finally{W.data=0,W.args=void 0,W.thiz=void 0,W.fn=void 0,A.ctx.closeScope(A,x)}}};if(a==="")return c=v(e,_),{status:0,f:c};if(!/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(a))return{status:1,f:void 0};if(o.feature.supportNewFunction){var S=v(e,_);try{c=new Function("_","return function "+a+'(){"use strict";return _.apply(this,arguments);};')(S)}catch{c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:a})}}else c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:a});return{status:0,f:c}}function cr(e,i,t,r,n,a,c,l,_){if(n||a){var v=void 0,S=void 0;n&&(v=Fe(e,0,0,n,_).f),a&&(S=Fe(e,0,0,a,_).f);var A={configurable:(l&4)!==0,enumerable:(l&2)!==0,get:v,set:S};Object.defineProperty(i,t,A)}else if(r){var N=Fe(e,0,0,r,_).f,A={configurable:(l&4)!==0,enumerable:(l&2)!==0,writable:(l&1)!==0,value:N};Object.defineProperty(i,t,A)}else{var A={configurable:(l&4)!==0,enumerable:(l&2)!==0,writable:(l&1)!==0,value:o.handleStore.get(c).value};Object.defineProperty(i,t,A)}}function Ur(e){var i=o.handleStore.get(e);return i.isObject()||i.isFunction()?(typeof K<"u"&&ArrayBuffer.isView(i.value)&&K.wasmMemoryViewTable.has(i.value)&&(i=o.addToCurrentScope(K.wasmMemoryViewTable.get(i.value))),{status:0,handle:i}):{status:1}}function On(e,i,t,r,n,a){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!o.feature.supportFinalizer){if(r)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "finalize_cb" must be 0(NULL)');if(a)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "result" must be 0(NULL)')}if(!i)return l.setLastError(1);var _=Ur(i);if(_.status!==0)return l.setLastError(_.status);var v=_.handle;if(l.getObjectBinding(v.value).wrapped!==0)return l.setLastError(1);var S=void 0;if(a){if(!r)return l.setLastError(1);S=o.createReferenceWithFinalizer(l,v.id,0,1,r,t,n),c=S.id;var A=new DataView(h.buffer);A.setInt32(a,c,!0)}else r?S=o.createReferenceWithFinalizer(l,v.id,0,0,r,t,n):S=o.createReferenceWithData(l,v.id,0,0,t);return l.getObjectBinding(v.value).wrapped=S.id,l.getReturnStatus()}catch(N){return l.tryCatch.setError(N),l.setLastError(10)}}function Vr(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||r===0&&!t)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(1);var l=a.getObjectBinding(c.value),_=l.wrapped,v=o.refStore.get(_);if(!v)return a.setLastError(1);if(t){n=v.data();var S=new DataView(h.buffer);S.setInt32(t,n,!0)}return r===1&&(l.wrapped=0,v.ownership()===1?v.resetFinalizer():v.dispose()),a.getReturnStatus()}catch(A){return a.tryCatch.setError(A),a.setLastError(10)}}function Fn(e,i,t,r,n,a,c,l){var _,v,S;if(!e)return 1;var A=o.envStore.get(e);if(A.checkGCAccess(),!A.tryCatch.isEmpty())return A.setLastError(10);if(!A.canCallIntoJs())return A.setLastError(A.moduleApiVersion>=10?23:10);A.clearLastError();try{if(!l||!r||(a=a>>>0,a>0&&!c)||t<-1||t>2147483647||!i)return A.setLastError(1);var N=Fe(A,i,t,r,n);if(N.status!==0)return A.setLastError(N.status);for(var x=N.f,W=void 0,G=new DataView(h.buffer),Q=0;Q<a;Q++){_=c+Q*32;var ne=G.getInt32(_,!0),oe=G.getInt32(_+4,!0),ee=G.getInt32(_+8,!0),le=G.getInt32(_+12,!0),ve=G.getInt32(_+16,!0),pe=G.getInt32(_+20,!0);S=G.getInt32(_+24,!0);var ye=G.getInt32(_+28,!0);if(ne)W=Z.UTF8ToString(ne,-1);else if(!oe||(W=o.handleStore.get(oe).value,typeof W!="string"&&typeof W!="symbol"))return A.setLastError(4);if((S&1024)!==0){cr(A,x,W,ee,le,ve,pe,S,ye);continue}cr(A,x.prototype,W,ee,le,ve,pe,S,ye)}var Ie=o.addToCurrentScope(x);return v=Ie.id,G.setInt32(l,v,!0),A.getReturnStatus()}catch(pr){return A.tryCatch.setError(pr),A.setLastError(10)}}function Rn(e,i,t,r,n,a){return On(e,i,t,r,n,a)}function Nn(e,i,t){return Vr(e,i,t,0)}function xn(e,i,t){return Vr(e,i,t,1)}function Pn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i)return r.setLastError(r.tryCatch.hasCaught()?10:1);var n=o.handleStore.get(i);if(!(n.isObject()||n.isFunction()))return r.setLastError(r.tryCatch.hasCaught()?10:2);if(!t)return r.setLastError(r.tryCatch.hasCaught()?10:1);var a=r.getObjectBinding(n.value);if(a.tag!==null)return r.setLastError(r.tryCatch.hasCaught()?10:1);var c=new Uint8Array(16);return c.set(new Uint8Array(h.buffer,t,16)),a.tag=new Uint32Array(c.buffer),r.getReturnStatus()}catch(l){return r.tryCatch.setError(l),r.setLastError(10)}}function Un(e,i,t,r){var n=!0;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i)return a.setLastError(a.tryCatch.hasCaught()?10:1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(a.tryCatch.hasCaught()?10:2);if(!t||!r)return a.setLastError(a.tryCatch.hasCaught()?10:1);var l=a.getObjectBinding(c.value);if(l.tag!==null){var _=l.tag,v=new Uint32Array(h.buffer,t,4);n=_[0]===v[0]&&_[1]===v[1]&&_[2]===v[2]&&_[3]===v[3]}else n=!1;var S=new DataView(h.buffer);return S.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(A){return a.tryCatch.setError(A),a.setLastError(10)}}function fr(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!o.feature.supportFinalizer)return c.setLastError(9);if(!i||!r)return c.setLastError(1);var l=Ur(i);if(l.status!==0)return c.setLastError(l.status);var _=l.handle,v=a?1:0,S=o.createReferenceWithFinalizer(c,_.id,0,v,r,t,n);if(a){var A=S.id,N=new DataView(h.buffer);N.setInt32(a,A,!0)}return c.clearLastError()}function Vn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);return n.enqueueFinalizer(o.createTrackedFinalizer(n,i,t,r)),n.clearLastError()}var Wn=Object.freeze({__proto__:null,napi_add_finalizer:fr,napi_check_object_type_tag:Un,napi_define_class:Fn,napi_remove_wrap:xn,napi_type_tag_object:Pn,napi_unwrap:Nn,napi_wrap:Rn,node_api_post_finalizer:Vn});function Wr(e,i,t,r,n,a,c){var l;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!c)return _.setLastError(1);if(r=r>>>0,t||(r=0),r>2147483647)throw new RangeError("Cannot create a memory view larger than 2147483647 bytes");if(t+r>h.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&n)throw o.createNotSupportWeakRefError("emnapi_create_memory_view",'Parameter "finalize_cb" must be 0(NULL)');var v=void 0;switch(i){case 0:v={Ctor:Int8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 1:v={Ctor:Uint8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 2:v={Ctor:Uint8ClampedArray,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 3:v={Ctor:Int16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 4:v={Ctor:Uint16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 5:v={Ctor:Int32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 6:v={Ctor:Uint32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 7:v={Ctor:Float32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 8:v={Ctor:Float64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 9:v={Ctor:BigInt64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 10:v={Ctor:BigUint64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case-1:v={Ctor:DataView,address:t,length:r,ownership:1,runtimeAllocated:0};break;case-2:{if(!o.feature.Buffer)throw o.createNotSupportBufferError("emnapi_create_memory_view","");v={Ctor:o.feature.Buffer,address:t,length:r,ownership:1,runtimeAllocated:0};break}default:return _.setLastError(1)}var S=v.Ctor,A=i===-2?o.feature.Buffer.from(h.buffer,v.address,v.length):new S(h.buffer,v.address,v.length),N=o.addToCurrentScope(A);if(K.wasmMemoryViewTable.set(A,v),n){var x=fr(e,N.id,t,n,a,0);if(x===10){var W=_.tryCatch.extractException();throw _.clearLastError(),W}else if(x!==0)return _.setLastError(x)}l=N.id;var G=new DataView(h.buffer);return G.setInt32(c,l,!0),_.getReturnStatus()}catch(Q){return _.tryCatch.setError(Q),_.setLastError(10)}}function Mn(){return o.feature.supportFinalizer?1:0}function jn(){return o.feature.supportBigInt?1:0}function Hn(){return g?1:0}function lr(e,i,t,r){t=t??0,t=t>>>0;var n;if(i instanceof ArrayBuffer){var a=K.getArrayBufferPointer(i,!1).address;if(!a)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=i.byteLength-t),r=r>>>0,r===0)return i;n=new Uint8Array(i,t,r);var c=new Uint8Array(h.buffer);return e?c.set(n,a):n.set(c.subarray(a,a+r)),i}if(ArrayBuffer.isView(i)){var l=K.getViewPointer(i,!1),_=l.view,a=l.address;if(!a)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=_.byteLength-t),r=r>>>0,r===0)return _;n=new Uint8Array(_.buffer,_.byteOffset+t,r);var c=new Uint8Array(h.buffer);return e?c.set(n,a):n.set(c.subarray(a,a+r)),_}throw new TypeError("emnapiSyncMemory expect ArrayBuffer or ArrayBufferView as first parameter")}function zn(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t)return c.setLastError(1);var l=new DataView(h.buffer),_=l.getInt32(t,!0),v=c.ctx.handleStore.get(_);if(!v.isArrayBuffer()&&!v.isTypedArray()&&!v.isDataView())return c.setLastError(1);var S=lr(!!i,v.value,r,n);return v.value!==S&&(a=c.ensureHandleId(S),l.setInt32(t,a,!0)),c.getReturnStatus()}catch(A){return c.tryCatch.setError(A),c.setLastError(10)}}function dr(e){var i=e instanceof ArrayBuffer,t=e instanceof DataView,r=ArrayBuffer.isView(e)&&!t;if(!i&&!r&&!t)throw new TypeError("emnapiGetMemoryAddress expect ArrayBuffer or ArrayBufferView as first parameter");var n;return i?n=K.getArrayBufferPointer(e,!1):n=K.getViewPointer(e,!1),{address:n.address,ownership:n.ownership,runtimeAllocated:n.runtimeAllocated}}function Gn(e,i,t,r,n){var a,c,l,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!i||!t&&!r&&!n)return v.setLastError(1);var S=v.ctx.handleStore.get(i);_=dr(S.value),a=_.address;var A=new DataView(h.buffer);return t&&A.setInt32(t,a,!0),r&&(l=_.ownership,A.setInt32(r,l,!0)),n&&(c=_.runtimeAllocated,A.setInt8(n,c,!0)),v.getReturnStatus()}catch(N){return v.tryCatch.setError(N),v.setLastError(10)}}function Jn(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r;try{r=o.getRuntimeVersions().version}catch{return t.setLastError(9)}var n=r.split(".").map(function(c){return Number(c)}),a=new DataView(h.buffer);return a.setUint32(i,n[0],!0),a.setUint32(i+4,n[1],!0),a.setUint32(i+8,n[2],!0),t.clearLastError()}var qn=Object.freeze({__proto__:null,$emnapiGetMemoryAddress:dr,$emnapiSyncMemory:lr,emnapi_create_memory_view:Wr,emnapi_get_memory_address:Gn,emnapi_get_runtime_version:Jn,emnapi_is_node_binding_available:Hn,emnapi_is_support_bigint:jn,emnapi_is_support_weakref:Mn,emnapi_sync_memory:zn});function Kn(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.addToCurrentScope([]).id,n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function $n(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);i=i>>>0;var n=o.addToCurrentScope(new Array(i)).id,a=new DataView(h.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function Mr(e,i){e=e>>>0;var t=new ArrayBuffer(e);if(i){var r=K.getArrayBufferPointer(t,!0).address,n=new DataView(h.buffer);n.setInt32(i,r,!0)}return t}function Qn(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r)return a.setLastError(1);var c=Mr(i,t);n=o.addToCurrentScope(c).id;var l=new DataView(h.buffer);return l.setInt32(r,n,!0),a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function Yn(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!t)return n.setLastError(1);r=o.addToCurrentScope(new Date(i)).id;var a=new DataView(h.buffer);return a.setInt32(t,r,!0),n.getReturnStatus()}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function Xn(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!n)return c.setLastError(1);if(!o.feature.supportFinalizer&&t)throw o.createNotSupportWeakRefError("napi_create_external",'Parameter "finalize_cb" must be 0(NULL)');var l=o.getCurrentScope().addExternal(i);t&&o.createReferenceWithFinalizer(c,l.id,0,0,t,i,r),a=l.id;var _=new DataView(h.buffer);return _.setInt32(n,a,!0),c.clearLastError()}catch(v){return c.tryCatch.setError(v),c.setLastError(10)}}function Zn(e,i,t,r,n,a){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!a)return l.setLastError(1);if(t=t>>>0,i||(t=0),i+t>h.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&r)throw o.createNotSupportWeakRefError("napi_create_external_arraybuffer",'Parameter "finalize_cb" must be 0(NULL)');var _=new ArrayBuffer(t);if(t===0)try{var v=o.feature.MessageChannel,S=new v;S.port1.postMessage(_,[_])}catch{}else{var A=new Uint8Array(_);A.set(new Uint8Array(h.buffer).subarray(i,i+t)),K.table.set(_,{address:i,ownership:1,runtimeAllocated:0})}var N=o.addToCurrentScope(_);if(r){var x=fr(e,N.id,i,r,n,0);if(x===10){var W=l.tryCatch.extractException();throw l.clearLastError(),W}else if(x!==0)return l.setLastError(x)}c=N.id;var G=new DataView(h.buffer);return G.setInt32(a,c,!0),l.getReturnStatus()}catch(Q){return l.tryCatch.setError(Q),l.setLastError(10)}}function ei(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.addToCurrentScope({}).id,n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function ri(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=new DataView(h.buffer);if(i){var c=o.handleStore.get(i),l=c.value;if(typeof l!="string")return r.setLastError(3);var _=o.addToCurrentScope(Symbol(l)).id;n.setInt32(t,_,!0)}else{var a=o.addToCurrentScope(Symbol()).id;n.setInt32(t,a,!0)}return r.clearLastError()}function ti(e,i,t,r,n,a){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!r||!a)return l.setLastError(1);var _=o.handleStore.get(r);if(!_.isArrayBuffer())return l.setLastError(1);var v=_.value,S=function(A,N,x,W,G,Q){var ne;if(G=G>>>0,Q=Q>>>0,x>1&&G%x!==0){var oe=new RangeError("start offset of ".concat((ne=N.name)!==null&&ne!==void 0?ne:""," should be a multiple of ").concat(x));return oe.code="ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT",A.tryCatch.setError(oe),A.setLastError(9)}if(Q*x+G>W.byteLength){var oe=new RangeError("Invalid typed array length");return oe.code="ERR_NAPI_INVALID_TYPEDARRAY_LENGTH",A.tryCatch.setError(oe),A.setLastError(9)}var ee=new N(W,G,Q);W===h.buffer&&(K.wasmMemoryViewTable.has(ee)||K.wasmMemoryViewTable.set(ee,{Ctor:N,address:G,length:Q,ownership:1,runtimeAllocated:0})),c=o.addToCurrentScope(ee).id;var le=new DataView(h.buffer);return le.setInt32(a,c,!0),A.getReturnStatus()};switch(i){case 0:return S(l,Int8Array,1,v,n,t);case 1:return S(l,Uint8Array,1,v,n,t);case 2:return S(l,Uint8ClampedArray,1,v,n,t);case 3:return S(l,Int16Array,2,v,n,t);case 4:return S(l,Uint16Array,2,v,n,t);case 5:return S(l,Int32Array,4,v,n,t);case 6:return S(l,Uint32Array,4,v,n,t);case 7:return S(l,Float32Array,4,v,n,t);case 8:return S(l,Float64Array,8,v,n,t);case 9:return S(l,BigInt64Array,8,v,n,t);case 10:return S(l,BigUint64Array,8,v,n,t);default:return l.setLastError(1)}}catch(A){return l.tryCatch.setError(A),l.setLastError(10)}}function ni(e,i,t,r){var n,a,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!r)return l.setLastError(1);var _=o.feature.Buffer;if(!_)throw o.createNotSupportBufferError("napi_create_buffer","");var v=void 0;i=i>>>0;var S=new DataView(h.buffer);if(!t||i===0)v=_.alloc(i),a=o.addToCurrentScope(v).id,S.setInt32(r,a,!0);else{if(c=F(i),!c)throw new Error("Out of memory");new Uint8Array(h.buffer).subarray(c,c+i).fill(0);var A=_.from(h.buffer,c,i),N={Ctor:_,address:c,length:i,ownership:K.registry?0:1,runtimeAllocated:1};K.wasmMemoryViewTable.set(A,N),(n=K.registry)===null||n===void 0||n.register(N,c),a=o.addToCurrentScope(A).id,S.setInt32(r,a,!0),S.setInt32(t,c,!0)}return l.getReturnStatus()}catch(x){return l.tryCatch.setError(x),l.setLastError(10)}}function ii(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!n)return c.setLastError(1);var l=o.feature.Buffer;if(!l)throw o.createNotSupportBufferError("napi_create_buffer_copy","");var _=Mr(i,r),v=l.from(_);v.set(new Uint8Array(h.buffer).subarray(t,t+i)),a=o.addToCurrentScope(v).id;var S=new DataView(h.buffer);return S.setInt32(n,a,!0),c.getReturnStatus()}catch(A){return c.tryCatch.setError(A),c.setLastError(10)}}function ai(e,i,t,r,n,a){return Wr(e,-2,t,i,r,n,a)}function si(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!i||!n)return c.setLastError(1);t=t>>>0,r=r>>>0;var l=o.handleStore.get(i);if(!l.isArrayBuffer())return c.setLastError(1);var _=l.value;if(r+t>_.byteLength){var v=new RangeError("The byte offset + length is out of range");throw v.code="ERR_OUT_OF_RANGE",v}var S=o.feature.Buffer;if(!S)throw o.createNotSupportBufferError("node_api_create_buffer_from_arraybuffer","");var A=S.from(_,t,r);_===h.buffer&&(K.wasmMemoryViewTable.has(A)||K.wasmMemoryViewTable.set(A,{Ctor:S,address:t,length:r,ownership:1,runtimeAllocated:0})),a=o.addToCurrentScope(A).id;var N=new DataView(h.buffer);return N.setInt32(n,a,!0),c.getReturnStatus()}catch(x){return c.tryCatch.setError(x),c.setLastError(10)}}function oi(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t||!n)return c.setLastError(1);i=i>>>0,r=r>>>0;var l=o.handleStore.get(t);if(!l.isArrayBuffer())return c.setLastError(1);var _=l.value;if(i+r>_.byteLength){var v=new RangeError("byte_offset + byte_length should be less than or equal to the size in bytes of the array passed in");throw v.code="ERR_NAPI_INVALID_DATAVIEW_ARGS",v}var S=new DataView(_,r,i);_===h.buffer&&(K.wasmMemoryViewTable.has(S)||K.wasmMemoryViewTable.set(S,{Ctor:DataView,address:r,length:i,ownership:1,runtimeAllocated:0})),a=o.addToCurrentScope(S).id;var A=new DataView(h.buffer);return A.setInt32(n,a,!0),c.getReturnStatus()}catch(N){return c.tryCatch.setError(N),c.setLastError(10)}}function ui(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!r)return n.setLastError(1);var a=t===-1,c=t>>>0;if(t!==0&&!i||!(a||c<=2147483647))return n.setLastError(1);var l=Z.UTF8ToString(i,t),_=o.addToCurrentScope(Symbol.for(l)).id,v=new DataView(h.buffer);return v.setInt32(r,_,!0),n.clearLastError()}var ci=Object.freeze({__proto__:null,napi_create_array:Kn,napi_create_array_with_length:$n,napi_create_arraybuffer:Qn,napi_create_buffer:ni,napi_create_buffer_copy:ii,napi_create_dataview:oi,napi_create_date:Yn,napi_create_external:Xn,napi_create_external_arraybuffer:Zn,napi_create_external_buffer:ai,napi_create_object:ei,napi_create_symbol:ri,napi_create_typedarray:ti,node_api_create_buffer_from_arraybuffer:si,node_api_symbol_for:ui});function fi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=i===0?3:4,a=new DataView(h.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function li(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=5,n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function di(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=2,n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function pi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=1,n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}var hi=Object.freeze({__proto__:null,napi_get_boolean:fi,napi_get_global:li,napi_get_null:di,napi_get_undefined:pi});function _i(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);return n.setInstanceData(i,t,r),n.clearLastError()}function vi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=t.getInstanceData(),n=new DataView(h.buffer);return n.setInt32(i,r,!0),t.clearLastError()}var gi=Object.freeze({__proto__:null,napi_get_instance_data:vi,napi_set_instance_data:_i});function yi(e,i,t,r){var n=o.envStore.get(e),a=n.lastError,c=a.errorCode,l=a.engineErrorCode>>>0,_=a.engineReserved,v=new DataView(h.buffer);v.setInt32(i,c,!0),v.setUint32(t,l,!0),v.setInt32(r,_,!0)}function Ei(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{return i?(t.tryCatch.setError(o.handleStore.get(i).value),t.clearLastError()):t.setLastError(1)}catch(r){return t.tryCatch.setError(r),t.setLastError(10)}}function mi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new Error(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function wi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new TypeError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function bi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new RangeError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function Ai(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new SyntaxError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function Si(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=t.tryCatch.hasCaught(),n=new DataView(h.buffer);return n.setInt8(i,r?1:0,!0),t.clearLastError()}function Ii(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new Error(a);if(i){var l=o.handleStore.get(i).value;if(typeof l!="string")return n.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Li(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new TypeError(a);if(i){var l=o.handleStore.get(i).value;if(typeof l!="string")return n.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Ti(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new RangeError(a);if(i){var l=o.handleStore.get(i).value;if(typeof l!="string")return n.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Ci(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new SyntaxError(a);if(i){var l=o.handleStore.get(i).value;if(typeof l!="string")return n.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function ki(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=new DataView(h.buffer);if(t.tryCatch.hasCaught()){var n=t.tryCatch.exception(),a=t.ensureHandleId(n);r.setInt32(i,a,!0),t.tryCatch.reset()}else return r.setInt32(i,1,!0),t.clearLastError();return t.clearLastError()}function Di(e,i,t,r){var n=Z.UTF8ToString(e,i),a=Z.UTF8ToString(t,r);g?g.napi.fatalError(n,a):M("FATAL ERROR: "+n+" "+a)}function Bi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=t.ctx.handleStore.get(i);try{t.triggerFatalException(r.value)}catch{return t.setLastError(9)}return t.clearLastError()}catch(n){return t.tryCatch.setError(n),t.setLastError(10)}}var Oi=Object.freeze({__proto__:null,_emnapi_get_last_error_info:yi,napi_create_error:Ii,napi_create_range_error:Ti,napi_create_type_error:Li,napi_fatal_error:Di,napi_fatal_exception:Bi,napi_get_and_clear_last_exception:ki,napi_is_exception_pending:Si,napi_throw:Ei,napi_throw_error:mi,napi_throw_range_error:bi,napi_throw_type_error:wi,node_api_create_syntax_error:Ci,node_api_throw_syntax_error:Ai});function Fi(e,i,t,r,n,a){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!a||!r)return l.setLastError(1);var _=Fe(l,i,t,r,n);if(_.status!==0)return l.setLastError(_.status);var v=_.f,S=o.addToCurrentScope(v);c=S.id;var A=new DataView(h.buffer);return A.setInt32(a,c,!0),l.getReturnStatus()}catch(N){return l.tryCatch.setError(N),l.setLastError(10)}}function Ri(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(!i)return c.setLastError(1);var l=o.scopeStore.get(i).callbackInfo,_=new DataView(h.buffer);if(r){if(!t)return c.setLastError(1);for(var v=_.getUint32(t,!0),S=l.args.length,A=v<S?v:S,N=0;N<A;N++){var x=c.ensureHandleId(l.args[N]);_.setInt32(r+N*4,x,!0)}if(N<v)for(;N<v;N++)_.setInt32(r+N*4,1,!0)}if(t&&_.setUint32(t,l.args.length,!0),n){var W=c.ensureHandleId(l.thiz);_.setInt32(n,W,!0)}return a&&_.setInt32(a,l.data,!0),c.clearLastError()}function Ni(e,i,t,r,n,a){var c=0,l;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!i||(r=r>>>0,r>0&&!n))return _.setLastError(1);var v=o.handleStore.get(i).value;if(!t)return _.setLastError(1);var S=o.handleStore.get(t).value;if(typeof S!="function")return _.setLastError(1);for(var A=[],N=new DataView(h.buffer);c<r;c++){var x=N.getInt32(n+c*4,!0);A.push(o.handleStore.get(x).value)}var W=S.apply(v,A);return a&&(l=_.ensureHandleId(W),N.setInt32(a,l,!0)),_.clearLastError()}catch(G){return _.tryCatch.setError(G),_.setLastError(10)}}function xi(e,i,t,r,n){var a,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!i||(t=t>>>0,t>0&&!r)||!n)return l.setLastError(1);var _=o.handleStore.get(i).value;if(typeof _!="function")return l.setLastError(1);var v=void 0,S=new DataView(h.buffer);if(o.feature.supportReflect){var A=Array(t);for(a=0;a<t;a++){var N=S.getInt32(r+a*4,!0);A[a]=o.handleStore.get(N).value}v=Reflect.construct(_,A,_)}else{var x=Array(t+1);for(x[0]=void 0,a=0;a<t;a++){var N=S.getInt32(r+a*4,!0);x[a+1]=o.handleStore.get(N).value}var W=_.bind.apply(_,x);v=new W}return n&&(c=l.ensureHandleId(v),S.setInt32(n,c,!0)),l.getReturnStatus()}catch(G){return l.tryCatch.setError(G),l.setLastError(10)}}function Pi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.scopeStore.get(i).callbackInfo,a=n.thiz,c=n.fn,l=a==null||a.constructor==null?0:a instanceof c?r.ensureHandleId(a.constructor):0,_=new DataView(h.buffer);return _.setInt32(t,l,!0),r.clearLastError()}var Ui=Object.freeze({__proto__:null,napi_call_function:Ni,napi_create_function:Fi,napi_get_cb_info:Ri,napi_get_new_target:Pi,napi_new_instance:xi});function Vi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.openScope(t),n=new DataView(h.buffer);return n.setInt32(i,r.id,!0),t.clearLastError()}function Wi(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function Mi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.openScope(t),n=new DataView(h.buffer);return n.setInt32(i,r.id,!0),t.clearLastError()}function ji(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function Hi(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i||!t||!r)return n.setLastError(1);var a=o.scopeStore.get(i);if(!a.escapeCalled()){var c=a.escape(t),l=c?c.id:0,_=new DataView(h.buffer);return _.setInt32(r,l,!0),n.clearLastError()}return n.setLastError(12)}function zi(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i||!r)return n.setLastError(1);var a=o.handleStore.get(i);if(n.moduleApiVersion<10&&!(a.isObject()||a.isFunction()||a.isSymbol()))return n.setLastError(1);var c=o.createReference(n,a.id,t>>>0,1),l=new DataView(h.buffer);return l.setInt32(r,c.id,!0),n.clearLastError()}function Gi(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(o.refStore.get(i).dispose(),t.clearLastError()):t.setLastError(1)}function Ji(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i)return r.setLastError(1);var n=o.refStore.get(i).ref();if(t){var a=new DataView(h.buffer);a.setUint32(t,n,!0)}return r.clearLastError()}function qi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i)return r.setLastError(1);var n=o.refStore.get(i),a=n.refcount();if(a===0)return r.setLastError(9);var c=n.unref();if(t){var l=new DataView(h.buffer);l.setUint32(t,c,!0)}return r.clearLastError()}function Ki(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.refStore.get(i),a=n.get(r),c=new DataView(h.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function $i(e,i,t){if(!e)return 1;var r=o.envStore.get(e);return i?(o.addCleanupHook(r,i,t),0):r.setLastError(1)}function Qi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);return i?(o.removeCleanupHook(r,i,t),0):r.setLastError(1)}function Yi(e){var i=o.envStore.get(e);i.ref()}function Xi(e){var i=o.envStore.get(e);i.unref()}var Zi=Object.freeze({__proto__:null,_emnapi_env_ref:Yi,_emnapi_env_unref:Xi,napi_add_env_cleanup_hook:$i,napi_close_escapable_handle_scope:ji,napi_close_handle_scope:Wi,napi_create_reference:zi,napi_delete_reference:Gi,napi_escape_handle:Hi,napi_get_reference_value:Ki,napi_open_escapable_handle_scope:Mi,napi_open_handle_scope:Vi,napi_reference_ref:Ji,napi_reference_unref:qi,napi_remove_env_cleanup_hook:Qi});function ea(e,i,t){var r=o.envStore.get(e),n=r.filename;return i?Z.stringToUTF8(n,i,t):Z.lengthBytesUTF8(n)}var ra=Object.freeze({__proto__:null,_emnapi_get_filename:ea});function ta(e,i,t){var r,n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t)return a.setLastError(1);var c=new DataView(h.buffer),l=new Promise(function(_,v){var S=o.createDeferred({resolve:_,reject:v});r=S.id,c.setInt32(i,r,!0)});return n=o.addToCurrentScope(l).id,c.setInt32(t,n,!0),a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function na(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.deferredStore.get(i);return n.resolve(o.handleStore.get(t).value),r.getReturnStatus()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function ia(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.deferredStore.get(i);return n.reject(o.handleStore.get(t).value),r.getReturnStatus()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function aa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isPromise()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}var sa=Object.freeze({__proto__:null,napi_create_promise:ta,napi_is_promise:aa,napi_reject_deferred:ia,napi_resolve_deferred:na});function jr(e,i,t,r,n,a){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!a||!i)return l.setLastError(1);var _=o.handleStore.get(i);if(_.value==null)throw new TypeError("Cannot convert undefined or null to object");var v=void 0;try{v=_.isObject()||_.isFunction()?_.value:Object(_.value)}catch{return l.setLastError(2)}if(t!==0&&t!==1||n!==0&&n!==1)return l.setLastError(1);var S=[],A=void 0,N=void 0,x=void 0,W=!0,G=/^(0|[1-9][0-9]*)$/;do{for(A=Object.getOwnPropertyNames(v),N=Object.getOwnPropertySymbols(v),x=0;x<A.length;x++)S.push({name:G.test(A[x])?Number(A[x]):A[x],desc:Object.getOwnPropertyDescriptor(v,A[x]),own:W});for(x=0;x<N.length;x++)S.push({name:N[x],desc:Object.getOwnPropertyDescriptor(v,N[x]),own:W});if(t===1)break;v=Object.getPrototypeOf(v),W=!1}while(v);var Q=[],ne=function(ye,Ie,pr,Hr){if(ye.indexOf(Ie)===-1){if(Hr===0)ye.push(Ie);else if(Hr===1){var hr=typeof Ie=="number"?String(Ie):Ie;typeof hr=="string"&&pr&8||ye.push(hr)}}};for(x=0;x<S.length;x++){var oe=S[x],ee=oe.name,le=oe.desc;if(r===0)ne(Q,ee,r,n);else{if(r&8&&typeof ee=="string"||r&16&&typeof ee=="symbol")continue;var ve=!0;switch(r&7){case 1:{ve=!!le.writable;break}case 2:{ve=!!le.enumerable;break}case 3:{ve=!!(le.writable&&le.enumerable);break}case 4:{ve=!!le.configurable;break}case 5:{ve=!!(le.configurable&&le.writable);break}case 6:{ve=!!(le.configurable&&le.enumerable);break}case 7:{ve=!!(le.configurable&&le.enumerable&&le.writable);break}}ve&&ne(Q,ee,r,n)}}c=o.addToCurrentScope(Q).id;var pe=new DataView(h.buffer);return pe.setInt32(a,c,!0),l.getReturnStatus()}catch(ye){return l.tryCatch.setError(ye),l.setLastError(10)}}function oa(e,i,t){return jr(e,i,0,18,1,t)}function ua(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!t||!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?(a.value[o.handleStore.get(t).value]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function ca(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=o.handleStore.get(t).value in l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function fa(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(l[o.handleStore.get(t).value]);var _=new DataView(h.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function la(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(2);var l=o.handleStore.get(t).value;if(o.feature.supportReflect)n=Reflect.deleteProperty(c.value,l);else try{n=delete c.value[l]}catch{n=!1}if(r){var _=new DataView(h.buffer);_.setInt8(r,n?1:0,!0)}return a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function da(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}var _=o.handleStore.get(t).value;if(typeof _!="string"&&typeof _!="symbol")return a.setLastError(4);n=Object.prototype.hasOwnProperty.call(l,o.handleStore.get(t).value);var v=new DataView(h.buffer);return v.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(S){return a.tryCatch.setError(S),a.setLastError(10)}}function pa(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?t?(o.handleStore.get(i).value[Z.UTF8ToString(t,-1)]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(1):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function ha(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=Z.UTF8ToString(t,-1)in l;var _=new DataView(h.buffer);return _.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function _a(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(l[Z.UTF8ToString(t,-1)]);var _=new DataView(h.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function va(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?(a.value[t>>>0]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function ga(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=t>>>0 in l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function ya(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(l[t>>>0]);var _=new DataView(h.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function Ea(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(2);if(o.feature.supportReflect)n=Reflect.deleteProperty(c.value,t>>>0);else try{n=delete c.value[t>>>0]}catch{n=!1}if(r){var l=new DataView(h.buffer);l.setInt8(r,n?1:0,!0)}return a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function ma(e,i,t,r){var n,a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(t=t>>>0,t>0&&!r||!i)return c.setLastError(1);var l=o.handleStore.get(i),_=l.value;if(!(l.isObject()||l.isFunction()))return c.setLastError(2);for(var v=void 0,S=new DataView(h.buffer),A=0;A<t;A++){n=r+A*32;var N=S.getInt32(n,!0),x=S.getInt32(n+4,!0),W=S.getInt32(n+8,!0),G=S.getInt32(n+12,!0),Q=S.getInt32(n+16,!0),ne=S.getInt32(n+20,!0);a=S.getInt32(n+24,!0);var oe=S.getInt32(n+28,!0);if(N)v=Z.UTF8ToString(N,-1);else if(!x||(v=o.handleStore.get(x).value,typeof v!="string"&&typeof v!="symbol"))return c.setLastError(4);cr(c,_,v,W,G,Q,ne,a,oe)}return c.getReturnStatus()}catch(ee){return c.tryCatch.setError(ee),c.setLastError(10)}}function wa(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=o.handleStore.get(i),n=r.value;return r.isObject()||r.isFunction()?(Object.freeze(n),t.getReturnStatus()):t.setLastError(2)}catch(a){return t.tryCatch.setError(a),t.setLastError(10)}}function ba(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=o.handleStore.get(i),n=r.value;return r.isObject()||r.isFunction()?(Object.seal(n),t.getReturnStatus()):t.setLastError(2)}catch(a){return t.tryCatch.setError(a),t.setLastError(10)}}var Aa=Object.freeze({__proto__:null,napi_define_properties:ma,napi_delete_element:Ea,napi_delete_property:la,napi_get_all_property_names:jr,napi_get_element:ya,napi_get_named_property:_a,napi_get_property:fa,napi_get_property_names:oa,napi_has_element:ga,napi_has_named_property:ha,napi_has_own_property:da,napi_has_property:ca,napi_object_freeze:wa,napi_object_seal:ba,napi_set_element:va,napi_set_named_property:pa,napi_set_property:ua});function Sa(e,i,t){var r,n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(!c.isString())return a.setLastError(3);var l=o.handleStore.get(5).value,_=l.eval(c.value);n=a.ensureHandleId(_);var v=new DataView(h.buffer);v.setInt32(t,n,!0),r=a.getReturnStatus()}catch(S){return a.tryCatch.setError(S),a.setLastError(10)}return r}var Ia=Object.freeze({__proto__:null,napi_run_script:Sa});function La(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a;if(n.isNumber())a=3;else if(n.isBigInt())a=9;else if(n.isString())a=4;else if(n.isFunction())a=7;else if(n.isExternal())a=8;else if(n.isObject())a=6;else if(n.isBoolean())a=2;else if(n.isUndefined())a=0;else if(n.isSymbol())a=5;else if(n.isNull())a=1;else return r.setLastError(1);var c=new DataView(h.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function Ta(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);r=a.value?4:3;var c=new DataView(h.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(l){return n.tryCatch.setError(l),n.setLastError(10)}}function Ca(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.isBigInt())throw new TypeError("Cannot convert a BigInt value to a number");r=o.addToCurrentScope(Number(a.value)).id;var c=new DataView(h.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(l){return n.tryCatch.setError(l),n.setLastError(10)}}function ka(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.value==null)throw new TypeError("Cannot convert undefined or null to object");r=n.ensureHandleId(Object(a.value));var c=new DataView(h.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(l){return n.tryCatch.setError(l),n.setLastError(10)}}function Da(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.isSymbol())throw new TypeError("Cannot convert a Symbol value to a string");r=o.addToCurrentScope(String(a.value)).id;var c=new DataView(h.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(l){return n.tryCatch.setError(l),n.setLastError(10)}}function Ba(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!r||!t)return a.setLastError(1);var c=new DataView(h.buffer);c.setInt8(r,0,!0);var l=o.handleStore.get(t);if(!l.isFunction())return a.setLastError(5);var _=o.handleStore.get(i).value,v=_ instanceof l.value;return n=v?1:0,c.setInt8(r,n,!0),a.getReturnStatus()}catch(S){return a.tryCatch.setError(S),a.setLastError(10)}}function Oa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isArray()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Fa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isArrayBuffer()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Ra(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isDate()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Na(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i).value,a=n instanceof Error?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function xa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isTypedArray()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Pa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isBuffer(o.feature.Buffer)?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Ua(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isDataView()?1:0,c=new DataView(h.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Va(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t||!r)return a.setLastError(1);var c=o.handleStore.get(i).value,l=o.handleStore.get(t).value;n=c===l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function Wa(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.handleStore.get(i).value;if(!(r instanceof ArrayBuffer))return typeof SharedArrayBuffer=="function"&&r instanceof SharedArrayBuffer?t.setLastError(20):t.setLastError(19);try{var n=o.feature.MessageChannel,a=new n;a.port1.postMessage(r,[r])}catch{return t.setLastError(9)}return t.clearLastError()}function Ma(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=new DataView(h.buffer);if(n.isArrayBuffer()&&n.value.byteLength===0)try{new Uint8Array(n.value)}catch{return a.setInt8(t,1,!0),r.getReturnStatus()}return a.setInt8(t,0,!0),r.getReturnStatus()}catch(c){return r.tryCatch.setError(c),r.setLastError(10)}}var ja=Object.freeze({__proto__:null,napi_coerce_to_bool:Ta,napi_coerce_to_number:Ca,napi_coerce_to_object:ka,napi_coerce_to_string:Da,napi_detach_arraybuffer:Wa,napi_instanceof:Ba,napi_is_array:Oa,napi_is_arraybuffer:Fa,napi_is_buffer:Pa,napi_is_dataview:Ua,napi_is_date:Ra,napi_is_detached_arraybuffer:Ma,napi_is_error:Na,napi_is_typedarray:xa,napi_strict_equals:Va,napi_typeof:La});function Ha(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=10,n=new DataView(h.buffer);return n.setUint32(i,r,!0),t.clearLastError()}var za=Object.freeze({__proto__:null,napi_get_version:Ha});te.init(),K.init(),Z.init(),L.init(),R.init(),E.emnapi.syncMemory=lr,E.emnapi.getMemoryAddress=dr;function ce(e){for(var i=Object.keys(e),t=0;t<i.length;++t){var r=i[t];r.indexOf("$")!==0&&(r.indexOf("emnapi_")===0?E.imports.emnapi[r]=e[r]:r.indexOf("_emnapi_")===0||r==="napi_set_last_error"||r==="napi_clear_last_error"?E.imports.env[r]=e[r]:E.imports.napi[r]=e[r])}}return ce(kt),ce(Bt),ce(Zt),ce(we),ce(yn),ce(Bn),ce(ci),ce(hi),ce(Wn),ce(gi),ce(qn),ce(Oi),ce(Ui),ce(Zi),ce(ra),ce(Vt),ce(sa),ce(Aa),ce(Ia),ce(ja),ce(za),E.imports.napi.napi_create_threadsafe_function=Wt,E.imports.napi.napi_get_threadsafe_function_context=Mt,E.imports.napi.napi_call_threadsafe_function=jt,E.imports.napi.napi_acquire_threadsafe_function=Ht,E.imports.napi.napi_release_threadsafe_function=zt,E.imports.napi.napi_unref_threadsafe_function=Gt,E.imports.napi.napi_ref_threadsafe_function=Jt,E})();return s}function ts(u,s,f,d){d=d??{};var p=d.getMemory,w=d.getTable,h=d.beforeInit;if(p!=null&&typeof p!="function")throw new TypeError("options.getMemory is not a function");if(w!=null&&typeof w!="function")throw new TypeError("options.getTable is not a function");if(h!=null&&typeof h!="function")throw new TypeError("options.beforeInit is not a function");var k;k=rs(d);var F=d.wasi,P,M={env:k.imports.env,napi:k.imports.napi,emnapi:k.imports.emnapi};F&&(P=new Ya(k.childThread?{wasi:F,childThread:!0,postMessage:k.postMessage}:{wasi:F,threadManager:k.PThread,waitThreadStart:k.waitThreadStart}),Object.assign(M,typeof F.getImportObject=="function"?F.getImportObject():{wasi_snapshot_preview1:F.wasiImport}),Object.assign(M,P.getImportObject()));var E=d.overwriteImports;if(typeof E=="function"){var o=E(M);typeof o=="object"&&o!==null&&(M=o)}return u(f,M,function(g,y){if(g)throw g;var m=y.instance,b=m,I=m.exports,C="memory"in I,O="memory"in M.env,B=p?p(I):C?I.memory:O?M.env.memory:void 0;if(!B)throw new Error("memory is neither exported nor imported");var D=w?w(I):I.__indirect_function_table;if(F&&!C){var V=Object.create(null);Object.assign(V,I,{memory:B}),b={exports:V}}var R=y.module;F?b=P.initialize(b,R,B):k.PThread.setup(R,B);var U=function(){h&&h({instance:m,module:R}),k.init({instance:b,module:R,memory:B,table:D});var J={instance:m,module:R,usedInstance:b};return J.napiModule=k,J};if(k.PThread.shouldPreloadWorkers()){var j=k.PThread.loadWasmModuleToAllWorkers();if(u===ns)return j.then(U);throw new Error("Synchronous loading is not supported with worker pool (reuseWorker.size > 0)")}return U()})}function ns(u,s,f){return xe(u,s).then(function(d){return f(null,d)},function(d){return f(d)})}function is(u,s,f){var d;try{d=es(u,s)}catch(p){return f(p)}return f(null,d)}function as(u,s){return ts(is,void 0,u,s)}var Ir=new WeakMap;function it(u){return Ir.has(u)}var ss=(function(){function u(s){Object.setPrototypeOf(this,null),Ir.set(this,s)}return u.prototype=null,u})();function os(u){if(!it(u))throw new TypeError("not external");return Ir.get(u)}var at=(function(){var u;try{u=new Function}catch{return!1}return typeof u=="function"})(),st=(function(){if(typeof globalThis<"u")return globalThis;var u=(function(){return this})();if(!u&&at)try{u=new Function("return this")()}catch{}if(!u){if(typeof __webpack_public_path__>"u"&&typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}return u})(),us=(function(){function u(){this._exception=void 0,this._caught=!1}return u.prototype.isEmpty=function(){return!this._caught},u.prototype.hasCaught=function(){return this._caught},u.prototype.exception=function(){return this._exception},u.prototype.setError=function(s){this._caught=!0,this._exception=s},u.prototype.reset=function(){this._caught=!1,this._exception=void 0},u.prototype.extractException=function(){var s=this._exception;return this.reset(),s},u})(),cs=(function(){var u;try{return!!(!((u=Object.getOwnPropertyDescriptor(Function.prototype,"name"))===null||u===void 0)&&u.configurable)}catch{return!1}})(),fs=typeof Reflect=="object",Pe=typeof FinalizationRegistry<"u"&&typeof WeakRef<"u",ls=(function(){try{var u=Symbol();new WeakRef(u),new WeakMap().set(u,void 0)}catch{return!1}return!0})(),ds=typeof BigInt<"u",ot=(function(){var u;return typeof __webpack_public_path__<"u"?u=(function(){return typeof __non_webpack_require__<"u"?__non_webpack_require__:void 0})():u=(function(){return typeof __webpack_public_path__<"u"?typeof __non_webpack_require__<"u"?__non_webpack_require__:void 0:typeof require<"u"?require:void 0})(),u})(),rr=typeof MessageChannel=="function"?MessageChannel:(function(){try{return ot("worker_threads").MessageChannel}catch{}})(),ut=typeof setImmediate=="function"?setImmediate:function(u){if(typeof u!="function")throw new TypeError('The "callback" argument must be of type function');if(rr){var s=new rr;s.port1.onmessage=function(){s.port1.onmessage=null,s=void 0,u()},s.port2.postMessage(null)}else setTimeout(u,0)},ct=typeof Buffer=="function"?Buffer:(function(){try{return ot("buffer").Buffer}catch{}})(),ps="1.4.5",Lr=10,tr=2147483647,Xe=8,ft=(function(){function u(s,f){this.id=s,this.value=f}return u.prototype.data=function(){return os(this.value)},u.prototype.isNumber=function(){return typeof this.value=="number"},u.prototype.isBigInt=function(){return typeof this.value=="bigint"},u.prototype.isString=function(){return typeof this.value=="string"},u.prototype.isFunction=function(){return typeof this.value=="function"},u.prototype.isExternal=function(){return it(this.value)},u.prototype.isObject=function(){return typeof this.value=="object"&&this.value!==null},u.prototype.isArray=function(){return Array.isArray(this.value)},u.prototype.isArrayBuffer=function(){return this.value instanceof ArrayBuffer},u.prototype.isTypedArray=function(){return ArrayBuffer.isView(this.value)&&!(this.value instanceof DataView)},u.prototype.isBuffer=function(s){return ArrayBuffer.isView(this.value)?!0:(s??(s=ct),typeof s=="function"&&s.isBuffer(this.value))},u.prototype.isDataView=function(){return this.value instanceof DataView},u.prototype.isDate=function(){return this.value instanceof Date},u.prototype.isPromise=function(){return this.value instanceof Promise},u.prototype.isBoolean=function(){return typeof this.value=="boolean"},u.prototype.isUndefined=function(){return this.value===void 0},u.prototype.isSymbol=function(){return typeof this.value=="symbol"},u.prototype.isNull=function(){return this.value===null},u.prototype.dispose=function(){this.value=void 0},u})(),Re=(function(u){Ae(s,u);function s(f,d){return u.call(this,f,d)||this}return s.prototype.dispose=function(){},s})(ft),Le=(function(){function u(){this._values=[void 0,u.UNDEFINED,u.NULL,u.FALSE,u.TRUE,u.GLOBAL],this._next=u.MIN_ID}return u.prototype.push=function(s){var f,d=this._next,p=this._values;return d<p.length?(f=p[d],f.value=s):(f=new ft(d,s),p[d]=f),this._next++,f},u.prototype.erase=function(s,f){this._next=s;for(var d=this._values,p=s;p<f;++p)d[p].dispose()},u.prototype.get=function(s){return this._values[s]},u.prototype.swap=function(s,f){var d=this._values,p=d[s];d[s]=d[f],d[s].id=Number(s),d[f]=p,p.id=Number(f)},u.prototype.dispose=function(){this._values.length=u.MIN_ID,this._next=u.MIN_ID},u.UNDEFINED=new Re(1,void 0),u.NULL=new Re(2,null),u.FALSE=new Re(3,!1),u.TRUE=new Re(4,!0),u.GLOBAL=new Re(5,st),u.MIN_ID=6,u})(),Jr=(function(){function u(s,f,d,p,w){w===void 0&&(w=p),this.handleStore=s,this.id=f,this.parent=d,this.child=null,d!==null&&(d.child=this),this.start=p,this.end=w,this._escapeCalled=!1,this.callbackInfo={thiz:void 0,data:0,args:void 0,fn:void 0}}return u.prototype.add=function(s){var f=this.handleStore.push(s);return this.end++,f},u.prototype.addExternal=function(s){return this.add(new ss(s))},u.prototype.dispose=function(){this._escapeCalled&&(this._escapeCalled=!1),this.start!==this.end&&this.handleStore.erase(this.start,this.end)},u.prototype.escape=function(s){if(this._escapeCalled||(this._escapeCalled=!0,s<this.start||s>=this.end))return null;this.handleStore.swap(s,this.start);var f=this.handleStore.get(this.start);return this.start++,this.parent.end++,f},u.prototype.escapeCalled=function(){return this._escapeCalled},u})(),hs=(function(){function u(){this._rootScope=new Jr(null,0,null,1,Le.MIN_ID),this.currentScope=this._rootScope,this._values=[void 0]}return u.prototype.get=function(s){return this._values[s]},u.prototype.openScope=function(s){var f=this.currentScope,d=f.child;if(d!==null)d.start=d.end=f.end;else{var p=f.id+1;d=new Jr(s.ctx.handleStore,p,f,f.end),this._values[p]=d}return this.currentScope=d,s.openHandleScopes++,d},u.prototype.closeScope=function(s){if(s.openHandleScopes!==0){var f=this.currentScope;this.currentScope=f.parent,f.dispose(),s.openHandleScopes--}},u.prototype.dispose=function(){this.currentScope=this._rootScope,this._values.length=1},u})(),Ce=(function(){function u(){this._next=null,this._prev=null}return u.prototype.dispose=function(){},u.prototype.finalize=function(){},u.prototype.link=function(s){this._prev=s,this._next=s._next,this._next!==null&&(this._next._prev=this),s._next=this},u.prototype.unlink=function(){this._prev!==null&&(this._prev._next=this._next),this._next!==null&&(this._next._prev=this._prev),this._prev=null,this._next=null},u.finalizeAll=function(s){for(;s._next!==null;)s._next.finalize()},u})(),lt=(function(){function u(s,f,d,p){f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),this.envObject=s,this._finalizeCallback=f,this._finalizeData=d,this._finalizeHint=p,this._makeDynCall_vppp=s.makeDynCall_vppp}return u.prototype.callback=function(){return this._finalizeCallback},u.prototype.data=function(){return this._finalizeData},u.prototype.hint=function(){return this._finalizeHint},u.prototype.resetEnv=function(){this.envObject=void 0},u.prototype.resetFinalizer=function(){this._finalizeCallback=0,this._finalizeData=0,this._finalizeHint=0},u.prototype.callFinalizer=function(){var s=this._finalizeCallback,f=this._finalizeData,d=this._finalizeHint;if(this.resetFinalizer(),!!s){var p=Number(s);this.envObject?this.envObject.callFinalizer(p,f,d):this._makeDynCall_vppp(p)(0,f,d)}},u.prototype.dispose=function(){this.envObject=void 0,this._makeDynCall_vppp=void 0},u})(),dt=(function(u){Ae(s,u);function s(f,d,p,w){var h=u.call(this)||this;return h._finalizer=new lt(f,d,p,w),h}return s.create=function(f,d,p,w){var h=new s(f,d,p,w);return h.link(f.finalizing_reflist),h},s.prototype.data=function(){return this._finalizer.data()},s.prototype.dispose=function(){this._finalizer&&(this.unlink(),this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),this._finalizer=void 0,u.prototype.dispose.call(this))},s.prototype.finalize=function(){this.unlink();var f,d=!1;try{this._finalizer.callFinalizer()}catch(p){d=!0,f=p}if(this.dispose(),d)throw f},s})(Ce);function _s(u,s){var f="".concat(u," requires Node-API version ").concat(s,", but this version of Node.js only supports version ").concat(Lr," add-ons.");throw new Error(f)}function vs(u,s){if(!u.terminatedOrTerminating())throw s}var gs=(function(){function u(s,f,d,p,w){this.ctx=s,this.moduleApiVersion=f,this.makeDynCall_vppp=d,this.makeDynCall_vp=p,this.abort=w,this.openHandleScopes=0,this.instanceData=null,this.tryCatch=new us,this.refs=1,this.reflist=new Ce,this.finalizing_reflist=new Ce,this.pendingFinalizers=[],this.lastError={errorCode:0,engineErrorCode:0,engineReserved:0},this.inGcFinalizer=!1,this._bindingMap=new WeakMap,this.id=0}return u.prototype.canCallIntoJs=function(){return!0},u.prototype.terminatedOrTerminating=function(){return!this.canCallIntoJs()},u.prototype.ref=function(){this.refs++},u.prototype.unref=function(){this.refs--,this.refs===0&&this.dispose()},u.prototype.ensureHandle=function(s){return this.ctx.ensureHandle(s)},u.prototype.ensureHandleId=function(s){return this.ensureHandle(s).id},u.prototype.clearLastError=function(){var s=this.lastError;return s.errorCode!==0&&(s.errorCode=0),s.engineErrorCode!==0&&(s.engineErrorCode=0),s.engineReserved!==0&&(s.engineReserved=0),0},u.prototype.setLastError=function(s,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var p=this.lastError;return p.errorCode!==s&&(p.errorCode=s),p.engineErrorCode!==f&&(p.engineErrorCode=f),p.engineReserved!==d&&(p.engineReserved=d),s},u.prototype.getReturnStatus=function(){return this.tryCatch.hasCaught()?this.setLastError(10):0},u.prototype.callIntoModule=function(s,f){f===void 0&&(f=vs);var d=this.openHandleScopes;this.clearLastError();var p=s(this);if(d!==this.openHandleScopes&&this.abort("open_handle_scopes != open_handle_scopes_before"),this.tryCatch.hasCaught()){var w=this.tryCatch.extractException();f(this,w)}return p},u.prototype.invokeFinalizerFromGC=function(s){if(this.moduleApiVersion!==tr)this.enqueueFinalizer(s);else{var f=this.inGcFinalizer;this.inGcFinalizer=!0;try{s.finalize()}finally{this.inGcFinalizer=f}}},u.prototype.checkGCAccess=function(){this.moduleApiVersion===tr&&this.inGcFinalizer&&this.abort(`Finalizer is calling a function that may affect GC state.
The finalizers are run directly from GC and must not affect GC state.
Use \`node_api_post_finalizer\` from inside of the finalizer to work around this issue.
It schedules the call as a new task in the event loop.`)},u.prototype.enqueueFinalizer=function(s){this.pendingFinalizers.indexOf(s)===-1&&this.pendingFinalizers.push(s)},u.prototype.dequeueFinalizer=function(s){var f=this.pendingFinalizers.indexOf(s);f!==-1&&this.pendingFinalizers.splice(f,1)},u.prototype.deleteMe=function(){Ce.finalizeAll(this.finalizing_reflist),Ce.finalizeAll(this.reflist),this.tryCatch.extractException(),this.ctx.envStore.remove(this.id)},u.prototype.dispose=function(){this.id!==0&&(this.deleteMe(),this.finalizing_reflist.dispose(),this.reflist.dispose(),this.id=0)},u.prototype.initObjectBinding=function(s){var f={wrapped:0,tag:null};return this._bindingMap.set(s,f),f},u.prototype.getObjectBinding=function(s){return this._bindingMap.has(s)?this._bindingMap.get(s):this.initObjectBinding(s)},u.prototype.setInstanceData=function(s,f,d){this.instanceData&&this.instanceData.dispose(),this.instanceData=dt.create(this,f,s,d)},u.prototype.getInstanceData=function(){return this.instanceData?this.instanceData.data():0},u})(),ys=(function(u){Ae(s,u);function s(f,d,p,w,h,k,F){var P=u.call(this,f,p,w,h,k)||this;return P.filename=d,P.nodeBinding=F,P.destructing=!1,P.finalizationScheduled=!1,P}return s.prototype.deleteMe=function(){this.destructing=!0,this.drainFinalizerQueue(),u.prototype.deleteMe.call(this)},s.prototype.canCallIntoJs=function(){return u.prototype.canCallIntoJs.call(this)&&this.ctx.canCallIntoJs()},s.prototype.triggerFatalException=function(f){if(this.nodeBinding)this.nodeBinding.napi.fatalException(f);else if(typeof process=="object"&&process!==null&&typeof process._fatalException=="function"){var d=process._fatalException(f);d||(console.error(f),process.exit(1))}else throw f},s.prototype.callbackIntoModule=function(f,d){return this.callIntoModule(d,function(p,w){if(!p.terminatedOrTerminating()){var h=typeof process=="object"&&process!==null,k=h?!!(process.execArgv&&process.execArgv.indexOf("--force-node-api-uncaught-exceptions-policy")!==-1):!1;if(p.moduleApiVersion<10&&!k&&!f){var F=h&&typeof process.emitWarning=="function"?process.emitWarning:function(P,M,E){if(P instanceof Error)console.warn(P.toString());else{var o=E?"[".concat(E,"] "):"";console.warn("".concat(o).concat(M||"Warning",": ").concat(P))}};F("Uncaught N-API callback exception detected, please run node with option --force-node-api-uncaught-exceptions-policy=true to handle those exceptions properly.","DeprecationWarning","DEP0168");return}p.triggerFatalException(w)}})},s.prototype.callFinalizer=function(f,d,p){this.callFinalizerInternal(1,f,d,p)},s.prototype.callFinalizerInternal=function(f,d,p,w){var h=this.makeDynCall_vppp(d),k=this.id,F=this.ctx.openScope(this);try{this.callbackIntoModule(!!f,function(){h(k,p,w)})}finally{this.ctx.closeScope(this,F)}},s.prototype.enqueueFinalizer=function(f){var d=this;u.prototype.enqueueFinalizer.call(this,f),!this.finalizationScheduled&&!this.destructing&&(this.finalizationScheduled=!0,this.ref(),ut(function(){d.finalizationScheduled=!1,d.unref(),d.drainFinalizerQueue()}))},s.prototype.drainFinalizerQueue=function(){for(;this.pendingFinalizers.length>0;){var f=this.pendingFinalizers.shift();f.finalize()}},s})(gs);function Es(u,s,f,d,p,w,h){f=typeof f!="number"?Xe:f,f<Xe?f=Xe:f>Lr&&f!==tr&&_s(s,f);var k=new ys(u,s,f,d,p,w,h);return u.envStore.add(k),u.addCleanupHook(k,function(){k.unref()},0),k}var Tr=(function(u){Ae(s,u);function s(f){var d=this.constructor,p=u.call(this,f)||this,w=d,h=w.prototype;if(!(p instanceof s)){var k=Object.setPrototypeOf;typeof k=="function"?k.call(Object,p,h):p.__proto__=h,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(p,w)}return p}return s})(Error);Object.defineProperty(Tr.prototype,"name",{configurable:!0,writable:!0,value:"EmnapiError"});var pt=(function(u){Ae(s,u);function s(f,d){return u.call(this,"".concat(f,': The current runtime does not support "FinalizationRegistry" and "WeakRef".').concat(d?" ".concat(d):""))||this}return s})(Tr);Object.defineProperty(pt.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportWeakRefError"});var ht=(function(u){Ae(s,u);function s(f,d){return u.call(this,"".concat(f,': The current runtime does not support "Buffer". Consider using buffer polyfill to make sure `globalThis.Buffer` is defined.').concat(d?" ".concat(d):""))||this}return s})(Tr);Object.defineProperty(ht.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportBufferError"});var _r=(function(){function u(s){this._value=s}return u.prototype.deref=function(){return this._value},u.prototype.dispose=function(){this._value=void 0},u})(),ms=(function(){function u(s){this._ref=new _r(s)}return u.prototype.setWeak=function(s,f){if(!(!Pe||this._ref===void 0||this._ref instanceof WeakRef)){var d=this._ref.deref();try{u._registry.register(d,this,this);var p=new WeakRef(d);this._ref.dispose(),this._ref=p,this._param=s,this._callback=f}catch(w){if(typeof d!="symbol")throw w}}},u.prototype.clearWeak=function(){if(!(!Pe||this._ref===void 0)&&this._ref instanceof WeakRef){try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0;var s=this._ref.deref();s===void 0?this._ref=s:this._ref=new _r(s)}},u.prototype.reset=function(){if(Pe)try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0,this._ref instanceof _r&&this._ref.dispose(),this._ref=void 0},u.prototype.isEmpty=function(){return this._ref===void 0},u.prototype.deref=function(){if(this._ref!==void 0)return this._ref.deref()},u._registry=Pe?new FinalizationRegistry(function(s){s._ref=void 0;var f=s._callback,d=s._param;s._callback=void 0,s._param=void 0,typeof f=="function"&&f(d)}):void 0,u})(),br;(function(u){u[u.kRuntime=0]="kRuntime",u[u.kUserland=1]="kUserland"})(br||(br={}));function ws(u){return u.isObject()||u.isFunction()||u.isSymbol()}var Cr=(function(u){Ae(s,u);function s(f,d,p,w){var h=u.call(this)||this;h.envObject=f,h._refcount=p,h._ownership=w;var k=f.ctx.handleStore.get(d);return h.canBeWeak=ws(k),h.persistent=new ms(k.value),h.id=0,p===0&&h._setWeak(),h}return s.weakCallback=function(f){f.persistent.reset(),f.invokeFinalizerFromGC()},s.create=function(f,d,p,w,h,k,F){var P=new s(f,d,p,w);return f.ctx.refStore.add(P),P.link(f.reflist),P},s.prototype.ref=function(){return this.persistent.isEmpty()?0:(++this._refcount===1&&this.canBeWeak&&this.persistent.clearWeak(),this._refcount)},s.prototype.unref=function(){return this.persistent.isEmpty()||this._refcount===0?0:(--this._refcount===0&&this._setWeak(),this._refcount)},s.prototype.get=function(f){if(f===void 0&&(f=this.envObject),this.persistent.isEmpty())return 0;var d=this.persistent.deref(),p=f.ensureHandle(d);return p.id},s.prototype.resetFinalizer=function(){},s.prototype.data=function(){return 0},s.prototype.refcount=function(){return this._refcount},s.prototype.ownership=function(){return this._ownership},s.prototype.callUserFinalizer=function(){},s.prototype.invokeFinalizerFromGC=function(){this.finalize()},s.prototype._setWeak=function(){this.canBeWeak?this.persistent.setWeak(this,s.weakCallback):this.persistent.reset()},s.prototype.finalize=function(){this.persistent.reset();var f=this._ownership===br.kRuntime;this.unlink(),this.callUserFinalizer(),f&&this.dispose()},s.prototype.dispose=function(){this.id!==0&&(this.unlink(),this.persistent.reset(),this.envObject.ctx.refStore.remove(this.id),u.prototype.dispose.call(this),this.envObject=void 0,this.id=0)},s})(Ce),bs=(function(u){Ae(s,u);function s(f,d,p,w,h){var k=u.call(this,f,d,p,w)||this;return k._data=h,k}return s.create=function(f,d,p,w,h){var k=new s(f,d,p,w,h);return f.ctx.refStore.add(k),k.link(f.reflist),k},s.prototype.data=function(){return this._data},s})(Cr),As=(function(u){Ae(s,u);function s(f,d,p,w,h,k,F){var P=u.call(this,f,d,p,w)||this;return P._finalizer=new lt(f,h,k,F),P}return s.create=function(f,d,p,w,h,k,F){var P=new s(f,d,p,w,h,k,F);return f.ctx.refStore.add(P),P.link(f.finalizing_reflist),P},s.prototype.resetFinalizer=function(){this._finalizer.resetFinalizer()},s.prototype.data=function(){return this._finalizer.data()},s.prototype.callUserFinalizer=function(){this._finalizer.callFinalizer()},s.prototype.invokeFinalizerFromGC=function(){this._finalizer.envObject.invokeFinalizerFromGC(this)},s.prototype.dispose=function(){this._finalizer&&(this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),u.prototype.dispose.call(this),this._finalizer=void 0)},s})(Cr),Ss=(function(){function u(s,f){this.id=0,this.ctx=s,this.value=f}return u.create=function(s,f){var d=new u(s,f);return s.deferredStore.add(d),d},u.prototype.resolve=function(s){this.value.resolve(s),this.dispose()},u.prototype.reject=function(s){this.value.reject(s),this.dispose()},u.prototype.dispose=function(){this.ctx.deferredStore.remove(this.id),this.id=0,this.value=null,this.ctx=null},u})(),vr=(function(){function u(){this._values=[void 0],this._values.length=4,this._size=1,this._freeList=[]}return u.prototype.add=function(s){var f;if(this._freeList.length)f=this._freeList.shift();else{f=this._size,this._size++;var d=this._values.length;f>=d&&(this._values.length=d+(d>>1)+16)}s.id=f,this._values[f]=s},u.prototype.get=function(s){return this._values[s]},u.prototype.has=function(s){return this._values[s]!==void 0},u.prototype.remove=function(s){var f=this._values[s];f&&(f.id=0,this._values[s]=void 0,this._freeList.push(Number(s)))},u.prototype.dispose=function(){for(var s=1;s<this._size;++s){var f=this._values[s];f?.dispose()}this._values=[void 0],this._size=1,this._freeList=[]},u})(),Is=(function(){function u(s,f,d,p){this.envObject=s,this.fn=f,this.arg=d,this.order=p}return u})(),Ls=(function(){function u(){this._cleanupHooks=[],this._cleanupHookCounter=0}return u.prototype.empty=function(){return this._cleanupHooks.length===0},u.prototype.add=function(s,f,d){if(this._cleanupHooks.filter(function(p){return p.envObject===s&&p.fn===f&&p.arg===d}).length>0)throw new Error("Can not add same fn and arg twice");this._cleanupHooks.push(new Is(s,f,d,this._cleanupHookCounter++))},u.prototype.remove=function(s,f,d){for(var p=0;p<this._cleanupHooks.length;++p){var w=this._cleanupHooks[p];if(w.envObject===s&&w.fn===f&&w.arg===d){this._cleanupHooks.splice(p,1);return}}},u.prototype.drain=function(){var s=this._cleanupHooks.slice();s.sort(function(p,w){return w.order-p.order});for(var f=0;f<s.length;++f){var d=s[f];typeof d.fn=="number"?d.envObject.makeDynCall_vp(d.fn)(d.arg):d.fn(d.arg),this._cleanupHooks.splice(this._cleanupHooks.indexOf(d),1)}},u.prototype.dispose=function(){this._cleanupHooks.length=0,this._cleanupHookCounter=0},u})(),Ts=(function(){function u(){this.refHandle=new rr().port1,this.count=0}return u.prototype.increase=function(){this.count===0&&this.refHandle.ref&&this.refHandle.ref(),this.count++},u.prototype.decrease=function(){this.count!==0&&(this.count===1&&this.refHandle.unref&&this.refHandle.unref(),this.count--)},u})(),Cs=(function(){function u(){var s=this;this._isStopping=!1,this._canCallIntoJs=!0,this._suppressDestroy=!1,this.envStore=new vr,this.scopeStore=new hs,this.refStore=new vr,this.deferredStore=new vr,this.handleStore=new Le,this.feature={supportReflect:fs,supportFinalizer:Pe,supportWeakSymbol:ls,supportBigInt:ds,supportNewFunction:at,canSetFunctionName:cs,setImmediate:ut,Buffer:ct,MessageChannel:rr},this.cleanupQueue=new Ls,typeof process=="object"&&process!==null&&typeof process.once=="function"&&(this.refCounter=new Ts,process.once("beforeExit",function(){s._suppressDestroy||s.destroy()}))}return u.prototype.suppressDestroy=function(){this._suppressDestroy=!0},u.prototype.getRuntimeVersions=function(){return{version:ps,NODE_API_SUPPORTED_VERSION_MAX:Lr,NAPI_VERSION_EXPERIMENTAL:tr,NODE_API_DEFAULT_MODULE_API_VERSION:Xe}},u.prototype.createNotSupportWeakRefError=function(s,f){return new pt(s,f)},u.prototype.createNotSupportBufferError=function(s,f){return new ht(s,f)},u.prototype.createReference=function(s,f,d,p){return Cr.create(s,f,d,p)},u.prototype.createReferenceWithData=function(s,f,d,p,w){return bs.create(s,f,d,p,w)},u.prototype.createReferenceWithFinalizer=function(s,f,d,p,w,h,k){return w===void 0&&(w=0),h===void 0&&(h=0),k===void 0&&(k=0),As.create(s,f,d,p,w,h,k)},u.prototype.createDeferred=function(s){return Ss.create(this,s)},u.prototype.createEnv=function(s,f,d,p,w,h){return Es(this,s,f,d,p,w,h)},u.prototype.createTrackedFinalizer=function(s,f,d,p){return dt.create(s,f,d,p)},u.prototype.getCurrentScope=function(){return this.scopeStore.currentScope},u.prototype.addToCurrentScope=function(s){return this.scopeStore.currentScope.add(s)},u.prototype.openScope=function(s){return this.scopeStore.openScope(s)},u.prototype.closeScope=function(s,f){this.scopeStore.closeScope(s)},u.prototype.ensureHandle=function(s){switch(s){case void 0:return Le.UNDEFINED;case null:return Le.NULL;case!0:return Le.TRUE;case!1:return Le.FALSE;case st:return Le.GLOBAL}return this.addToCurrentScope(s)},u.prototype.addCleanupHook=function(s,f,d){this.cleanupQueue.add(s,f,d)},u.prototype.removeCleanupHook=function(s,f,d){this.cleanupQueue.remove(s,f,d)},u.prototype.runCleanup=function(){for(;!this.cleanupQueue.empty();)this.cleanupQueue.drain()},u.prototype.increaseWaitingRequestCounter=function(){var s;(s=this.refCounter)===null||s===void 0||s.increase()},u.prototype.decreaseWaitingRequestCounter=function(){var s;(s=this.refCounter)===null||s===void 0||s.decrease()},u.prototype.setCanCallIntoJs=function(s){this._canCallIntoJs=s},u.prototype.setStopping=function(s){this._isStopping=s},u.prototype.canCallIntoJs=function(){return this._canCallIntoJs&&!this._isStopping},u.prototype.destroy=function(){this.setStopping(!0),this.setCanCallIntoJs(!1),this.runCleanup()},u})(),gr;function ks(){return new Cs}function Ds(){return gr||(gr=ks()),gr}var Bs={};const We=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;if(!We)throw new Error("WebAssembly is not supported in this environment");function ke(u,s){if(u===null||typeof u!="object")throw new TypeError(`${s} must be an object. Received ${u===null?"null":typeof u}`)}function Os(u,s){if(!Array.isArray(u))throw new TypeError(`${s} must be an array. Received ${u===null?"null":typeof u}`)}function Fs(u,s){if(typeof u!="boolean")throw new TypeError(`${s} must be a boolean. Received ${u===null?"null":typeof u}`)}function _t(u,s){if(typeof u!="string")throw new TypeError(`${s} must be a string. Received ${u===null?"null":typeof u}`)}function nr(u,s){if(typeof u!="function")throw new TypeError(`${s} must be a function. Received ${u===null?"null":typeof u}`)}function qr(u,s){if(u!==void 0)throw new TypeError(`${s} must be undefined. Received ${u===null?"null":typeof u}`)}function Rs(u){return!!(u&&(typeof u=="object"||typeof u=="function")&&typeof u.then=="function")}function ae(u,s,f){return typeof SharedArrayBuffer=="function"&&u.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(u.buffer.constructor)==="[object SharedArrayBuffer]"?u.slice(s,f):u.subarray(s,f)}const yr=46,kr=47;function Ns(u){return u===kr}function xs(u,s,f,d){let p="",w=0,h=-1,k=0,F=0;for(let P=0;P<=u.length;++P){if(P<u.length)F=u.charCodeAt(P);else{if(d(F))break;F=kr}if(d(F)){if(!(h===P-1||k===1))if(k===2){if(p.length<2||w!==2||p.charCodeAt(p.length-1)!==yr||p.charCodeAt(p.length-2)!==yr){if(p.length>2){const M=p.indexOf(f);M===-1?(p="",w=0):(p=p.slice(0,M),w=p.length-1-p.indexOf(f)),h=P,k=0;continue}else if(p.length!==0){p="",w=0,h=P,k=0;continue}}s&&(p+=p.length>0?`${f}..`:"..",w=2)}else p.length>0?p+=`${f}${u.slice(h+1,P)}`:p=u.slice(h+1,P),w=P-h-1;h=P,k=0}else F===yr&&k!==-1?++k:k=-1}return p}function ue(...u){let s="",f=!1;for(let d=u.length-1;d>=-1&&!f;d--){const p=d>=0?u[d]:"/";_t(p,"path"),p.length!==0&&(s=`${p}/${s}`,f=p.charCodeAt(0)===kr)}return s=xs(s,!f,"/",Ns),f?`/${s}`:s.length>0?s:"."}const Ps=BigInt(1)<<BigInt(0),Us=BigInt(1)<<BigInt(1),Vs=BigInt(1)<<BigInt(2),Ws=BigInt(1)<<BigInt(3),Ms=BigInt(1)<<BigInt(4),js=BigInt(1)<<BigInt(5),Hs=BigInt(1)<<BigInt(6),zs=BigInt(1)<<BigInt(7),Gs=BigInt(1)<<BigInt(8),Js=BigInt(1)<<BigInt(9),qs=BigInt(1)<<BigInt(10),Ks=BigInt(1)<<BigInt(11),$s=BigInt(1)<<BigInt(12),Qs=BigInt(1)<<BigInt(13),Ys=BigInt(1)<<BigInt(14),Xs=BigInt(1)<<BigInt(15),Zs=BigInt(1)<<BigInt(16),eo=BigInt(1)<<BigInt(17),ro=BigInt(1)<<BigInt(18),to=BigInt(1)<<BigInt(19),no=BigInt(1)<<BigInt(20),io=BigInt(1)<<BigInt(21),ao=BigInt(1)<<BigInt(22),so=BigInt(1)<<BigInt(23),oo=BigInt(1)<<BigInt(24),uo=BigInt(1)<<BigInt(25),co=BigInt(1)<<BigInt(26),fo=BigInt(1)<<BigInt(27),lo=BigInt(1)<<BigInt(28),po=BigInt(1)<<BigInt(29),T={FD_DATASYNC:Ps,FD_READ:Us,FD_SEEK:Vs,FD_FDSTAT_SET_FLAGS:Ws,FD_SYNC:Ms,FD_TELL:js,FD_WRITE:Hs,FD_ADVISE:zs,FD_ALLOCATE:Gs,PATH_CREATE_DIRECTORY:Js,PATH_CREATE_FILE:qs,PATH_LINK_SOURCE:Ks,PATH_LINK_TARGET:$s,PATH_OPEN:Qs,FD_READDIR:Ys,PATH_READLINK:Xs,PATH_RENAME_SOURCE:Zs,PATH_RENAME_TARGET:eo,PATH_FILESTAT_GET:ro,PATH_FILESTAT_SET_SIZE:to,PATH_FILESTAT_SET_TIMES:no,FD_FILESTAT_GET:io,FD_FILESTAT_SET_SIZE:ao,FD_FILESTAT_SET_TIMES:so,PATH_SYMLINK:oo,PATH_REMOVE_DIRECTORY:uo,PATH_UNLINK_FILE:co,POLL_FD_READWRITE:fo,SOCK_SHUTDOWN:lo,SOCK_ACCEPT:po};function ho(u){switch(u){case 0:return"Success";case 1:return"Argument list too long";case 2:return"Permission denied";case 3:return"Address in use";case 4:return"Address not available";case 5:return"Address family not supported by protocol";case 6:return"Resource temporarily unavailable";case 7:return"Operation already in progress";case 8:return"Bad file descriptor";case 9:return"Bad message";case 10:return"Resource busy";case 11:return"Operation canceled";case 12:return"No child process";case 13:return"Connection aborted";case 14:return"Connection refused";case 15:return"Connection reset by peer";case 16:return"Resource deadlock would occur";case 17:return"Destination address required";case 18:return"Domain error";case 19:return"Quota exceeded";case 20:return"File exists";case 21:return"Bad address";case 22:return"File too large";case 23:return"Host is unreachable";case 24:return"Identifier removed";case 25:return"Illegal byte sequence";case 26:return"Operation in progress";case 27:return"Interrupted system call";case 28:return"Invalid argument";case 29:return"I/O error";case 30:return"Socket is connected";case 31:return"Is a directory";case 32:return"Symbolic link loop";case 33:return"No file descriptors available";case 34:return"Too many links";case 35:return"Message too large";case 36:return"Multihop attempted";case 37:return"Filename too long";case 38:return"Network is down";case 39:return"Connection reset by network";case 40:return"Network unreachable";case 41:return"Too many files open in system";case 42:return"No buffer space available";case 43:return"No such device";case 44:return"No such file or directory";case 45:return"Exec format error";case 46:return"No locks available";case 47:return"Link has been severed";case 48:return"Out of memory";case 49:return"No message of the desired type";case 50:return"Protocol not available";case 51:return"No space left on device";case 52:return"Function not implemented";case 53:return"Socket not connected";case 54:return"Not a directory";case 55:return"Directory not empty";case 56:return"State not recoverable";case 57:return"Not a socket";case 58:return"Not supported";case 59:return"Not a tty";case 60:return"No such device or address";case 61:return"Value too large for data type";case 62:return"Previous owner died";case 63:return"Operation not permitted";case 64:return"Broken pipe";case 65:return"Protocol error";case 66:return"Protocol not supported";case 67:return"Protocol wrong type for socket";case 68:return"Result not representable";case 69:return"Read-only file system";case 70:return"Invalid seek";case 71:return"No such process";case 72:return"Stale file handle";case 73:return"Operation timed out";case 74:return"Text file busy";case 75:return"Cross-device link";case 76:return"Capabilities insufficient";default:return"Unknown error"}}class de extends Error{constructor(s,f){super(s),this.errno=f}getErrorMessage(){return ho(this.errno)}}Object.defineProperty(de.prototype,"name",{configurable:!0,writable:!0,value:"WasiError"});const Me=T.FD_DATASYNC|T.FD_READ|T.FD_SEEK|T.FD_FDSTAT_SET_FLAGS|T.FD_SYNC|T.FD_TELL|T.FD_WRITE|T.FD_ADVISE|T.FD_ALLOCATE|T.PATH_CREATE_DIRECTORY|T.PATH_CREATE_FILE|T.PATH_LINK_SOURCE|T.PATH_LINK_TARGET|T.PATH_OPEN|T.FD_READDIR|T.PATH_READLINK|T.PATH_RENAME_SOURCE|T.PATH_RENAME_TARGET|T.PATH_FILESTAT_GET|T.PATH_FILESTAT_SET_SIZE|T.PATH_FILESTAT_SET_TIMES|T.FD_FILESTAT_GET|T.FD_FILESTAT_SET_TIMES|T.FD_FILESTAT_SET_SIZE|T.PATH_SYMLINK|T.PATH_UNLINK_FILE|T.PATH_REMOVE_DIRECTORY|T.POLL_FD_READWRITE|T.SOCK_SHUTDOWN|T.SOCK_ACCEPT,_o=Me,vo=Me,go=Me,yo=Me,vt=T.FD_DATASYNC|T.FD_READ|T.FD_SEEK|T.FD_FDSTAT_SET_FLAGS|T.FD_SYNC|T.FD_TELL|T.FD_WRITE|T.FD_ADVISE|T.FD_ALLOCATE|T.FD_FILESTAT_GET|T.FD_FILESTAT_SET_SIZE|T.FD_FILESTAT_SET_TIMES|T.POLL_FD_READWRITE,Eo=BigInt(0),gt=T.FD_FDSTAT_SET_FLAGS|T.FD_SYNC|T.FD_ADVISE|T.PATH_CREATE_DIRECTORY|T.PATH_CREATE_FILE|T.PATH_LINK_SOURCE|T.PATH_LINK_TARGET|T.PATH_OPEN|T.FD_READDIR|T.PATH_READLINK|T.PATH_RENAME_SOURCE|T.PATH_RENAME_TARGET|T.PATH_FILESTAT_GET|T.PATH_FILESTAT_SET_SIZE|T.PATH_FILESTAT_SET_TIMES|T.FD_FILESTAT_GET|T.FD_FILESTAT_SET_TIMES|T.PATH_SYMLINK|T.PATH_UNLINK_FILE|T.PATH_REMOVE_DIRECTORY|T.POLL_FD_READWRITE,mo=gt|vt,wo=T.FD_READ|T.FD_FDSTAT_SET_FLAGS|T.FD_WRITE|T.FD_FILESTAT_GET|T.POLL_FD_READWRITE|T.SOCK_SHUTDOWN,bo=Me,Ao=T.FD_READ|T.FD_FDSTAT_SET_FLAGS|T.FD_WRITE|T.FD_FILESTAT_GET|T.POLL_FD_READWRITE,So=BigInt(0);function Ve(u,s,f,d){const p={base:BigInt(0),inheriting:BigInt(0)};if(d===0)throw new de("Unknown file type",28);switch(d){case 4:p.base=vt,p.inheriting=Eo;break;case 3:p.base=gt,p.inheriting=mo;break;case 6:case 5:p.base=wo,p.inheriting=bo;break;case 2:u.indexOf(s)!==-1?(p.base=Ao,p.inheriting=So):(p.base=go,p.inheriting=yo);break;case 1:p.base=_o,p.inheriting=vo;break;default:p.base=BigInt(0),p.inheriting=BigInt(0)}const w=f&3;return w===0?p.base&=~T.FD_WRITE:w===1&&(p.base&=~T.FD_READ),p}function Ue(u,s){let f=0;for(let w=0;w<u.length;w++){const h=u[w];f+=h.length}let d=0;const p=new Uint8Array(f);for(let w=0;w<u.length;w++){const h=u[w];p.set(h,d),d+=h.length}return p}class yt{constructor(s,f,d,p,w,h,k,F){this.id=s,this.fd=f,this.path=d,this.realPath=p,this.type=w,this.rightsBase=h,this.rightsInheriting=k,this.preopen=F,this.pos=BigInt(0),this.size=BigInt(0)}seek(s,f){if(f===0)this.pos=BigInt(s);else if(f===1)this.pos+=BigInt(s);else if(f===2)this.pos=BigInt(this.size)-BigInt(s);else throw new de("Unknown whence",29);return this.pos}}class Kr extends yt{constructor(s,f,d,p,w,h,k,F,P){super(f,d,p,w,h,k,F,P),this._log=s,this._buf=null}write(s){const f=s;if(this._buf&&(s=Ue([this._buf,s]),this._buf=null),s.indexOf(10)===-1)return this._buf=s,f.byteLength;let d=0,p=0,w;for(;(w=s.indexOf(10,d))!==-1;){const h=new TextDecoder().decode(s.subarray(p,w));this._log(h),d+=w-p+1,p=w+1}return d<s.length&&(this._buf=s.slice(d)),f.byteLength}}function Dr(u){return u.isBlockDevice()?1:u.isCharacterDevice()?2:u.isDirectory()?3:u.isSocket()?6:u.isFile()?4:u.isSymbolicLink()?7:0}function Ge(u,s,f){u.setBigUint64(s,f.dev,!0),u.setBigUint64(s+8,f.ino,!0),u.setBigUint64(s+16,BigInt(Dr(f)),!0),u.setBigUint64(s+24,f.nlink,!0),u.setBigUint64(s+32,f.size,!0),u.setBigUint64(s+40,f.atimeMs*BigInt(1e6),!0),u.setBigUint64(s+48,f.mtimeMs*BigInt(1e6),!0),u.setBigUint64(s+56,f.ctimeMs*BigInt(1e6),!0)}class Et{constructor(s){this.used=0,this.size=s.size,this.fds=Array(s.size),this.stdio=[s.in,s.out,s.err],this.print=s.print,this.printErr=s.printErr,this.insertStdio(s.in,0,"<stdin>"),this.insertStdio(s.out,1,"<stdout>"),this.insertStdio(s.err,2,"<stderr>")}insertStdio(s,f,d){const{base:w,inheriting:h}=Ve(this.stdio,s,2,2),k=this.insert(s,d,d,2,w,h,0);if(k.id!==f)throw new de(`id: ${k.id} !== expected: ${f}`,8);return k}insert(s,f,d,p,w,h,k){var F,P;let M=-1;if(this.used>=this.size){const o=this.size*2;this.fds.length=o,M=this.size,this.size=o}else for(let o=0;o<this.size;++o)if(this.fds[o]==null){M=o;break}let E;return f==="<stdout>"?E=new Kr((F=this.print)!==null&&F!==void 0?F:console.log,M,s,f,d,p,w,h,k):f==="<stderr>"?E=new Kr((P=this.printErr)!==null&&P!==void 0?P:console.error,M,s,f,d,p,w,h,k):E=new yt(M,s,f,d,p,w,h,k),this.fds[M]=E,this.used++,E}get(s,f,d){if(s>=this.size)throw new de("Invalid fd",8);const p=this.fds[s];if(!p||p.id!==s)throw new de("Bad file descriptor",8);if((~p.rightsBase&f)!==BigInt(0)||(~p.rightsInheriting&d)!==BigInt(0))throw new de("Capabilities insufficient",76);return p}remove(s){if(s>=this.size)throw new de("Invalid fd",8);const f=this.fds[s];if(!f||f.id!==s)throw new de("Bad file descriptor",8);this.fds[s]=void 0,this.used--}}class Io extends Et{constructor(s){super(s),this.fs=s.fs}getFileTypeByFd(s){const f=this.fs.fstatSync(s,{bigint:!0});return Dr(f)}insertPreopen(s,f,d){const p=this.getFileTypeByFd(s);if(p!==3)throw new de(`Preopen not dir: ["${f}", "${d}"]`,54);const w=Ve(this.stdio,s,0,p);return this.insert(s,f,d,p,w.base,w.inheriting,1)}renumber(s,f){if(s===f)return;if(s>=this.size||f>=this.size)throw new de("Invalid fd",8);const d=this.fds[s],p=this.fds[f];if(!d||!p||d.id!==s||p.id!==f)throw new de("Invalid fd",8);this.fs.closeSync(d.fd),this.fds[s]=this.fds[f],this.fds[s].id=s,this.fds[f]=void 0,this.used--}}class Lo extends Et{constructor(s){super(s)}async getFileTypeByFd(s){const f=await s.stat({bigint:!0});return Dr(f)}async insertPreopen(s,f,d){const p=await this.getFileTypeByFd(s);if(p!==3)throw new de(`Preopen not dir: ["${f}", "${d}"]`,54);const w=Ve(this.stdio,s.fd,0,p);return this.insert(s,f,d,p,w.base,w.inheriting,1)}async renumber(s,f){if(s===f)return;if(s>=this.size||f>=this.size)throw new de("Invalid fd",8);const d=this.fds[s],p=this.fds[f];if(!d||!p||d.id!==s||p.id!==f)throw new de("Invalid fd",8);await d.fd.close(),this.fds[s]=this.fds[f],this.fds[s].id=s,this.fds[f]=void 0,this.used--}}const To=(function(){return We.Memory})();class Co extends To{constructor(s){super(s)}get HEAP8(){return new Int8Array(super.buffer)}get HEAPU8(){return new Uint8Array(super.buffer)}get HEAP16(){return new Int16Array(super.buffer)}get HEAPU16(){return new Uint16Array(super.buffer)}get HEAP32(){return new Int32Array(super.buffer)}get HEAPU32(){return new Uint32Array(super.buffer)}get HEAP64(){return new BigInt64Array(super.buffer)}get HEAPU64(){return new BigUint64Array(super.buffer)}get HEAPF32(){return new Float32Array(super.buffer)}get HEAPF64(){return new Float64Array(super.buffer)}get view(){return new DataView(super.buffer)}}function ko(u){return Object.getPrototypeOf(u)===We.Memory.prototype&&Object.setPrototypeOf(u,Co.prototype),u}function Do(){const u=We.Function;if(typeof u!="function")throw new Error('WebAssembly.Function is not supported in this environment. If you are using V8 based browser like Chrome, try to specify --js-flags="--wasm-staging --experimental-wasm-stack-switching"');return u}function Bo(u,s,f){const d=Do();if(typeof u!="function")throw new TypeError("Function required");const p=s.slice(0);return p.unshift("externref"),new d({parameters:p,results:f},u,{suspending:"first"})}function Te(u,s){if(u.length===0||s.length===0)return 0;let f=0,d=s.length-f;for(let p=0;p<u.length;++p){const w=u[p];if(d<w.length)return w.set(s.subarray(f,f+d),0),f+=d,d=0,f;w.set(s.subarray(f,f+w.length),0),f+=w.length,d-=w.length}return f}const mt=new WeakMap,z=new WeakMap,wt=new WeakMap;function q(u){return mt.get(u)}function re(u){const s=wt.get(u);if(!s)throw new Error("filesystem is unavailable");return s}function $r(u){if(u instanceof de)return u.errno;switch(u.code){case"ENOENT":return 44;case"EBADF":return 8;case"EINVAL":return 28;case"EPERM":return 63;case"EPROTO":return 65;case"EEXIST":return 20;case"ENOTDIR":return 54;case"EMFILE":return 33;case"EACCES":return 2;case"EISDIR":return 31;case"ENOTEMPTY":return 55;case"ENOSYS":return 52}throw u}function Oo(u,s){return Object.defineProperty(s,"name",{value:u}),s}function ie(u,s,f){return Oo(s,function(){if(Bs.NODE_DEBUG_NATIVE==="wasi"){const p=Array.prototype.slice.call(arguments);let w=[`${s}(${Array.from({length:arguments.length}).map(()=>"%d").join(", ")})`];w=w.concat(p),console.debug.apply(console,w)}let d;try{d=f.apply(u,arguments)}catch(p){return $r(p)}return Rs(d)?d.then(p=>p,$r):d})}function Er(u,s,f,d){let p=ue(s.realPath,f);if((d&1)===1)try{p=u.readlinkSync(p)}catch(w){if(w.code!=="EINVAL"&&w.code!=="ENOENT")throw w}return p}async function mr(u,s,f,d){let p=ue(s.realPath,f);if((d&1)===1)try{p=await u.promises.readlink(p)}catch(w){if(w.code!=="EINVAL"&&w.code!=="ENOENT")throw w}return p}const Ee=new TextEncoder,se=new TextDecoder,Je=(BigInt(1)<<BigInt(63))-BigInt(1);function Qr(){const u=window.prompt();return u===null?new Uint8Array:new TextEncoder().encode(u+`
`)}function qe(u){return!!(u&-16)||(u&3)===3||(u&12)===12}class De{constructor(s,f,d,p,w,h){this.args_get=ie(this,"args_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{HEAPU8:g,view:y}=q(this),b=z.get(this).args;for(let I=0;I<b.length;++I){const C=b[I];y.setInt32(E,o,!0),E+=4;const O=Ee.encode(C+"\0");g.set(O,o),o+=O.length}return 0}),this.args_sizes_get=ie(this,"args_sizes_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{view:g}=q(this),m=z.get(this).args;return g.setUint32(E,m.length,!0),g.setUint32(o,Ee.encode(m.join("\0")+"\0").length,!0),0}),this.environ_get=ie(this,"environ_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{HEAPU8:g,view:y}=q(this),b=z.get(this).env;for(let I=0;I<b.length;++I){const C=b[I];y.setInt32(E,o,!0),E+=4;const O=Ee.encode(C+"\0");g.set(O,o),o+=O.length}return 0}),this.environ_sizes_get=ie(this,"environ_sizes_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{view:g}=q(this),y=z.get(this);return g.setUint32(E,y.env.length,!0),g.setUint32(o,Ee.encode(y.env.join("\0")+"\0").length,!0),0}),this.clock_res_get=ie(this,"clock_res_get",function(E,o){if(o=Number(o),o===0)return 28;const{view:g}=q(this);switch(E){case 0:return g.setBigUint64(o,BigInt(1e6),!0),0;case 1:case 2:case 3:return g.setBigUint64(o,BigInt(1e3),!0),0;default:return 28}}),this.clock_time_get=ie(this,"clock_time_get",function(E,o,g){if(g=Number(g),g===0)return 28;const{view:y}=q(this);switch(E){case 0:return y.setBigUint64(g,BigInt(Date.now())*BigInt(1e6),!0),0;case 1:case 2:case 3:{const m=performance.now()/1e3,b=Math.trunc(m),I=Math.floor((m-b)*1e3),C=BigInt(b)*BigInt(1e9)+BigInt(I)*BigInt(1e6);return y.setBigUint64(g,C,!0),0}default:return 28}}),this.fd_advise=ie(this,"fd_advise",function(E,o,g,y){return 52}),this.fd_fdstat_get=ie(this,"fd_fdstat_get",function(E,o){if(o=Number(o),o===0)return 28;const y=z.get(this).fds.get(E,BigInt(0),BigInt(0)),{view:m}=q(this);return m.setUint16(o,y.type,!0),m.setUint16(o+2,0,!0),m.setBigUint64(o+8,y.rightsBase,!0),m.setBigUint64(o+16,y.rightsInheriting,!0),0}),this.fd_fdstat_set_flags=ie(this,"fd_fdstat_set_flags",function(E,o){return 52}),this.fd_fdstat_set_rights=ie(this,"fd_fdstat_set_rights",function(E,o,g){const m=z.get(this).fds.get(E,BigInt(0),BigInt(0));return(o|m.rightsBase)>m.rightsBase||(g|m.rightsInheriting)>m.rightsInheriting?76:(m.rightsBase=o,m.rightsInheriting=g,0)}),this.fd_prestat_get=ie(this,"fd_prestat_get",function(E,o){if(o=Number(o),o===0)return 28;const g=z.get(this);let y;try{y=g.fds.get(E,BigInt(0),BigInt(0))}catch(b){if(b instanceof de)return b.errno;throw b}if(y.preopen!==1)return 28;const{view:m}=q(this);return m.setUint32(o,0,!0),m.setUint32(o+4,Ee.encode(y.path).length,!0),0}),this.fd_prestat_dir_name=ie(this,"fd_prestat_dir_name",function(E,o,g){if(o=Number(o),g=Number(g),o===0)return 28;const m=z.get(this).fds.get(E,BigInt(0),BigInt(0));if(m.preopen!==1)return 8;const b=Ee.encode(m.path);if(b.length>g)return 42;const{HEAPU8:C}=q(this);return C.set(b,o),0}),this.fd_seek=ie(this,"fd_seek",function(E,o,g,y){if(y=Number(y),y===0)return 28;if(E===0||E===1||E===2)return 0;const I=z.get(this).fds.get(E,T.FD_SEEK,BigInt(0)).seek(o,g),{view:C}=q(this);return C.setBigUint64(y,I,!0),0}),this.fd_tell=ie(this,"fd_tell",function(E,o){const y=z.get(this).fds.get(E,T.FD_TELL,BigInt(0)),m=BigInt(y.pos),{view:b}=q(this);return b.setBigUint64(Number(o),m,!0),0}),this.poll_oneoff=ie(this,"poll_oneoff",function(E,o,g,y){if(E=Number(E),o=Number(o),y=Number(y),g=Number(g),g=g>>>0,E===0||o===0||g===0||y===0)return 28;const{view:m}=q(this);m.setUint32(y,0,!0);let b=0,I=BigInt(0),C=BigInt(0),O=0,B=BigInt(0),D;const V=Array(g);for(b=0;b<g;b++){D=E+b*48;const U=m.getBigUint64(D,!0),j=m.getUint8(D+8),J=m.getUint32(D+16,!0),Y=m.getBigUint64(D+24,!0),$=m.getBigUint64(D+32,!0),X=m.getUint16(D+40,!0);V[b]={userdata:U,type:j,u:{clock:{clock_id:J,timeout:Y,precision:$,flags:X},fd_readwrite:{fd:J}}}}const R=[];for(b=0;b<g;b++)switch(D=V[b],D.type){case 0:{if(D.u.clock.flags===1){const U=BigInt(Date.now())*BigInt(1e6);C=D.u.clock.timeout-U}else C=D.u.clock.timeout;(O===0||C<B)&&(B=C,I=D.userdata,O=1);break}case 1:case 2:R.push(D);break;default:return 28}if(R.length>0){for(b=0;b<R.length;b++){const U=R[b],j=o+32*b;m.setBigUint64(j,U.userdata,!0),m.setUint32(j+8,52,!0),m.setUint32(j+12,U.type,!0),m.setBigUint64(j+16,BigInt(0),!0),m.setUint16(j+24,0,!0),m.setUint32(y,1,!0)}return m.setUint32(y,R.length,!0),0}if(O){Number(B/BigInt(1e6));const U=o;m.setBigUint64(U,I,!0),m.setUint32(U+8,0,!0),m.setUint32(U+12,0,!0),m.setUint32(y,1,!0)}return 0}),this.proc_exit=ie(this,"proc_exit",function(E){return typeof process=="object"&&process!==null&&typeof process.exit=="function"&&process.exit(E),0}),this.proc_raise=ie(this,"proc_raise",function(E){return 52}),this.sched_yield=ie(this,"sched_yield",function(){return 0}),this.random_get=typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?ie(this,"random_get",function(E,o){if(E=Number(E),E===0)return 28;o=Number(o);const{HEAPU8:g,view:y}=q(this);if(typeof SharedArrayBuffer=="function"&&g.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(g.buffer)==="[object SharedArrayBuffer]"){for(let I=E;I<E+o;++I)y.setUint8(I,Math.floor(Math.random()*256));return 0}let m;const b=65536;for(m=0;m+b<o;m+=b)crypto.getRandomValues(g.subarray(E+m,E+m+b));return crypto.getRandomValues(g.subarray(E+m,E+o)),0}):ie(this,"random_get",function(E,o){if(E=Number(E),E===0)return 28;o=Number(o);const{view:g}=q(this);for(let y=E;y<E+o;++y)g.setUint8(y,Math.floor(Math.random()*256));return 0}),this.sock_recv=ie(this,"sock_recv",function(){return 58}),this.sock_send=ie(this,"sock_send",function(){return 58}),this.sock_shutdown=ie(this,"sock_shutdown",function(){return 58}),this.sock_accept=ie(this,"sock_accept",function(){return 58}),z.set(this,{fds:d,args:s,env:f}),w&&wt.set(this,w);const k=this;function F(E,o,g,y,m){p?h?k[E]=h.wrapImportFunction(ie(k,E,g)):k[E]=Bo(ie(k,E,g),y,m):k[E]=ie(k,E,o)}F("fd_allocate",function(o,g,y){const m=z.get(this),b=re(this),I=m.fds.get(o,T.FD_ALLOCATE,BigInt(0));return b.fstatSync(I.fd,{bigint:!0}).size<g+y&&b.ftruncateSync(I.fd,Number(g+y)),0},async function(o,g,y){const I=z.get(this).fds.get(o,T.FD_ALLOCATE,BigInt(0)).fd;return(await I.stat({bigint:!0})).size<g+y&&await I.truncate(Number(g+y)),0},["i32","i64","f64"],["i32"]),F("fd_close",function(o){const g=z.get(this),y=g.fds.get(o,BigInt(0),BigInt(0));return re(this).closeSync(y.fd),g.fds.remove(o),0},async function(o){const g=z.get(this);return await g.fds.get(o,BigInt(0),BigInt(0)).fd.close(),g.fds.remove(o),0},["i32"],["i32"]),F("fd_datasync",function(o){const y=z.get(this).fds.get(o,T.FD_DATASYNC,BigInt(0));return re(this).fdatasyncSync(y.fd),0},async function(o){return await z.get(this).fds.get(o,T.FD_DATASYNC,BigInt(0)).fd.datasync(),0},["i32"],["i32"]),F("fd_filestat_get",function(o,g){if(g=Number(g),g===0)return 28;const m=z.get(this).fds.get(o,T.FD_FILESTAT_GET,BigInt(0)),I=re(this).fstatSync(m.fd,{bigint:!0}),{view:C}=q(this);return Ge(C,g,I),0},async function(o,g){if(g=Number(g),g===0)return 28;const I=await z.get(this).fds.get(o,T.FD_FILESTAT_GET,BigInt(0)).fd.stat({bigint:!0}),{view:C}=q(this);return Ge(C,g,I),0},["i32","i32"],["i32"]),F("fd_filestat_set_size",function(o,g){const m=z.get(this).fds.get(o,T.FD_FILESTAT_SET_SIZE,BigInt(0));return re(this).ftruncateSync(m.fd,Number(g)),0},async function(o,g){return await z.get(this).fds.get(o,T.FD_FILESTAT_SET_SIZE,BigInt(0)).fd.truncate(Number(g)),0},["i32","i64"],["i32"]);function P(E,o,g,y){const b=z.get(this).fds.get(E,T.FD_FILESTAT_SET_TIMES,BigInt(0));return(y&2)===2&&(o=BigInt(Date.now()*1e6)),(y&8)===8&&(g=BigInt(Date.now()*1e6)),{fileDescriptor:b,atim:o,mtim:g}}F("fd_filestat_set_times",function(o,g,y,m){if(qe(m))return 28;const{fileDescriptor:b,atim:I,mtim:C}=P.call(this,o,g,y,m);return re(this).futimesSync(b.fd,Number(I),Number(C)),0},async function(o,g,y,m){if(qe(m))return 28;const{fileDescriptor:b,atim:I,mtim:C}=P.call(this,o,g,y,m);return await b.fd.utimes(Number(I),Number(C)),0},["i32","i64","i64","i32"],["i32"]),F("fd_pread",function(o,g,y,m,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||m>Je)return 28;const{HEAPU8:I,view:C}=q(this),B=z.get(this).fds.get(o,T.FD_READ|T.FD_SEEK,BigInt(0));if(!y)return C.setUint32(b,0,!0),0;let D=0;const V=Array.from({length:Number(y)},(Y,$)=>{const X=g+$*8,fe=C.getInt32(X,!0),he=C.getUint32(X+4,!0);return D+=he,I.subarray(fe,fe+he)});let R=0;const U=(()=>{try{return new Uint8Array(new SharedArrayBuffer(D))}catch{return new Uint8Array(D)}})();U._isBuffer=!0;const J=re(this).readSync(B.fd,U,0,U.length,Number(m));return R=U?Te(V,U.subarray(0,J)):0,C.setUint32(b,R,!0),0},async function(E,o,g,y,m){if(o=Number(o),m=Number(m),o===0&&g||m===0||y>Je)return 28;const{HEAPU8:b,view:I}=q(this),O=z.get(this).fds.get(E,T.FD_READ|T.FD_SEEK,BigInt(0));if(!g)return I.setUint32(m,0,!0),0;let B=0;const D=Array.from({length:Number(g)},(j,J)=>{const Y=o+J*8,$=I.getInt32(Y,!0),X=I.getUint32(Y+4,!0);return B+=X,b.subarray($,$+X)});let V=0;const R=new Uint8Array(B);R._isBuffer=!0;const{bytesRead:U}=await O.fd.read(R,0,R.length,Number(y));return V=R?Te(D,R.subarray(0,U)):0,I.setUint32(m,V,!0),0},["i32","i32","i32","i64","i32"],["i32"]),F("fd_pwrite",function(o,g,y,m,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||m>Je)return 28;const{HEAPU8:I,view:C}=q(this),B=z.get(this).fds.get(o,T.FD_WRITE|T.FD_SEEK,BigInt(0));if(!y)return C.setUint32(b,0,!0),0;const D=Ue(Array.from({length:Number(y)},(U,j)=>{const J=g+j*8,Y=C.getInt32(J,!0),$=C.getUint32(J+4,!0);return I.subarray(Y,Y+$)})),R=re(this).writeSync(B.fd,D,0,D.length,Number(m));return C.setUint32(b,R,!0),0},async function(o,g,y,m,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||m>Je)return 28;const{HEAPU8:I,view:C}=q(this),B=z.get(this).fds.get(o,T.FD_WRITE|T.FD_SEEK,BigInt(0));if(!y)return C.setUint32(b,0,!0),0;const D=Ue(Array.from({length:Number(y)},(R,U)=>{const j=g+U*8,J=C.getInt32(j,!0),Y=C.getUint32(j+4,!0);return I.subarray(J,J+Y)})),{bytesWritten:V}=await B.fd.write(D,0,D.length,Number(m));return C.setUint32(b,V,!0),0},["i32","i32","i32","i64","i32"],["i32"]),F("fd_read",function(o,g,y,m){if(g=Number(g),m=Number(m),g===0&&y||m===0)return 28;const{HEAPU8:b,view:I}=q(this),O=z.get(this).fds.get(o,T.FD_READ,BigInt(0));if(!y)return I.setUint32(m,0,!0),0;let B=0;const D=Array.from({length:Number(y)},(U,j)=>{const J=g+j*8,Y=I.getInt32(J,!0),$=I.getUint32(J+4,!0);return B+=$,b.subarray(Y,Y+$)});let V,R=0;if(o===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;V=Qr(),R=V?Te(D,V):0}else{V=(()=>{try{return new Uint8Array(new SharedArrayBuffer(B))}catch{return new Uint8Array(B)}})(),V._isBuffer=!0;const j=re(this).readSync(O.fd,V,0,V.length,Number(O.pos));R=V?Te(D,V.subarray(0,j)):0,O.pos+=BigInt(R)}return I.setUint32(m,R,!0),0},async function(o,g,y,m){if(g=Number(g),m=Number(m),g===0&&y||m===0)return 28;const{HEAPU8:b,view:I}=q(this),O=z.get(this).fds.get(o,T.FD_READ,BigInt(0));if(!y)return I.setUint32(m,0,!0),0;let B=0;const D=Array.from({length:Number(y)},(U,j)=>{const J=g+j*8,Y=I.getInt32(J,!0),$=I.getUint32(J+4,!0);return B+=$,b.subarray(Y,Y+$)});let V,R=0;if(o===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;V=Qr(),R=V?Te(D,V):0}else{V=new Uint8Array(B),V._isBuffer=!0;const{bytesRead:U}=await O.fd.read(V,0,V.length,Number(O.pos));R=V?Te(D,V.subarray(0,U)):0,O.pos+=BigInt(R)}return I.setUint32(m,R,!0),0},["i32","i32","i32","i32"],["i32"]),F("fd_readdir",function(o,g,y,m,b){if(g=Number(g),y=Number(y),b=Number(b),g===0||b===0)return 0;const C=z.get(this).fds.get(o,T.FD_READDIR,BigInt(0)),O=re(this),B=O.readdirSync(C.realPath,{withFileTypes:!0}),{HEAPU8:D,view:V}=q(this);let R=0;for(let U=Number(m);U<B.length;U++){const j=Ee.encode(B[U].name),J=O.statSync(ue(C.realPath,B[U].name),{bigint:!0}),Y=new Uint8Array(24+j.byteLength),$=new DataView(Y.buffer);$.setBigUint64(0,BigInt(U+1),!0),$.setBigUint64(8,BigInt(J.ino?J.ino:0),!0),$.setUint32(16,j.byteLength,!0);let X;B[U].isFile()?X=4:B[U].isDirectory()?X=3:B[U].isSymbolicLink()?X=7:B[U].isCharacterDevice()?X=2:B[U].isBlockDevice()?X=1:B[U].isSocket()?X=6:X=0,$.setUint8(20,X),Y.set(j,24);const fe=Y.slice(0,Math.min(Y.length,y-R));D.set(fe,g+R),R+=fe.byteLength}return V.setUint32(b,R,!0),0},async function(o,g,y,m,b){if(g=Number(g),y=Number(y),b=Number(b),g===0||b===0)return 0;const C=z.get(this).fds.get(o,T.FD_READDIR,BigInt(0)),O=re(this),B=await O.promises.readdir(C.realPath,{withFileTypes:!0}),{HEAPU8:D,view:V}=q(this);let R=0;for(let U=Number(m);U<B.length;U++){const j=Ee.encode(B[U].name),J=await O.promises.stat(ue(C.realPath,B[U].name),{bigint:!0}),Y=new Uint8Array(24+j.byteLength),$=new DataView(Y.buffer);$.setBigUint64(0,BigInt(U+1),!0),$.setBigUint64(8,BigInt(J.ino?J.ino:0),!0),$.setUint32(16,j.byteLength,!0);let X;B[U].isFile()?X=4:B[U].isDirectory()?X=3:B[U].isSymbolicLink()?X=7:B[U].isCharacterDevice()?X=2:B[U].isBlockDevice()?X=1:B[U].isSocket()?X=6:X=0,$.setUint8(20,X),Y.set(j,24);const fe=Y.slice(0,Math.min(Y.length,y-R));D.set(fe,g+R),R+=fe.byteLength}return V.setUint32(b,R,!0),0},["i32","i32","i32","i64","i32"],["i32"]),F("fd_renumber",function(o,g){return z.get(this).fds.renumber(g,o),0},async function(o,g){return await z.get(this).fds.renumber(g,o),0},["i32","i32"],["i32"]),F("fd_sync",function(o){const y=z.get(this).fds.get(o,T.FD_SYNC,BigInt(0));return re(this).fsyncSync(y.fd),0},async function(o){return await z.get(this).fds.get(o,T.FD_SYNC,BigInt(0)).fd.sync(),0},["i32"],["i32"]),F("fd_write",function(o,g,y,m){if(g=Number(g),m=Number(m),g===0&&y||m===0)return 28;const{HEAPU8:b,view:I}=q(this),O=z.get(this).fds.get(o,T.FD_WRITE,BigInt(0));if(!y)return I.setUint32(m,0,!0),0;const B=Ue(Array.from({length:Number(y)},(V,R)=>{const U=g+R*8,j=I.getInt32(U,!0),J=I.getUint32(U+4,!0);return b.subarray(j,j+J)}));let D;return o===1||o===2?D=O.write(B):(D=re(this).writeSync(O.fd,B,0,B.length,Number(O.pos)),O.pos+=BigInt(D)),I.setUint32(m,D,!0),0},async function(o,g,y,m){if(g=Number(g),m=Number(m),g===0&&y||m===0)return 28;const{HEAPU8:b,view:I}=q(this),O=z.get(this).fds.get(o,T.FD_WRITE,BigInt(0));if(!y)return I.setUint32(m,0,!0),0;const B=Ue(Array.from({length:Number(y)},(V,R)=>{const U=g+R*8,j=I.getInt32(U,!0),J=I.getUint32(U+4,!0);return b.subarray(j,j+J)}));let D;return o===1||o===2?D=O.write(B):(D=await(await O.fd.write(B,0,B.length,Number(O.pos))).bytesWritten,O.pos+=BigInt(D)),I.setUint32(m,D,!0),0},["i32","i32","i32","i32"],["i32"]),F("path_create_directory",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_CREATE_DIRECTORY,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),re(this).mkdirSync(C),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_CREATE_DIRECTORY,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),await re(this).promises.mkdir(C),0},["i32","i32","i32"],["i32"]),F("path_filestat_get",function(o,g,y,m,b){if(y=Number(y),m=Number(m),b=Number(b),y===0||b===0)return 28;const{HEAPU8:I,view:C}=q(this),B=z.get(this).fds.get(o,T.PATH_FILESTAT_GET,BigInt(0));let D=se.decode(ae(I,y,y+m));const V=re(this);D=ue(B.realPath,D);let R;return(g&1)===1?R=V.statSync(D,{bigint:!0}):R=V.lstatSync(D,{bigint:!0}),Ge(C,b,R),0},async function(o,g,y,m,b){if(y=Number(y),m=Number(m),b=Number(b),y===0||b===0)return 28;const{HEAPU8:I,view:C}=q(this),B=z.get(this).fds.get(o,T.PATH_FILESTAT_GET,BigInt(0));let D=se.decode(ae(I,y,y+m));const V=re(this);D=ue(B.realPath,D);let R;return(g&1)===1?R=await V.promises.stat(D,{bigint:!0}):R=await V.promises.lstat(D,{bigint:!0}),Ge(C,b,R),0},["i32","i32","i32","i32","i32"],["i32"]),F("path_filestat_set_times",function(o,g,y,m,b,I,C){if(y=Number(y),m=Number(m),y===0)return 28;const{HEAPU8:O}=q(this),D=z.get(this).fds.get(o,T.PATH_FILESTAT_SET_TIMES,BigInt(0));if(qe(C))return 28;const V=re(this),R=Er(V,D,se.decode(ae(O,y,y+m)),g);return(C&2)===2&&(b=BigInt(Date.now()*1e6)),(C&8)===8&&(I=BigInt(Date.now()*1e6)),V.utimesSync(R,Number(b),Number(I)),0},async function(o,g,y,m,b,I,C){if(y=Number(y),m=Number(m),y===0)return 28;const{HEAPU8:O}=q(this),D=z.get(this).fds.get(o,T.PATH_FILESTAT_SET_TIMES,BigInt(0));if(qe(C))return 28;const V=re(this),R=await mr(V,D,se.decode(ae(O,y,y+m)),g);return(C&2)===2&&(b=BigInt(Date.now()*1e6)),(C&8)===8&&(I=BigInt(Date.now()*1e6)),await V.promises.utimes(R,Number(b),Number(I)),0},["i32","i32","i32","i32","i64","i64","i32"],["i32"]),F("path_link",function(o,g,y,m,b,I,C){if(y=Number(y),m=Number(m),I=Number(I),C=Number(C),y===0||I===0)return 28;const O=z.get(this);let B,D;o===b?B=D=O.fds.get(o,T.PATH_LINK_SOURCE|T.PATH_LINK_TARGET,BigInt(0)):(B=O.fds.get(o,T.PATH_LINK_SOURCE,BigInt(0)),D=O.fds.get(b,T.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:V}=q(this),R=re(this),U=Er(R,B,se.decode(ae(V,y,y+m)),g),j=ue(D.realPath,se.decode(ae(V,I,I+C)));return R.linkSync(U,j),0},async function(o,g,y,m,b,I,C){if(y=Number(y),m=Number(m),I=Number(I),C=Number(C),y===0||I===0)return 28;const O=z.get(this);let B,D;o===b?B=D=O.fds.get(o,T.PATH_LINK_SOURCE|T.PATH_LINK_TARGET,BigInt(0)):(B=O.fds.get(o,T.PATH_LINK_SOURCE,BigInt(0)),D=O.fds.get(b,T.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:V}=q(this),R=re(this),U=await mr(R,B,se.decode(ae(V,y,y+m)),g),j=ue(D.realPath,se.decode(ae(V,I,I+C)));return await R.promises.link(U,j),0},["i32","i32","i32","i32","i32","i32","i32"],["i32"]);function M(E,o,g,y){const m=(o&(T.FD_READ|T.FD_READDIR))!==BigInt(0),b=(o&(T.FD_DATASYNC|T.FD_WRITE|T.FD_ALLOCATE|T.FD_FILESTAT_SET_SIZE))!==BigInt(0);let I=b?m?2:1:0,C=T.PATH_OPEN,O=o|g;return(E&1)!==0&&(I|=64,C|=T.PATH_CREATE_FILE),(E&2)!==0&&(I|=65536),(E&4)!==0&&(I|=128),(E&8)!==0&&(I|=512,C|=T.PATH_FILESTAT_SET_SIZE),(y&1)!==0&&(I|=1024),(y&2)!==0&&(O|=T.FD_DATASYNC),(y&4)!==0&&(I|=2048),(y&8)!==0&&(I|=1052672,O|=T.FD_SYNC),(y&16)!==0&&(I|=1052672,O|=T.FD_SYNC),b&&(I&1536)===0&&(O|=T.FD_SEEK),{flags:I,needed_base:C,needed_inheriting:O}}F("path_open",function(o,g,y,m,b,I,C,O,B){if(y=Number(y),B=Number(B),y===0||B===0)return 28;m=Number(m),I=BigInt(I),C=BigInt(C);const{flags:D,needed_base:V,needed_inheriting:R}=M(b,I,C,O),U=z.get(this),j=U.fds.get(o,V,R),J=q(this),Y=J.HEAPU8,$=se.decode(ae(Y,y,y+m)),X=re(this),fe=Er(X,j,$,g),he=X.openSync(fe,D,438),me=U.fds.getFileTypeByFd(he);if(me!==3&&((b&2)!==0||fe.endsWith("/")))return 54;const{base:Be,inheriting:Oe}=Ve(U.fds.stdio,he,D,me),ge=U.fds.insert(he,fe,fe,me,I&Be,C&Oe,0),we=X.fstatSync(he,{bigint:!0});return we.isFile()&&(ge.size=we.size,(D&1024)!==0&&(ge.pos=we.size)),J.view.setInt32(B,ge.id,!0),0},async function(o,g,y,m,b,I,C,O,B){if(y=Number(y),B=Number(B),y===0||B===0)return 28;m=Number(m),I=BigInt(I),C=BigInt(C);const{flags:D,needed_base:V,needed_inheriting:R}=M(b,I,C,O),U=z.get(this),j=U.fds.get(o,V,R),J=q(this),Y=J.HEAPU8,$=se.decode(ae(Y,y,y+m)),X=re(this),fe=await mr(X,j,$,g),he=await X.promises.open(fe,D,438),me=await U.fds.getFileTypeByFd(he);if((b&2)!==0&&me!==3)return 54;const{base:Be,inheriting:Oe}=Ve(U.fds.stdio,he.fd,D,me),ge=U.fds.insert(he,fe,fe,me,I&Be,C&Oe,0),we=await he.stat({bigint:!0});return we.isFile()&&(ge.size=we.size,(D&1024)!==0&&(ge.pos=we.size)),J.view.setInt32(B,ge.id,!0),0},["i32","i32","i32","i32","i32","i64","i64","i32","i32"],["i32"]),F("path_readlink",function(o,g,y,m,b,I){if(g=Number(g),y=Number(y),m=Number(m),b=Number(b),I=Number(I),g===0||m===0||I===0)return 28;const{HEAPU8:C,view:O}=q(this),D=z.get(this).fds.get(o,T.PATH_READLINK,BigInt(0));let V=se.decode(ae(C,g,g+y));V=ue(D.realPath,V);const U=re(this).readlinkSync(V),j=Ee.encode(U),J=Math.min(j.length,b);return J>=b?42:(C.set(j.subarray(0,J),m),C[m+J]=0,O.setUint32(I,J,!0),0)},async function(o,g,y,m,b,I){if(g=Number(g),y=Number(y),m=Number(m),b=Number(b),I=Number(I),g===0||m===0||I===0)return 28;const{HEAPU8:C,view:O}=q(this),D=z.get(this).fds.get(o,T.PATH_READLINK,BigInt(0));let V=se.decode(ae(C,g,g+y));V=ue(D.realPath,V);const U=await re(this).promises.readlink(V),j=Ee.encode(U),J=Math.min(j.length,b);return J>=b?42:(C.set(j.subarray(0,J),m),C[m+J]=0,O.setUint32(I,J,!0),0)},["i32","i32","i32","i32","i32","i32"],["i32"]),F("path_remove_directory",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_REMOVE_DIRECTORY,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),re(this).rmdirSync(C),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_REMOVE_DIRECTORY,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),await re(this).promises.rmdir(C),0},["i32","i32","i32"],["i32"]),F("path_rename",function(o,g,y,m,b,I){if(g=Number(g),y=Number(y),b=Number(b),I=Number(I),g===0||b===0)return 28;const C=z.get(this);let O,B;o===m?O=B=C.fds.get(o,T.PATH_RENAME_SOURCE|T.PATH_RENAME_TARGET,BigInt(0)):(O=C.fds.get(o,T.PATH_RENAME_SOURCE,BigInt(0)),B=C.fds.get(m,T.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:D}=q(this),V=ue(O.realPath,se.decode(ae(D,g,g+y))),R=ue(B.realPath,se.decode(ae(D,b,b+I)));return re(this).renameSync(V,R),0},async function(o,g,y,m,b,I){if(g=Number(g),y=Number(y),b=Number(b),I=Number(I),g===0||b===0)return 28;const C=z.get(this);let O,B;o===m?O=B=C.fds.get(o,T.PATH_RENAME_SOURCE|T.PATH_RENAME_TARGET,BigInt(0)):(O=C.fds.get(o,T.PATH_RENAME_SOURCE,BigInt(0)),B=C.fds.get(m,T.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:D}=q(this),V=ue(O.realPath,se.decode(ae(D,g,g+y))),R=ue(B.realPath,se.decode(ae(D,b,b+I)));return await re(this).promises.rename(V,R),0},["i32","i32","i32","i32","i32","i32"],["i32"]),F("path_symlink",function(o,g,y,m,b){if(o=Number(o),g=Number(g),m=Number(m),b=Number(b),o===0||m===0)return 28;const{HEAPU8:I}=q(this),O=z.get(this).fds.get(y,T.PATH_SYMLINK,BigInt(0)),B=se.decode(ae(I,o,o+g));if(B.length>0&&B[0]==="/")return 63;let D=se.decode(ae(I,m,m+b));return D=ue(O.realPath,D),re(this).symlinkSync(B,D),0},async function(o,g,y,m,b){if(o=Number(o),g=Number(g),m=Number(m),b=Number(b),o===0||m===0)return 28;const{HEAPU8:I}=q(this),O=z.get(this).fds.get(y,T.PATH_SYMLINK,BigInt(0)),B=se.decode(ae(I,o,o+g));let D=se.decode(ae(I,m,m+b));return D=ue(O.realPath,D),await re(this).promises.symlink(B,D),0},["i32","i32","i32","i32","i32"],["i32"]),F("path_unlink_file",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_UNLINK_FILE,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),re(this).unlinkSync(C),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:m}=q(this),I=z.get(this).fds.get(o,T.PATH_UNLINK_FILE,BigInt(0));let C=se.decode(ae(m,g,g+y));return C=ue(I.realPath,C),await re(this).promises.unlink(C),0},["i32","i32","i32"],["i32"]),this._setMemory=function(o){if(!(o instanceof We.Memory))throw new TypeError('"instance.exports.memory" property must be a WebAssembly.Memory');mt.set(k,ko(o))}}static createSync(s,f,d,p,w,h,k){const F=new Io({size:3,in:p[0],out:p[1],err:p[2],fs:w,print:h,printErr:k}),P=new De(s,f,F,!1,w);if(d.length>0)for(let M=0;M<d.length;++M){const E=w.realpathSync(d[M].realPath,"utf8"),o=w.openSync(E,"r",438);F.insertPreopen(o,d[M].mappedPath,E)}return P}static async createAsync(s,f,d,p,w,h,k,F){const P=new Lo({size:3,in:p[0],out:p[1],err:p[2],print:h,printErr:k}),M=new De(s,f,P,!0,w,F);if(d.length>0)for(let E=0;E<d.length;++E){const o=d[E],g=await w.promises.realpath(o.realPath),y=await w.promises.open(g,"r",438);await P.insertPreopen(y,o.mappedPath,g)}return M}}const Fo=Object.freeze(Object.create(null)),Se=Symbol("kExitCode"),bt=Symbol("kSetMemory"),Ar=Symbol("kStarted"),Ze=Symbol("kInstance"),er=Symbol("kBindingName");function Ro(u){var s;ke(u,"options");let f;if(u.version!==void 0)switch(_t(u.version,"options.version"),u.version){case"unstable":f=De,this[er]="wasi_unstable";break;case"preview1":f=De,this[er]="wasi_snapshot_preview1";break;default:throw new TypeError(`unsupported WASI version "${u.version}"`)}else f=De,this[er]="wasi_snapshot_preview1";u.args!==void 0&&Os(u.args,"options.args");const d=((s=u.args)!==null&&s!==void 0?s:[]).map(String),p=[];u.env!==void 0&&(ke(u.env,"options.env"),Object.entries(u.env).forEach(({0:k,1:F})=>{F!==void 0&&p.push(`${k}=${F}`)}));const w=[];if(u.preopens!==void 0&&(ke(u.preopens,"options.preopens"),Object.entries(u.preopens).forEach(({0:k,1:F})=>w.push({mappedPath:String(k),realPath:String(F)}))),w.length>0){if(u.fs===void 0)throw new Error("filesystem is disabled, can not preopen directory");try{ke(u.fs,"options.fs")}catch{throw new TypeError("Node.js fs like implementation is not provided")}}return u.print!==void 0&&nr(u.print,"options.print"),u.printErr!==void 0&&nr(u.printErr,"options.printErr"),u.returnOnExit!==void 0&&Fs(u.returnOnExit,"options.returnOnExit"),{args:d,env:p,preopens:w,stdio:[0,1,2],_WASI:f}}function No(u,s){this[bt]=u,this.wasiImport=s,this[Ar]=!1,this[Se]=0,this[Ze]=void 0}class xo{constructor(s=Fo){const{args:f,env:d,preopens:p,stdio:w,_WASI:h}=Ro.call(this,s),k=h.createSync(f,d,p,w,s.fs,s.print,s.printErr),F=k._setMemory;delete k._setMemory,No.call(this,F,k),s.returnOnExit&&(k.proc_exit=Po.bind(this))}finalizeBindings(s,f){var d,{memory:p=(d=s?.exports)===null||d===void 0?void 0:d.memory}=f===void 0?{}:f;if(this[Ar])throw new Error("WASI instance has already started");ke(s,"instance"),ke(s.exports,"instance.exports"),this[bt](p),this[Ze]=s,this[Ar]=!0}start(s){this.finalizeBindings(s);const{_start:f,_initialize:d}=this[Ze].exports;nr(f,"instance.exports._start"),qr(d,"instance.exports._initialize");let p;try{p=f()}catch(w){if(w!==Se)throw w}return p instanceof Promise?p.then(()=>this[Se],w=>{if(w!==Se)throw w;return this[Se]}):this[Se]}initialize(s){this.finalizeBindings(s);const{_start:f,_initialize:d}=this[Ze].exports;if(qr(f,"instance.exports._start"),d!==void 0)return nr(d,"instance.exports._initialize"),d()}getImportObject(){return{[this[er]]:this.wasiImport}}}function Po(u){throw this[Se]=u,Se}const Uo=new xo({version:"preview1"}),Vo=new URL("/assets/turso.wasm32-wasi-D-C9BnP8.wasm",import.meta.url).href,Wo=Ds(),Mo=new WebAssembly.Memory({initial:4e3,maximum:65536,shared:!0}),jo=await fetch(Vo).then(u=>u.arrayBuffer()),{instance:Yo,module:Xo,napiModule:Br}=as(jo,{context:Wo,asyncWorkPoolSize:4,wasi:Uo,onCreateWorker(){return new Worker(new URL("/assets/wasi-worker-browser-uSvw5uwF.js",import.meta.url),{type:"module"})},overwriteImports(u){return u.env={...u.env,...u.napi,...u.emnapi,memory:Mo},u},beforeInit({instance:u}){for(const s of Object.keys(u.exports))s.startsWith("__napi_register__")&&u.exports[s]()}});Br.exports;const Ho=Br.exports.Database;Br.exports.Statement;function Ne(u,s){const f=s?.length;if(f!==0){if(f===1){const d=s[0];if(zo(d)){Go(u,d);return}ir(u,1,d);return}Jo(u,s)}}function zo(u){if(!u||typeof u!="object")return!1;const s=Object.getPrototypeOf(u);return s===Object.prototype||s===null}function Go(u,s){const f=u.parameterCount();for(let d=1;d<=f;d++){const p=u.parameterName(d);if(p){const w=p.substring(1),h=s[w];h!==void 0&&ir(u,d,h)}}}function Jo(u,s){let f=1;for(let d=0;d<s.length;d++){const p=s[d];if(Array.isArray(p))for(let w=0;w<p.length;w++)ir(u,f++,p[w]);else ir(u,f++,p)}}function ir(u,s,f){u.bindAt(s,f)}class Or extends Error{name;code;rawCode;constructor(s,f,d){super(s),this.name="SqliteError",this.code=f,this.rawCode=d,Error.captureStackTrace(this,Or)}}const Ke=1,$e=2,Qe=3,qo={TypeError},Yr="[TURSO_CONVERT_TYPE]";function Sr(u){return(u.code??"").startsWith(Yr)?Ko(u.code.substring(Yr.length),u.message):new Or(u.message,u.code,u.rawCode)}function Ko(u,s){const f=qo[u];if(!f)throw new Error(`unknown error type ${u} from Turso`);return new f(s)}class $o{db;memory;open;_inTransaction=!1;constructor(s,f={}){f.readonly=f.readonly===void 0?!1:f.readonly,f.fileMustExist=f.fileMustExist===void 0?!1:f.fileMustExist,f.timeout=f.timeout===void 0?0:f.timeout;const d=new Ho(s);this.initialize(d,f.path,f.readonly)}static create(){return Object.create(this.prototype)}initialize(s,f,d){this.db=s,this.memory=s.memory,Object.defineProperties(this,{inTransaction:{get:()=>this._inTransaction},name:{get(){return f}},readonly:{get(){return d}},open:{get(){return this.db.open}}})}prepare(s){if(!this.open)throw new TypeError("The database connection is not open");if(!s)throw new RangeError("The supplied SQL string contains no statements");try{return new Qo(this.db.prepare(s),this)}catch(f){throw Sr(f)}}transaction(s){if(typeof s!="function")throw new TypeError("Expected first argument to be a function");const f=this,d=w=>(...h)=>{f.exec("BEGIN "+w),f._inTransaction=!0;try{const k=s(...h);return f.exec("COMMIT"),f._inTransaction=!1,k}catch(k){throw f.exec("ROLLBACK"),f._inTransaction=!1,k}},p={default:{value:d("")},deferred:{value:d("DEFERRED")},immediate:{value:d("IMMEDIATE")},exclusive:{value:d("EXCLUSIVE")},database:{value:this,enumerable:!0}};return Object.defineProperties(p.default.value,p),Object.defineProperties(p.deferred.value,p),Object.defineProperties(p.immediate.value,p),Object.defineProperties(p.exclusive.value,p),p.default.value}pragma(s,f){if(f==null&&(f={}),typeof s!="string")throw new TypeError("Expected first argument to be a string");if(typeof f!="object")throw new TypeError("Expected second argument to be an options object");const d=`PRAGMA ${s}`;return this.prepare(d).all()}backup(s,f){throw new Error("not implemented")}serialize(s){throw new Error("not implemented")}function(s,f,d){throw new Error("not implemented")}aggregate(s,f){throw new Error("not implemented")}table(s,f){throw new Error("not implemented")}loadExtension(s){throw new Error("not implemented")}maxWriteReplicationIndex(){throw new Error("not implemented")}exec(s){if(!this.open)throw new TypeError("The database connection is not open");try{this.db.batch(s)}catch(f){throw Sr(f)}}interrupt(){throw new Error("not implemented")}defaultSafeIntegers(s){this.db.defaultSafeIntegers(s)}close(){this.db.close()}}class Qo{stmt;db;constructor(s,f){this.stmt=s,this.db=f}raw(s){return this.stmt.raw(s),this}pluck(s){return this.stmt.pluck(s),this}safeIntegers(s){return this.stmt.safeIntegers(s),this}columns(){return this.stmt.columns()}get source(){throw new Error("not implemented")}get reader(){throw new Error("not implemented")}get database(){return this.db}async run(...s){const f=this.db.db.totalChanges();for(this.stmt.reset(),Ne(this.stmt,s);;){const w=this.stmt.step();if(w===Qe){await this.db.db.ioLoopAsync();continue}if(w===$e)break}const d=this.db.db.lastInsertRowid();return{changes:this.db.db.totalChanges()===f?0:this.db.db.changes(),lastInsertRowid:d}}async get(...s){for(this.stmt.reset(),Ne(this.stmt,s);;){const f=this.stmt.step();if(f===Qe){await this.db.db.ioLoopAsync();continue}if(f===$e)return;if(f===Ke)return this.stmt.row()}}async*iterate(...s){for(this.stmt.reset(),Ne(this.stmt,s);;){const f=this.stmt.step();if(f===Qe){await this.db.db.ioLoopAsync();continue}if(f===$e)break;f===Ke&&(yield this.stmt.row())}}async all(...s){this.stmt.reset(),Ne(this.stmt,s);const f=[];for(;;){const d=this.stmt.step();if(d===Qe){await this.db.db.ioLoopAsync();continue}if(d===$e)break;d===Ke&&f.push(this.stmt.row())}return f}interrupt(){throw new Error("not implemented")}bind(...s){try{return Ne(this.stmt,s),this}catch(f){throw Sr(f)}}}const Fr=new $o(":memory:");await Fr.exec("CREATE TABLE t (x)");await Fr.exec("INSERT INTO t VALUES (1)");console.info(await(await Fr.prepare("SELECT * FROM t")).all());
