(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))p(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const A of d.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&p(A)}).observe(document,{childList:!0,subtree:!0});function l(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function p(h){if(h.ep)return;h.ep=!0;const d=l(h);fetch(h.href,d)}})();var Kr=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0,ja=!1;function Ha(u){return typeof u?.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0}function za(u){var s,l,p=new Int32Array(u),h=Atomics.load(p,0);if(h<=1)return null;var d=Atomics.load(p,1),A=Atomics.load(p,2),k=Atomics.load(p,3),B=new Uint8Array(u),F=B.slice(16,16+d),D=B.slice(16+d,16+d+A),o=B.slice(16+d+A,16+d+A+k),g=new TextDecoder().decode(F),y=new TextDecoder().decode(D),E=new TextDecoder().decode(o),m=(s=globalThis[g])!==null&&s!==void 0?s:g==="RuntimeError"&&(l=Kr.RuntimeError)!==null&&l!==void 0?l:Error,w=new m(y);return Object.defineProperty(w,"stack",{value:E,writable:!0,enumerable:!1,configurable:!0}),w}function Ga(u){return typeof SharedArrayBuffer=="function"&&u instanceof SharedArrayBuffer||Object.prototype.toString.call(u)==="[object SharedArrayBuffer]"}function Ja(u){try{return u instanceof Kr.RuntimeError}catch{return!1}}function $e(u,s){return{__emnapi__:{type:u,payload:s}}}var qa=536870911;function Qr(u){if(u){if(!Ga(u.buffer))throw new Error("Multithread features require shared wasm memory. Try to compile with `-matomics -mbulk-memory` and use `--import-memory --shared-memory` during linking, then create WebAssembly.Memory with `shared: true` option")}else if(typeof SharedArrayBuffer>"u")throw new Error("Current environment does not support SharedArrayBuffer, threads are not available!")}function $a(u){var s;if(typeof u=="boolean")return u?{size:0,strict:!1}:!1;if(typeof u=="number"){if(!(u>=0))throw new RangeError("reuseWorker: size must be a non-negative integer");return{size:u,strict:!1}}if(!u)return!1;var l=(s=Number(u.size))!==null&&s!==void 0?s:0,p=!!u.strict;if(!(l>0)&&p)throw new RangeError("reuseWorker: size must be set to positive integer if strict is set to true");return{size:l,strict:p}}var je=0,Yr=function(){function u(s){var l;if(this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.wasmModule=null,this.wasmMemory=null,this.messageEvents=new WeakMap,!s)throw new TypeError("ThreadManager(): options is not provided");"childThread"in s?this._childThread=!!s.childThread:this._childThread=!1,this._childThread?(this._onCreateWorker=void 0,this._reuseWorker=!1,this._beforeLoad=void 0):(this._onCreateWorker=s.onCreateWorker,this._reuseWorker=$a(s.reuseWorker),this._beforeLoad=s.beforeLoad),this.printErr=(l=s.printErr)!==null&&l!==void 0?l:console.error.bind(console)}return Object.defineProperty(u.prototype,"nextWorkerID",{get:function(){return je},enumerable:!1,configurable:!0}),u.prototype.init=function(){this._childThread||this.initMainThread()},u.prototype.initMainThread=function(){this.preparePool()},u.prototype.preparePool=function(){if(this._reuseWorker&&this._reuseWorker.size)for(var s=this._reuseWorker.size;s--;)this.allocateUnusedWorker()},u.prototype.shouldPreloadWorkers=function(){return!this._childThread&&this._reuseWorker&&this._reuseWorker.size>0},u.prototype.loadWasmModuleToAllWorkers=function(){for(var s=this,l=Array(this.unusedWorkers.length),p=function(A){var k=h.unusedWorkers[A];l[A]=h.loadWasmModuleToWorker(k).then(function(B){return B},function(B){throw B})},h=this,d=0;d<this.unusedWorkers.length;++d)p(d);return Promise.all(l).catch(function(A){throw s.terminateAllThreads(),A})},u.prototype.preloadWorkers=function(){return this.shouldPreloadWorkers()?this.loadWasmModuleToAllWorkers():Promise.resolve([])},u.prototype.setup=function(s,l){this.wasmModule=s,this.wasmMemory=l},u.prototype.markId=function(s){if(s.__emnapi_tid)return s.__emnapi_tid;var l=je+43;return je=(je+1)%(qa-42),this.pthreads[l]=s,s.__emnapi_tid=l,l},u.prototype.returnWorkerToPool=function(s){var l=s.__emnapi_tid;l!==void 0&&delete this.pthreads[l],this.unusedWorkers.push(s),this.runningWorkers.splice(this.runningWorkers.indexOf(s),1),delete s.__emnapi_tid},u.prototype.loadWasmModuleToWorker=function(s,l){var p=this;if(s.whenLoaded)return s.whenLoaded;var h=this.printErr,d=this._beforeLoad,A=this;return s.whenLoaded=new Promise(function(k,B){var F=function(o){var g="worker sent an error!";if(s.__emnapi_tid!==void 0&&(g="worker (tid = "+s.__emnapi_tid+") sent an error!"),"message"in o){if(h(g+" "+o.message),o.message.indexOf("RuntimeError")!==-1||o.message.indexOf("unreachable")!==-1)try{A.terminateAllThreads()}catch{}}else h(g);throw B(o),o},D=function(o){if(o.__emnapi__){var g=o.__emnapi__.type,y=o.__emnapi__.payload;g==="loaded"?(s.loaded=!0,k(s)):g==="cleanup-thread"&&y.tid in p.pthreads&&p.cleanThread(s,y.tid)}};s.onmessage=function(o){D(o.data),p.fireMessageEvent(s,o)},s.onerror=F,typeof d=="function"&&d(s);try{s.postMessage($e("load",{wasmModule:p.wasmModule,wasmMemory:p.wasmMemory,sab:l}))}catch(o){throw Qr(p.wasmMemory),o}}),s.whenLoaded},u.prototype.allocateUnusedWorker=function(){var s=this._onCreateWorker;if(typeof s!="function")throw new TypeError("`options.onCreateWorker` is not provided");var l=s({type:"thread",name:"emnapi-pthread"});return this.unusedWorkers.push(l),l},u.prototype.getNewWorker=function(s){if(this._reuseWorker){if(this.unusedWorkers.length===0){if(this._reuseWorker.strict){var l=this.printErr;l(`Tried to spawn a new thread, but the thread pool is exhausted.
This might result in a deadlock unless some threads eventually exit or the code explicitly breaks out to the event loop.`);return}var p=this.allocateUnusedWorker();this.loadWasmModuleToWorker(p,s)}return this.unusedWorkers.pop()}var h=this.allocateUnusedWorker();return this.loadWasmModuleToWorker(h,s),this.unusedWorkers.pop()},u.prototype.cleanThread=function(s,l,p){if(!p&&this._reuseWorker)this.returnWorkerToPool(s);else{delete this.pthreads[l];var h=this.runningWorkers.indexOf(s);h!==-1&&this.runningWorkers.splice(h,1),this.terminateWorker(s),delete s.__emnapi_tid}},u.prototype.terminateWorker=function(s){var l=this,p,h=s.__emnapi_tid;s.terminate(),(p=this.messageEvents.get(s))===null||p===void 0||p.clear(),this.messageEvents.delete(s),s.onmessage=function(d){if(d.data.__emnapi__){var A=l.printErr;A('received "'+d.data.__emnapi__.type+'" command from terminated worker: '+h)}}},u.prototype.terminateAllThreads=function(){for(var s=0;s<this.runningWorkers.length;++s)this.terminateWorker(this.runningWorkers[s]);for(var s=0;s<this.unusedWorkers.length;++s)this.terminateWorker(this.unusedWorkers[s]);this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.preparePool()},u.prototype.addMessageEventListener=function(s,l){var p=this.messageEvents.get(s);return p||(p=new Set,this.messageEvents.set(s,p)),p.add(l),function(){p?.delete(l)}},u.prototype.fireMessageEvent=function(s,l){var p=this.messageEvents.get(s);if(p){var h=this.printErr;p.forEach(function(d){try{d(l)}catch(A){h(A.stack)}})}},u}(),Mr=Symbol("kIsProxy");function jr(u,s){if(u[Mr])return u;var l=u.exports,p=function(B){for(var F=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],D={},o=function(y){var E=F[y];D[E]=function(){var m=Array.prototype.slice.call(arguments,1);return m.unshift(B),Reflect[E].apply(Reflect,m)}},g=0;g<F.length;g++)o(g);return D},h=p(l),d=function(){},A=function(){return 0};h.get=function(B,F,D){var o;return F==="memory"?(o=typeof s=="function"?s():s)!==null&&o!==void 0?o:Reflect.get(l,F,D):F==="_initialize"?F in l?d:void 0:F==="_start"?F in l?A:void 0:Reflect.get(l,F,D)},h.has=function(B,F){return F==="memory"?!0:Reflect.has(l,F)};var k=new Proxy(Object.create(null),h);return new Proxy(u,{get:function(B,F,D){return F==="exports"?k:F===Mr?!0:Reflect.get(B,F,D)}})}var Xr=new WeakMap,Ka=function(){function u(s){var l=this;if(!s)throw new TypeError("WASIThreads(): options is not provided");if(!s.wasi)throw new TypeError("WASIThreads(): options.wasi is not provided");Xr.set(this,new WeakSet);var p=s.wasi;Qa(this,p),this.wasi=p,"childThread"in s?this.childThread=!!s.childThread:this.childThread=!1,this.PThread=void 0,"threadManager"in s?typeof s.threadManager=="function"?this.PThread=s.threadManager():this.PThread=s.threadManager:this.childThread||(this.PThread=new Yr(s),this.PThread.init());var h=!1;"waitThreadStart"in s&&(h=typeof s.waitThreadStart=="number"?s.waitThreadStart:!!s.waitThreadStart);var d=Ha(s);if(this.childThread&&typeof d!="function")throw new TypeError("options.postMessage is not a function");this.postMessage=d;var A=!!s.wasm64,k=function(F){if(F.data.__emnapi__){var D=F.data.__emnapi__.type,o=F.data.__emnapi__.payload;D==="spawn-thread"?B(o.startArg,o.errorOrTid):D==="terminate-all-threads"&&l.terminateAllThreads()}},B=function(F,D){var o,g=6,y=D!==void 0;try{Qr(l.wasmMemory)}catch(K){if((o=l.PThread)===null||o===void 0||o.printErr(K.stack),y){var E=new Int32Array(l.wasmMemory.buffer,D,2);return Atomics.store(E,0,1),Atomics.store(E,1,g),Atomics.notify(E,1),1}else return-g}if(!y){var m=l.wasmInstance.exports.malloc;if(D=A?Number(m(BigInt(8))):m(8),!D)return-48}var w=l.wasmInstance.exports.free,S=A?function(K){w(BigInt(K))}:w,T=new Int32Array(l.wasmMemory.buffer,D,2);if(Atomics.store(T,0,0),Atomics.store(T,1,0),l.childThread){d($e("spawn-thread",{startArg:F,errorOrTid:D})),Atomics.wait(T,1,0);var N=Atomics.load(T,0),R=Atomics.load(T,1);return y?N:(S(D),N?-R:R)}var O=h||h===0,x;O&&(x=new Int32Array(new SharedArrayBuffer(8208)),Atomics.store(x,0,0));var V,W,j=l.PThread;try{if(V=j.getNewWorker(x),!V)throw new Error("failed to get new worker");if(j.addMessageEventListener(V,k),W=j.markId(V),V.postMessage($e("start",{tid:W,arg:F,sab:x})),O){if(typeof h=="number"){var J=Atomics.wait(x,0,0,h);if(J==="timed-out"){try{j.cleanThread(V,W,!0)}catch{}throw new Error("Spawning thread timed out. Please check if the worker is created successfully and if message is handled properly in the worker.")}}else Atomics.wait(x,0,0);var Y=Atomics.load(x,0);if(Y>1){try{j.cleanThread(V,W,!0)}catch{}throw za(x.buffer)}}}catch(K){return Atomics.store(T,0,1),Atomics.store(T,1,g),Atomics.notify(T,1),j?.printErr(K.stack),y?1:(S(D),-g)}return Atomics.store(T,0,0),Atomics.store(T,1,W),Atomics.notify(T,1),j.runningWorkers.push(V),O||V.whenLoaded.catch(function(K){throw delete V.whenLoaded,j.cleanThread(V,W,!0),K}),y?0:(S(D),W)};this.threadSpawn=B}return u.prototype.getImportObject=function(){return{wasi:{"thread-spawn":this.threadSpawn}}},u.prototype.setup=function(s,l,p){p??(p=s.exports.memory),this.wasmInstance=s,this.wasmMemory=p,this.PThread&&this.PThread.setup(l,p)},u.prototype.preloadWorkers=function(){return this.PThread?this.PThread.preloadWorkers():Promise.resolve([])},u.prototype.initialize=function(s,l,p){var h=s.exports;p??(p=h.memory),this.childThread&&(s=jr(s,p)),this.setup(s,l,p);var d=this.wasi;if("_start"in h&&typeof h._start=="function")if(this.childThread){d.start(s);try{var A=Zr(d,"kStarted");d[A]=!1}catch{}}else Ya(d,s);else d.initialize(s);return s},u.prototype.start=function(s,l,p){var h=s.exports;p??(p=h.memory),this.childThread&&(s=jr(s,p)),this.setup(s,l,p);var d=this.wasi.start(s);return{exitCode:d,instance:s}},u.prototype.terminateAllThreads=function(){var s;this.childThread?this.postMessage($e("terminate-all-threads",{})):(s=this.PThread)===null||s===void 0||s.terminateAllThreads()},u}();function Qa(u,s){var l=Xr.get(u);if(!l.has(s)){var p=u,h=s.wasiImport;if(h){var d=h.proc_exit;h.proc_exit=function(k){return p.terminateAllThreads(),d.call(this,k)}}if(!p.childThread){var A=s.start;typeof A=="function"&&(s.start=function(k){try{return A.call(this,k)}catch(B){throw Ja(B)&&p.terminateAllThreads(),B}})}l.add(s)}}function Zr(u,s){var l=Object.getOwnPropertySymbols(u),p=function(h){return function(d){return d.description?d.description===h:d.toString()==="Symbol(".concat(h,")")}};return Array.isArray(s)?s.map(function(h){return l.filter(p(h))[0]}):l.filter(p(s))[0]}function Ya(u,s){var l=Zr(u,["kInstance","kSetMemory"]),p=l[0],h=l[1];u[p]=s,u[h](s.exports.memory)}var mr=function(u,s){return mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])},mr(u,s)};function be(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");mr(u,s);function l(){this.constructor=u}u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var _e=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;function et(u){if(u&&typeof u!="object")throw new TypeError("imports must be an object or undefined");return!0}function Re(u,s){if(!u)throw new TypeError("Invalid wasm source");et(s),s=s??{};try{var l=typeof u=="object"&&u!==null&&"then"in u?u.then:void 0;if(typeof l=="function")return l.call(u,function(h){return Re(h,s)})}catch{}if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))return _e.instantiate(u,s);if(u instanceof _e.Module)return _e.instantiate(u,s).then(function(h){return{instance:h,module:u}});if(typeof Response<"u"&&u instanceof Response)return u.arrayBuffer().then(function(h){return _e.instantiate(h,s)});var p=typeof u=="string";if(p||typeof URL<"u"&&u instanceof URL){if(p&&typeof wx<"u"&&typeof __wxConfig<"u")return _e.instantiate(u,s);if(typeof fetch!="function")throw new TypeError("wasm source can not be a string or URL in this environment");if(typeof _e.instantiateStreaming=="function")try{return _e.instantiateStreaming(fetch(u),s).catch(function(){return Re(fetch(u),s)})}catch{return Re(fetch(u),s)}else return Re(fetch(u),s)}throw new TypeError("Invalid wasm source")}function Xa(u,s){if(!u)throw new TypeError("Invalid wasm source");et(s),s=s??{};var l;if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))l=new _e.Module(u);else if(u instanceof WebAssembly.Module)l=u;else throw new TypeError("Invalid wasm source");var p=new _e.Instance(l,s),h={instance:p,module:l};return h}function Za(u){var s=function(){var l=!!u.childThread,p=typeof u.waitThreadStart=="number"?u.waitThreadStart:!!u.waitThreadStart,h,d,A,k,B;function F(e){throw typeof _e.RuntimeError=="function"?new _e.RuntimeError(e):Error(e)}var D={imports:{env:{},napi:{},emnapi:{}},exports:{},emnapi:{},loaded:!1,filename:"",childThread:l,initWorker:void 0,executeAsyncWork:void 0,waitThreadStart:p,PThread:void 0,init:function(e){if(D.loaded)return D.exports;if(!e)throw new TypeError("Invalid napi init options");var i=e.instance;if(!i?.exports)throw new TypeError("Invalid wasm instance");h=i;var t=i.exports,r=e.module,n=e.memory||t.memory,a=e.table||t.__indirect_function_table;if(!(r instanceof _e.Module))throw new TypeError("Invalid wasm module");if(!(n instanceof _e.Memory))throw new TypeError("Invalid wasm memory");if(!(a instanceof _e.Table))throw new TypeError("Invalid wasm table");if(d=n,A=a,typeof t.malloc!="function")throw new TypeError("malloc is not exported");if(typeof t.free!="function")throw new TypeError("free is not exported");if(k=t.malloc,B=t.free,!D.childThread){var c=8,f=i.exports.node_api_module_get_api_version_v1;typeof f=="function"&&(c=f());var _=D.envObject||(D.envObject=o.createEnv(D.filename,c,function(I){return A.get(I)},function(I){return A.get(I)},F,g)),v=o.openScope(_);try{_.callIntoModule(function(I){var b=D.exports,P=v.add(b),U=i.exports.napi_register_wasm_v1,M=U(I.id,P.id);D.exports=M?o.handleStore.get(M).value:b})}finally{o.closeScope(_,v)}return D.loaded=!0,delete D.envObject,D.exports}}},o,g,y=void 0,E;if(l){o=u?.context;var w=typeof u.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0;if(typeof w!="function")throw new TypeError("No postMessage found");D.postMessage=w}else{var m=u.context;if(typeof m!="object"||m===null)throw new TypeError("Invalid `options.context`. Use `import { getDefaultContext } from '@emnapi/runtime'`");o=m}if(typeof u.filename=="string"&&(D.filename=u.filename),typeof u.onCreateWorker=="function"&&(y=u.onCreateWorker),typeof u.print=="function"?u.print:console.log.bind(console),typeof u.printErr=="function"?E=u.printErr:E=console.warn.bind(console),"nodeBinding"in u){var S=u.nodeBinding;if(typeof S!="object"||S===null)throw new TypeError("Invalid `options.nodeBinding`. Use @emnapi/node-binding package");g=S}var T=0;if("asyncWorkPoolSize"in u){if(typeof u.asyncWorkPoolSize!="number")throw new TypeError("options.asyncWorkPoolSize must be a integer");T=u.asyncWorkPoolSize>>0,T>1024?T=1024:T<-1024&&(T=-1024)}var N=l?!1:T<=0;function R(){return Math.abs(T)}D.imports.env._emnapi_async_work_pool_size=R;function O(e){if(!e)return!1;if(e._emnapiSendListener)return!0;var i=function(r){var n=r.data,a=n.__emnapi__;if(a&&a.type==="async-send")if(l){var c=D.postMessage;c({__emnapi__:a})}else{var f=a.payload.callback;A.get(f)(a.payload.data)}},t=function(){e.removeEventListener("message",i,!1),delete e._emnapiSendListener};return e._emnapiSendListener={handler:i,dispose:t},e.addEventListener("message",i,!1),!0}D.emnapi.addSendListener=O;var x=new Yr(l?{printErr:E,childThread:!0}:{printErr:E,beforeLoad:function(e){O(e)},reuseWorker:u.reuseWorker,onCreateWorker:y});D.PThread=x;function V(e,i,t,r){var n=o.envStore.get(e);return n.setLastError(i,t,r)}function W(e){var i=o.envStore.get(e);return i.clearLastError()}function j(e,i,t){var r=[0,0,0],n=new DataView(d.buffer);n.setUint32(e,r[0],!0),n.setUint32(i,r[1],!0),n.setUint32(t,r[2],!0)}function J(){}function Y(){}function K(e,i){o.feature.setImmediate(function(){A.get(e)(i)})}function X(e,i){Promise.resolve().then(function(){A.get(e)(i)})}function le(e,i,t,r,n){var a=o.envStore.get(i),c=o.openScope(a);try{a.callbackIntoModule(!!e,function(){A.get(t)(i,r)})}catch(f){throw o.closeScope(a,c),n&&o.closeScope(a),f}o.closeScope(a,c)}function he(e,i,t,r,n){var a=o.envStore.get(i);a.callFinalizerInternal(e,t,r,n)}function me(){o.increaseWaitingRequestCounter()}function Be(){o.decreaseWaitingRequestCounter()}function Se(e,i){var t,r=[i>>>0,(t=i,+Math.abs(t)>=1?t>0?(Math.min(+Math.floor(t/4294967296),4294967295)|0)>>>0:~~+Math.ceil((t-+(~~t>>>0))/4294967296)>>>0:0)],n=new DataView(d.buffer);n.setInt32(e,r[0],!0),n.setInt32(e+4,r[1],!0)}var we=Object.freeze({__proto__:null,$emnapiSetValueI64:Se,_emnapi_call_finalizer:he,_emnapi_callback_into_module:le,_emnapi_ctx_decrease_waiting_request_counter:Be,_emnapi_ctx_increase_waiting_request_counter:me,_emnapi_get_node_version:j,_emnapi_next_tick:X,_emnapi_runtime_keepalive_pop:Y,_emnapi_runtime_keepalive_push:J,_emnapi_set_immediate:K,napi_clear_last_error:W,napi_set_last_error:V});function ge(e){var i=new DataView(d.buffer),t=20,r=i.getInt32(e+t,!0),n=x.pthreads[r];return n}function nr(e){if(!l){var i=ge(e);i&&typeof i.unref=="function"&&i.unref()}}function wt(e,i,t){if(l){var r=D.postMessage;r({__emnapi__:{type:"async-send",payload:{callback:i,data:t}}})}else switch(e){case 0:K(i,t);break;case 1:X(i,t);break}}var Br,Me=new Promise(function(e){Br=function(){Me.ready=!0,e()}});Me.ready=!1;function bt(){return typeof window<"u"&&typeof document<"u"?1:0}function At(e,i,t){Me.ready?A.get(e)(i,t):Me.then(function(){A.get(e)(i,t)})}function St(e,i){for(var t=[],r=new DataView(d.buffer),n=function(c){var f=r.getInt32(e+c*4,!0),_=ge(f);t.push(new Promise(function(v){var I=function(b){var P=b.data,U=P.__emnapi__;U&&U.type==="async-thread-ready"&&(v(),_&&typeof _.unref=="function"&&_.unref(),_.removeEventListener("message",I))};_.addEventListener("message",I)}))},a=0;a<i;a++)n(a);Promise.all(t).then(Br)}function It(){if(l){var e=D.postMessage;e({__emnapi__:{type:"async-thread-ready",payload:{}}})}}var Lt=Object.freeze({__proto__:null,_emnapi_after_uvthreadpool_ready:At,_emnapi_async_send_js:wt,_emnapi_emit_async_thread_ready:It,_emnapi_is_main_browser_thread:bt,_emnapi_tell_js_uvthreadpool:St,_emnapi_worker_unref:nr});function Tt(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(!t)return r.setLastError(1);var n=Number(i);if(n<0)return r.setLastError(1);var a=d.buffer.byteLength,c=a+n;if(c=c+(65536-c%65536)%65536,d.grow(c-a+65535>>16)===-1)return r.setLastError(9);if(o.feature.supportBigInt){var f=new DataView(d.buffer);f.setBigInt64(t,BigInt(d.buffer.byteLength),!0)}else Se(t,d.buffer.byteLength);return r.clearLastError()}var Ct=Object.freeze({__proto__:null,napi_adjust_external_memory:Tt}),te={idGen:{},values:[void 0],queued:new Set,pending:[],init:function(){var e={nextId:1,list:[],generate:function(){var i;return e.list.length?i=e.list.shift():(i=e.nextId,e.nextId++),i},reuse:function(i){e.list.push(i)}};te.idGen=e,te.values=[void 0],te.queued=new Set,te.pending=[]},create:function(e,i,t,r,n,a){var c=0,f=0;if(g){var _=g.node.emitAsyncInit(i,t,-1);c=_.asyncId,f=_.triggerAsyncId}var v=te.idGen.generate();return te.values[v]={env:e,id:v,resource:i,asyncId:c,triggerAsyncId:f,status:0,execute:r,complete:n,data:a},v},callComplete:function(e,i){var t=e.complete,r=e.env,n=e.data,a=function(){if(t){var c=o.envStore.get(r),f=o.openScope(c);try{c.callbackIntoModule(!0,function(){A.get(t)(r,i,n)})}finally{o.closeScope(c,f)}}};g?g.node.makeCallback(e.resource,a,[],{asyncId:e.asyncId,triggerAsyncId:e.triggerAsyncId}):a()},queue:function(e){var i=te.values[e];if(i&&i.status===0){if(i.status=1,te.queued.size>=(Math.abs(T)||4)){te.pending.push(e);return}te.queued.add(e);var t=i.env,r=i.data,n=i.execute;i.status=2,o.feature.setImmediate(function(){if(A.get(n)(t,r),te.queued.delete(e),i.status=3,o.feature.setImmediate(function(){te.callComplete(i,0)}),te.pending.length>0){var a=te.pending.shift();te.values[a].status=0,te.queue(a)}})}},cancel:function(e){var i=te.pending.indexOf(e);if(i!==-1){var t=te.values[e];return t&&t.status===1?(t.status=4,te.pending.splice(i,1),o.feature.setImmediate(function(){te.callComplete(t,11)}),0):9}return 9},remove:function(e){var i=te.values[e];i&&(g&&g.node.emitAsyncDestroy({asyncId:i.asyncId,triggerAsyncId:i.triggerAsyncId}),te.values[e]=void 0,te.idGen.reuse(e))}};function ir(e,i,t,r){if(g){var n=o.handleStore.get(e).value,a=o.handleStore.get(i).value,c=g.node.emitAsyncInit(n,a,t),f=c.asyncId,_=c.triggerAsyncId;if(r){var v=new DataView(d.buffer);v.setFloat64(r,f,!0),v.setFloat64(r+8,_,!0)}}}function ar(e,i){g&&g.node.emitAsyncDestroy({asyncId:e,triggerAsyncId:i})}function kt(e,i,t,r,n,a,c,f){var _=0,v;if(g){var I=o.handleStore.get(i).value,b=o.handleStore.get(t).value;n=n>>>0;for(var P=Array(n),U=new DataView(d.buffer);_<n;_++){var M=U.getInt32(r+_*4,!0);P[_]=o.handleStore.get(M).value}var G=g.node.makeCallback(I,b,P,{asyncId:a,triggerAsyncId:c});if(f){var Q=o.envStore.get(e);v=Q.ensureHandleId(G),U.setInt32(f,v,!0)}}}function Dt(e,i,t){if(!g)return 9;var r;e&&(r=Object(o.handleStore.get(e).value));var n=o.handleStore.get(i).value,a=g.napi.asyncInit(r,n);if(a.status!==0)return a.status;var c=a.value;c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)||(c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var f=Number(c&BigInt(4294967295)),_=Number(c>>BigInt(32)),v=new DataView(d.buffer);return v.setInt32(t,f,!0),v.setInt32(t+4,_,!0),0}function Bt(e){if(!g)return 9;var i=new DataView(d.buffer),t=i.getInt32(e,!0),r=i.getInt32(e+4,!0),n=BigInt(t>>>0)|BigInt(r)<<BigInt(32),a=g.napi.asyncDestroy(n);return a.status!==0?a.status:0}function Ft(e,i,t,r){throw new Error("napi_open_callback_scope has not been implemented yet")}function Ot(e,i){throw new Error("napi_close_callback_scope has not been implemented yet")}function Rt(e,i,t,r,n,a,c){var f=0,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!g)return v.setLastError(9);if(!t||n>0&&!a)return v.setLastError(1);var I=Object(o.handleStore.get(t).value),b=o.handleStore.get(r).value;if(typeof b!="function")return v.setLastError(1);var P=new DataView(d.buffer),U=P.getInt32(i,!0),M=P.getInt32(i+4,!0),G=BigInt(U>>>0)|BigInt(M)<<BigInt(32);n=n>>>0;for(var Q=Array(n);f<n;f++){var ne=P.getInt32(a+f*4,!0);Q[f]=o.handleStore.get(ne).value}var oe=g.napi.makeCallback(G,I,b,Q);if(oe.error)throw oe.error;return oe.status!==0?v.setLastError(oe.status):(c&&(_=v.ensureHandleId(oe.value),P.setInt32(c,_,!0)),v.getReturnStatus())}catch(ee){return v.tryCatch.setError(ee),v.setLastError(10)}}function Pt(e){var i=o.envStore.get(e);i.checkGCAccess()}var Nt=Object.freeze({__proto__:null,_emnapi_async_destroy_js:Bt,_emnapi_async_init_js:Dt,_emnapi_env_check_gc_access:Pt,_emnapi_node_emit_async_destroy:ar,_emnapi_node_emit_async_init:ir,_emnapi_node_make_callback:kt,napi_close_callback_scope:Ot,napi_make_callback:Rt,napi_open_callback_scope:Ft}),L={offset:{resource:0,async_id:8,trigger_async_id:16,queue_size:24,queue:28,thread_count:32,is_closing:36,dispatch_state:40,context:44,max_queue_size:48,ref:52,env:56,finalize_data:60,finalize_cb:64,call_js_cb:68,handles_closing:72,async_ref:76,mutex:80,cond:84,end:88},init:function(){if(typeof x<"u"){x.unusedWorkers.forEach(L.addListener),x.runningWorkers.forEach(L.addListener);var e=x.getNewWorker;x.getNewWorker=function(){var i=e.apply(this,arguments);return L.addListener(i),i}}},addListener:function(e){if(!e)return!1;if(e._emnapiTSFNListener)return!0;var i=function(r){var n=r.data,a=n.__emnapi__;if(a){var c=a.type,f=a.payload;c==="tsfn-send"&&L.dispatch(f.tsfn)}},t=function(){e.removeEventListener("message",i,!1),delete e._emnapiTSFNListener};return e._emnapiTSFNListener={handler:i,dispose:t},e.addEventListener("message",i,!1),!0},initQueue:function(e){var i=8,t=k(i);return t?(new Uint8Array(d.buffer,t,i).fill(0),L.storeSizeTypeValue(e+L.offset.queue,t,!1),!0):!1},destroyQueue:function(e){var i=L.loadSizeTypeValue(e+L.offset.queue,!1);i&&B(i)},pushQueue:function(e,i){var t=L.loadSizeTypeValue(e+L.offset.queue,!1),r=L.loadSizeTypeValue(t,!1),n=L.loadSizeTypeValue(t+4,!1),a=8,c=k(a);if(!c)throw new Error("OOM");L.storeSizeTypeValue(c,i,!1),L.storeSizeTypeValue(c+4,0,!1),r===0&&n===0?(L.storeSizeTypeValue(t,c,!1),L.storeSizeTypeValue(t+4,c,!1)):(L.storeSizeTypeValue(n+4,c,!1),L.storeSizeTypeValue(t+4,c,!1)),L.addQueueSize(e)},shiftQueue:function(e){var i=L.loadSizeTypeValue(e+L.offset.queue,!1),t=L.loadSizeTypeValue(i,!1);if(t===0)return 0;var r=t,n=L.loadSizeTypeValue(t+4,!1);L.storeSizeTypeValue(i,n,!1),n===0&&L.storeSizeTypeValue(i+4,0,!1),L.storeSizeTypeValue(r+4,0,!1);var a=L.loadSizeTypeValue(r,!1);return B(r),L.subQueueSize(e),a},push:function(e,i,t){var r=L.getMutex(e),n=L.getCond(e),a=function(){var f=L.getQueueSize(e),_=L.getMaxQueueSize(e),v=L.getIsClosing(e);return f>=_&&_>0&&!v},c=typeof window<"u"&&typeof document<"u"&&!0;return r.execute(function(){for(;a();){if(t===0)return 15;if(c)return 21;n.wait()}return L.getIsClosing(e)?L.getThreadCount(e)===0?1:(L.subThreadCount(e),16):(L.pushQueue(e,i),L.send(e),0)})},getMutex:function(e){var i=e+L.offset.mutex,t={lock:function(){var r=typeof window<"u"&&typeof document<"u"&&!0,n=new Int32Array(d.buffer,i,1);if(r)for(;;){var a=Atomics.compareExchange(n,0,0,1);if(a===0)return}else for(;;){var a=Atomics.compareExchange(n,0,0,1);if(a===0)return;Atomics.wait(n,0,1)}},unlock:function(){var r=new Int32Array(d.buffer,i,1),n=Atomics.compareExchange(r,0,1,0);if(n!==1)throw new Error("Tried to unlock while not holding the mutex");Atomics.notify(r,0,1)},execute:function(r){t.lock();try{return r()}finally{t.unlock()}}};return t},getCond:function(e){var i=e+L.offset.cond,t=L.getMutex(e),r={wait:function(){var n=new Int32Array(d.buffer,i,1),a=Atomics.load(n,0);t.unlock(),Atomics.wait(n,0,a),t.lock()},signal:function(){var n=new Int32Array(d.buffer,i,1);Atomics.add(n,0,1),Atomics.notify(n,0,1)}};return r},getQueueSize:function(e){return L.loadSizeTypeValue(e+L.offset.queue_size,!0)},addQueueSize:function(e){var i=L.offset.queue_size,t,r;t=new Uint32Array(d.buffer),r=e+i>>2,Atomics.add(t,r,1)},subQueueSize:function(e){var i=L.offset.queue_size,t,r;t=new Uint32Array(d.buffer),r=e+i>>2,Atomics.sub(t,r,1)},getThreadCount:function(e){return L.loadSizeTypeValue(e+L.offset.thread_count,!0)},addThreadCount:function(e){var i=L.offset.thread_count,t,r;t=new Uint32Array(d.buffer),r=e+i>>2,Atomics.add(t,r,1)},subThreadCount:function(e){var i=L.offset.thread_count,t,r;t=new Uint32Array(d.buffer),r=e+i>>2,Atomics.sub(t,r,1)},getIsClosing:function(e){return Atomics.load(new Int32Array(d.buffer),e+L.offset.is_closing>>2)},setIsClosing:function(e,i){Atomics.store(new Int32Array(d.buffer),e+L.offset.is_closing>>2,i)},getHandlesClosing:function(e){return Atomics.load(new Int32Array(d.buffer),e+L.offset.handles_closing>>2)},setHandlesClosing:function(e,i){Atomics.store(new Int32Array(d.buffer),e+L.offset.handles_closing>>2,i)},getDispatchState:function(e){return Atomics.load(new Uint32Array(d.buffer),e+L.offset.dispatch_state>>2)},getContext:function(e){return L.loadSizeTypeValue(e+L.offset.context,!1)},getMaxQueueSize:function(e){return L.loadSizeTypeValue(e+L.offset.max_queue_size,!0)},getEnv:function(e){return L.loadSizeTypeValue(e+L.offset.env,!1)},getCallJSCb:function(e){return L.loadSizeTypeValue(e+L.offset.call_js_cb,!1)},getRef:function(e){return L.loadSizeTypeValue(e+L.offset.ref,!1)},getResource:function(e){return L.loadSizeTypeValue(e+L.offset.resource,!1)},getFinalizeCb:function(e){return L.loadSizeTypeValue(e+L.offset.finalize_cb,!1)},getFinalizeData:function(e){return L.loadSizeTypeValue(e+L.offset.finalize_data,!1)},loadSizeTypeValue:function(e,i){var t,r;return i?(r=new Uint32Array(d.buffer),t=Atomics.load(r,e>>2),t):(r=new Int32Array(d.buffer),t=Atomics.load(r,e>>2),t)},storeSizeTypeValue:function(e,i,t){var r;if(t){r=new Uint32Array(d.buffer),Atomics.store(r,e>>2,i);return}else{r=new Int32Array(d.buffer),Atomics.store(r,e>>2,i>>>0);return}},destroy:function(e){L.destroyQueue(e);var i=L.getEnv(e),t=o.envStore.get(i),r=L.getRef(e);r&&o.refStore.get(r).dispose(),o.removeCleanupHook(t,L.cleanup,e),t.unref();var n=e+L.offset.async_ref>>2,a=new Int32Array(d.buffer);Atomics.load(a,n)&&(Atomics.store(a,n,0),o.decreaseWaitingRequestCounter());var c=L.getResource(e);if(o.refStore.get(c).dispose(),g){var f=new DataView(d.buffer),_=f.getFloat64(e+L.offset.async_id,!0),v=f.getFloat64(e+L.offset.trigger_async_id,!0);ar(_,v)}B(e)},emptyQueueAndDelete:function(e){for(var i=L.getCallJSCb(e),t=L.getContext(e),r;L.getQueueSize(e)>0;)r=L.shiftQueue(e),i&&A.get(i)(0,0,t,r);L.destroy(e)},finalize:function(e){var i=L.getEnv(e),t=o.envStore.get(i);o.openScope(t);var r=L.getFinalizeCb(e),n=L.getFinalizeData(e),a=L.getContext(e),c=function(){t.callFinalizerInternal(0,r,n,a)};try{if(r)if(g){var f=L.getResource(e),_=o.refStore.get(f).get(),v=o.handleStore.get(_).value,I=new DataView(d.buffer),b=I.getFloat64(e+L.offset.async_id,!0),P=I.getFloat64(e+L.offset.trigger_async_id,!0);g.node.makeCallback(v,c,[],{asyncId:b,triggerAsyncId:P})}else c();L.emptyQueueAndDelete(e)}finally{o.closeScope(t)}},cleanup:function(e){L.closeHandlesAndMaybeDelete(e,1)},closeHandlesAndMaybeDelete:function(e,i){var t=L.getEnv(e),r=o.envStore.get(t);o.openScope(r);try{if(i&&L.getMutex(e).execute(function(){L.setIsClosing(e,1),L.getMaxQueueSize(e)>0&&L.getCond(e).signal()}),L.getHandlesClosing(e))return;L.setHandlesClosing(e,1),o.feature.setImmediate(function(){L.finalize(e)})}finally{o.closeScope(r)}},dispatchOne:function(e){var i=0,t=!1,r=!1,n=L.getMutex(e),a=L.getCond(e);if(n.execute(function(){if(L.getIsClosing(e))L.closeHandlesAndMaybeDelete(e,0);else{var U=L.getQueueSize(e);if(U>0){i=L.shiftQueue(e),t=!0;var M=L.getMaxQueueSize(e);U===M&&M>0&&a.signal(),U--}U===0?L.getThreadCount(e)===0&&(L.setIsClosing(e,1),L.getMaxQueueSize(e)>0&&a.signal(),L.closeHandlesAndMaybeDelete(e,0)):r=!0}}),t){var c=L.getEnv(e),f=o.envStore.get(c);o.openScope(f);var _=function(){f.callbackIntoModule(!1,function(){var U=L.getCallJSCb(e),M=L.getRef(e),G=M?o.refStore.get(M).get():0;if(U){var Q=L.getContext(e);A.get(U)(c,G,Q,i)}else{var ne=G?o.handleStore.get(G).value:null;typeof ne=="function"&&ne()}})};try{if(g){var v=L.getResource(e),I=o.refStore.get(v).get(),b=o.handleStore.get(I).value,P=new DataView(d.buffer);g.node.makeCallback(b,_,[],{asyncId:P.getFloat64(e+L.offset.async_id,!0),triggerAsyncId:P.getFloat64(e+L.offset.trigger_async_id,!0)})}else _()}finally{o.closeScope(f)}}return r},dispatch:function(e){for(var i=!0,t=1e3,r=new Uint32Array(d.buffer),n=e+L.offset.dispatch_state>>2;i&&--t!==0;)Atomics.store(r,n,1),i=L.dispatchOne(e),Atomics.exchange(r,n,0)!==1&&(i=!0);i&&L.send(e)},send:function(e){var i=Atomics.or(new Uint32Array(d.buffer),e+L.offset.dispatch_state>>2,2);(i&1)!==1&&(typeof l<"u"&&l?postMessage({__emnapi__:{type:"tsfn-send",payload:{tsfn:e}}}):o.feature.setImmediate(function(){L.dispatch(e)}))}};function xt(e,i,t,r,n,a,c,f,_,v,I){if(!e)return 1;var b=o.envStore.get(e);if(b.checkGCAccess(),!r||(n=n>>>0,a=a>>>0,a===0)||!I)return b.setLastError(1);var P=0;if(i){var U=o.handleStore.get(i).value;if(typeof U!="function")return b.setLastError(1);P=o.createReference(b,i,1,1).id}else if(!v)return b.setLastError(1);var M;if(t){if(M=o.handleStore.get(t).value,M==null)return b.setLastError(2);M=Object(M)}else M={};var G=b.ensureHandleId(M),Q=o.handleStore.get(r).value;if(typeof Q=="symbol")return b.setLastError(3);Q=String(Q);var ne=b.ensureHandleId(Q),oe=L.offset.end,ee=k(oe);if(!ee)return b.setLastError(9);new Uint8Array(d.buffer).subarray(ee,ee+oe).fill(0);var fe=o.createReference(b,G,1,1),ve=fe.id,pe=new DataView(d.buffer);return pe.setInt32(ee,ve,!0),L.initQueue(ee)?(ir(G,ne,-1,ee+L.offset.async_id),pe.setUint32(ee+L.offset.thread_count,a,!0),pe.setInt32(ee+L.offset.context,_,!0),pe.setUint32(ee+L.offset.max_queue_size,n,!0),pe.setInt32(ee+L.offset.ref,P,!0),pe.setInt32(ee+L.offset.env,e,!0),pe.setInt32(ee+L.offset.finalize_data,c,!0),pe.setInt32(ee+L.offset.finalize_cb,f,!0),pe.setInt32(ee+L.offset.call_js_cb,v,!0),o.addCleanupHook(b,L.cleanup,ee),b.ref(),o.increaseWaitingRequestCounter(),pe.setInt32(ee+L.offset.async_ref,1,!0),pe.setInt32(I,ee,!0),b.clearLastError()):(B(ee),fe.dispose(),b.setLastError(9))}function Ut(e,i){if(!e||!i)return F(),1;var t=L.getContext(e),r=new DataView(d.buffer);return r.setInt32(i,t,!0),0}function Vt(e,i,t){return e?L.push(e,i,t):(F(),1)}function Wt(e){if(!e)return F(),1;var i=L.getMutex(e);return i.execute(function(){return L.getIsClosing(e)?16:(L.addThreadCount(e),0)})}function Mt(e,i){if(!e)return F(),1;var t=L.getMutex(e),r=L.getCond(e);return t.execute(function(){if(L.getThreadCount(e)===0)return 1;if(L.subThreadCount(e),L.getThreadCount(e)===0||i===1){var n=L.getIsClosing(e);if(!n){var a=i===1?1:0;L.setIsClosing(e,a),a&&L.getMaxQueueSize(e)>0&&r.signal(),L.send(e)}}return 0})}function jt(e,i){if(!i)return F(),1;var t=i+L.offset.async_ref>>2,r=new Int32Array(d.buffer);return Atomics.load(r,t)&&(Atomics.store(r,t,0),o.decreaseWaitingRequestCounter()),0}function Ht(e,i){if(!i)return F(),1;var t=i+L.offset.async_ref>>2,r=new Int32Array(d.buffer);return Atomics.load(r,t)||(Atomics.store(r,t,1),o.increaseWaitingRequestCounter()),0}var H={unusedWorkers:[],runningWorkers:[],workQueue:[],workerReady:null,offset:{resource:0,async_id:8,trigger_async_id:16,env:24,data:28,execute:32,complete:36,end:40},init:function(){H.unusedWorkers=[],H.runningWorkers=[],H.workQueue=[],H.workerReady=null},addListener:function(e){if(!e)return!1;if(e._emnapiAWMTListener)return!0;var i=function(r){var n=r.data,a=n.__emnapi__;if(a){var c=a.type,f=a.payload;c==="async-work-complete"?(o.decreaseWaitingRequestCounter(),H.runningWorkers.splice(H.runningWorkers.indexOf(e),1),H.unusedWorkers.push(e),H.checkIdleWorker(),H.callComplete(f.work,0)):c==="async-work-queue"?H.scheduleWork(f.work):c==="async-work-cancel"&&H.cancelWork(f.work)}},t=function(){e.removeEventListener("message",i,!1),delete e._emnapiAWMTListener};return e._emnapiAWMTListener={handler:i,dispose:t},e.addEventListener("message",i,!1),!0},initWorkers:function(e){if(l)return H.workerReady||(H.workerReady=Promise.resolve());if(H.workerReady)return H.workerReady;if(typeof y!="function")throw new TypeError("`options.onCreateWorker` is not a function");var i=[],t=[];if(!("emnapi_async_worker_create"in h.exports))throw new TypeError("`emnapi_async_worker_create` is not exported, please try to add `--export=emnapi_async_worker_create` to linker flags");for(var r=0;r<e;++r)t.push(h.exports.emnapi_async_worker_create());try{for(var n=function(c){var f=y({type:"async-work",name:"emnapi-async-worker"}),_=x.loadWasmModuleToWorker(f);H.addListener(f),i.push(_.then(function(){typeof f.unref=="function"&&f.unref()})),H.unusedWorkers.push(f);var v=t[c];f.threadBlockBase=v,f.postMessage({__emnapi__:{type:"async-worker-init",payload:{arg:v}}})},r=0;r<e;++r)n(r)}catch(c){for(var r=0;r<e;++r){var a=t[r];B(a)}throw c}return H.workerReady=Promise.all(i),H.workerReady},checkIdleWorker:function(){if(H.unusedWorkers.length>0&&H.workQueue.length>0){var e=H.unusedWorkers.shift(),i=H.workQueue.shift();H.runningWorkers.push(e),e.postMessage({__emnapi__:{type:"async-work-execute",payload:{work:i}}})}},getResource:function(e){return L.loadSizeTypeValue(e+H.offset.resource,!1)},getExecute:function(e){return L.loadSizeTypeValue(e+H.offset.execute,!1)},getComplete:function(e){return L.loadSizeTypeValue(e+H.offset.complete,!1)},getEnv:function(e){return L.loadSizeTypeValue(e+H.offset.env,!1)},getData:function(e){return L.loadSizeTypeValue(e+H.offset.data,!1)},scheduleWork:function(e){var i;if(l){var t=D.postMessage;t({__emnapi__:{type:"async-work-queue",payload:{work:e}}});return}if(o.increaseWaitingRequestCounter(),H.workQueue.push(e),!((i=H.workerReady)===null||i===void 0)&&i.ready)H.checkIdleWorker();else{var r=function(n){throw o.decreaseWaitingRequestCounter(),n};try{H.initWorkers(R()).then(function(){H.workerReady.ready=!0,H.checkIdleWorker()},r)}catch(n){r(n)}}},cancelWork:function(e){if(l){var i=D.postMessage;return i({__emnapi__:{type:"async-work-cancel",payload:{work:e}}}),0}var t=H.workQueue.indexOf(e);return t!==-1?(H.workQueue.splice(t,1),o.feature.setImmediate(function(){o.decreaseWaitingRequestCounter(),H.checkIdleWorker(),H.callComplete(e,11)}),0):9},callComplete:function(e,i){var t=H.getComplete(e),r=H.getEnv(e),n=H.getData(e),a=o.envStore.get(r),c=o.openScope(a),f=function(){t&&a.callbackIntoModule(!0,function(){A.get(t)(r,i,n)})};try{if(g){var _=H.getResource(e),v=o.refStore.get(_).get(),I=o.handleStore.get(v).value,b=new DataView(d.buffer),P=b.getFloat64(e+H.offset.async_id,!0),U=b.getFloat64(e+H.offset.trigger_async_id,!0);g.node.makeCallback(I,f,[],{asyncId:P,triggerAsyncId:U})}else f()}finally{o.closeScope(a,c)}}},zt=N?function(e,i,t,r,n,a,c){if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!r||!c)return f.setLastError(1);var _;if(i?_=Object(o.handleStore.get(i).value):_={},!t)return f.setLastError(1);var v=String(o.handleStore.get(t).value),I=te.create(e,_,v,r,n,a),b=new DataView(d.buffer);return b.setInt32(c,I,!0),f.clearLastError()}:function(e,i,t,r,n,a,c){if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!r||!c)return f.setLastError(1);var _;if(i?_=Object(o.handleStore.get(i).value):_={},!t)return f.setLastError(1);var v=H.offset.end,I=k(v);if(!I)return f.setLastError(9);new Uint8Array(d.buffer).subarray(I,I+v).fill(0);var b=f.ensureHandleId(_),P=o.createReference(f,b,1,1),U=P.id,M=new DataView(d.buffer);return M.setInt32(I,U,!0),ir(b,t,-1,I+H.offset.async_id),M.setInt32(I+H.offset.env,e,!0),M.setInt32(I+H.offset.execute,r,!0),M.setInt32(I+H.offset.complete,n,!0),M.setInt32(I+H.offset.data,a,!0),M.setInt32(c,I,!0),f.clearLastError()},Gt=N?function(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?(te.remove(i),t.clearLastError()):t.setLastError(1)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=H.getResource(i);if(o.refStore.get(r).dispose(),g){var n=new DataView(d.buffer),a=n.getFloat64(i+H.offset.async_id,!0),c=n.getFloat64(i+H.offset.trigger_async_id,!0);ar(a,c)}return B(i),t.clearLastError()},Jt=N?function(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(te.queue(i),t.clearLastError()):t.setLastError(1)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(H.scheduleWork(i),t.clearLastError()):t.setLastError(1)},qt=N?function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=te.cancel(i);return r===0?t.clearLastError():t.setLastError(r)}:function(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=H.cancelWork(i);return r===0?t.clearLastError():t.setLastError(r)};function $t(e){if(D.childThread){if(typeof h.exports.emnapi_async_worker_init!="function")throw new TypeError("`emnapi_async_worker_init` is not exported, please try to add `--export=emnapi_async_worker_init` to linker flags");h.exports.emnapi_async_worker_init(e)}else throw new Error("startThread is only available in child threads")}function Kt(e){if(l){var i=H.getExecute(e),t=H.getEnv(e),r=H.getData(e);A.get(i)(t,r);var n=D.postMessage;n({__emnapi__:{type:"async-work-complete",payload:{work:e}}})}}D.initWorker=$t,D.executeAsyncWork=Kt;var Qt=Object.freeze({__proto__:null,napi_cancel_async_work:qt,napi_create_async_work:zt,napi_delete_async_work:Gt,napi_queue_async_work:Jt}),$={registry:typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){B(e)}):void 0,table:new WeakMap,wasmMemoryViewTable:new WeakMap,init:function(){$.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){B(e)}):void 0,$.table=new WeakMap,$.wasmMemoryViewTable=new WeakMap},isDetachedArrayBuffer:function(e){if(e.byteLength===0)try{new Uint8Array(e)}catch{return!0}return!1},getArrayBufferPointer:function(e,i){var t,r={address:0,ownership:0,runtimeAllocated:0};if(e===d.buffer)return r;var n=$.isDetachedArrayBuffer(e);if($.table.has(e)){var a=$.table.get(e);return n?(a.address=0,a):(i&&a.ownership===0&&a.runtimeAllocated===1&&new Uint8Array(d.buffer).set(new Uint8Array(e),a.address),a)}if(n||e.byteLength===0||!i)return r;var c=k(e.byteLength);if(!c)throw new Error("Out of memory");return new Uint8Array(d.buffer).set(new Uint8Array(e),c),r.address=c,r.ownership=$.registry?0:1,r.runtimeAllocated=1,$.table.set(e,r),(t=$.registry)===null||t===void 0||t.register(e,c),r},getOrUpdateMemoryView:function(e){if(e.buffer===d.buffer)return $.wasmMemoryViewTable.has(e)||$.wasmMemoryViewTable.set(e,{Ctor:e.constructor,address:e.byteOffset,length:e instanceof DataView?e.byteLength:e.length,ownership:1,runtimeAllocated:0}),e;var i=$.isDetachedArrayBuffer(e.buffer)||typeof SharedArrayBuffer=="function"&&e.buffer instanceof SharedArrayBuffer;if(i&&$.wasmMemoryViewTable.has(e)){var t=$.wasmMemoryViewTable.get(e),r=t.Ctor,n=void 0,a=o.feature.Buffer;return typeof a=="function"&&r===a?n=a.from(d.buffer,t.address,t.length):n=new r(d.buffer,t.address,t.length),$.wasmMemoryViewTable.set(n,t),n}return e},getViewPointer:function(e,i){if(e=$.getOrUpdateMemoryView(e),e.buffer===d.buffer){if($.wasmMemoryViewTable.has(e)){var t=$.wasmMemoryViewTable.get(e),r=t.address,n=t.ownership,a=t.runtimeAllocated;return{address:r,ownership:n,runtimeAllocated:a,view:e}}return{address:e.byteOffset,ownership:1,runtimeAllocated:0,view:e}}var c=$.getArrayBufferPointer(e.buffer,i),f=c.address,_=c.ownership,v=c.runtimeAllocated;return{address:f===0?0:f+e.byteOffset,ownership:_,runtimeAllocated:v,view:e}}},Z={utf8Decoder:void 0,utf16Decoder:void 0,init:function(){var e={decode:function(n){for(var a=0,c=Math.min(4096,n.length+1),f=new Uint16Array(c),_=[],v=0;;){var I=a<n.length;if(!I||v>=c-1){var b=f.subarray(0,v),P=b;if(_.push(String.fromCharCode.apply(null,P)),!I)return _.join("");n=n.subarray(a),a=0,v=0}var U=n[a++];if((U&128)===0)f[v++]=U;else if((U&224)===192){var M=n[a++]&63;f[v++]=(U&31)<<6|M}else if((U&240)===224){var M=n[a++]&63,G=n[a++]&63;f[v++]=(U&31)<<12|M<<6|G}else if((U&248)===240){var M=n[a++]&63,G=n[a++]&63,Q=n[a++]&63,ne=(U&7)<<18|M<<12|G<<6|Q;ne>65535&&(ne-=65536,f[v++]=ne>>>10&1023|55296,ne=56320|ne&1023),f[v++]=ne}}}},i;i=typeof TextDecoder=="function"?new TextDecoder:e,Z.utf8Decoder=i;var t={decode:function(n){var a=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);if(a.length<=4096)return String.fromCharCode.apply(null,a);for(var c=[],f=0,_=0;f<a.length;f+=_)_=Math.min(4096,a.length-f),c.push(String.fromCharCode.apply(null,a.subarray(f,f+_)));return c.join("")}},r;r=typeof TextDecoder=="function"?new TextDecoder("utf-16le"):t,Z.utf16Decoder=r},lengthBytesUTF8:function(e){for(var i,t=0,r=0;r<e.length;++r)i=e.charCodeAt(r),i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3;return t},UTF8ToString:function(e,i){if(!e||!i)return"";e>>>=0;var t=new Uint8Array(d.buffer),r=e;if(i===-1)for(;t[r];)++r;else r=e+(i>>>0);if(i=r-e,i<=16){for(var n=e,a="";n<r;){var c=t[n++];if(!(c&128)){a+=String.fromCharCode(c);continue}var f=t[n++]&63;if((c&224)===192){a+=String.fromCharCode((c&31)<<6|f);continue}var _=t[n++]&63;if((c&240)===224?c=(c&15)<<12|f<<6|_:c=(c&7)<<18|f<<12|_<<6|t[n++]&63,c<65536)a+=String.fromCharCode(c);else{var v=c-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}return Z.utf8Decoder.decode(typeof SharedArrayBuffer=="function"&&t.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(t.buffer)==="[object SharedArrayBuffer]"?t.slice(e,r):t.subarray(e,r))},stringToUTF8:function(e,i,t){var r=new Uint8Array(d.buffer),n=i;if(n>>>=0,!(t>0))return 0;for(var a=n,c=n+t-1,f=0;f<e.length;++f){var _=e.charCodeAt(f);if(_>=55296&&_<=57343){var v=e.charCodeAt(++f);_=65536+((_&1023)<<10)|v&1023}if(_<=127){if(n>=c)break;r[n++]=_}else if(_<=2047){if(n+1>=c)break;r[n++]=192|_>>6,r[n++]=128|_&63}else if(_<=65535){if(n+2>=c)break;r[n++]=224|_>>12,r[n++]=128|_>>6&63,r[n++]=128|_&63}else{if(n+3>=c)break;r[n++]=240|_>>18,r[n++]=128|_>>12&63,r[n++]=128|_>>6&63,r[n++]=128|_&63}}return r[n]=0,n-a},UTF16ToString:function(e,i){if(!e||!i)return"";e>>>=0;var t=e;if(i===-1){for(var r=t>>1,n=new Uint16Array(d.buffer);n[r];)++r;t=r<<1}else t=e+(i>>>0)*2;if(i=t-e,i<=32)return String.fromCharCode.apply(null,new Uint16Array(d.buffer,e,i/2));var a=new Uint8Array(d.buffer);return Z.utf16Decoder.decode(typeof SharedArrayBuffer=="function"&&a.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(a.buffer)==="[object SharedArrayBuffer]"?a.slice(e,t):a.subarray(e,t))},stringToUTF16:function(e,i,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var r=i,n=t<e.length*2?t/2:e.length,a=new DataView(d.buffer),c=0;c<n;++c){var f=e.charCodeAt(c);a.setInt16(i,f,!0),i+=2}return a.setInt16(i,0,!0),i-r},newString:function(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);a.checkGCAccess();var c=t===-1,f=t>>>0;if(t!==0&&!i||!r||!(c||f<=2147483647))return a.setLastError(1);var _=n(i,c,f),v=o.addToCurrentScope(_).id,I=new DataView(d.buffer);return I.setInt32(r,v,!0),a.clearLastError()},newExternalString:function(e,i,t,r,n,a,c,f,_){if(!e)return 1;var v=o.envStore.get(e);v.checkGCAccess();var I=t===-1,b=t>>>0;if(t!==0&&!i||!a||!(I||b<=2147483647))return v.setLastError(1);var P=f(e,i,t,a);if(P===0){if(c){var U=new DataView(d.buffer);U.setInt8(c,1,!0)}r&&v.callFinalizer(r,i,n)}return P}};function Yt(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(!n.isArray())return r.setLastError(8);var a=n.value.length>>>0,c=new DataView(d.buffer);return c.setUint32(t,a,!0),r.getReturnStatus()}catch(f){return r.tryCatch.setError(f),r.setLastError(10)}}function Xt(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i)return n.setLastError(1);var a=o.handleStore.get(i);if(!a.isArrayBuffer())return n.setLastError(1);var c=new DataView(d.buffer);if(t){var f=$.getArrayBufferPointer(a.value,!0).address;c.setInt32(t,f,!0)}return r&&c.setUint32(r,a.value.byteLength,!0),n.clearLastError()}function Zt(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(n.value==null)throw new TypeError("Cannot convert undefined or null to object");var a=void 0;try{a=n.isObject()||n.isFunction()?n.value:Object(n.value)}catch{return r.setLastError(2)}var c=r.ensureHandleId(Object.getPrototypeOf(a)),f=new DataView(d.buffer);return f.setInt32(t,c,!0),r.getReturnStatus()}catch(_){return r.tryCatch.setError(_),r.setLastError(10)}}function Fr(e,i,t,r,n,a,c){if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!i)return f.setLastError(1);var _=o.handleStore.get(i);if(!_.isTypedArray())return f.setLastError(1);var v=_.value,I=new DataView(d.buffer);if(t){var b=void 0;if(v instanceof Int8Array)b=0;else if(v instanceof Uint8Array)b=1;else if(v instanceof Uint8ClampedArray)b=2;else if(v instanceof Int16Array)b=3;else if(v instanceof Uint16Array)b=4;else if(v instanceof Int32Array)b=5;else if(v instanceof Uint32Array)b=6;else if(v instanceof Float32Array)b=7;else if(v instanceof Float64Array)b=8;else if(v instanceof BigInt64Array)b=9;else if(v instanceof BigUint64Array)b=10;else return f.setLastError(9);I.setInt32(t,b,!0)}r&&I.setUint32(r,v.length,!0);var P;if(n||a){if(P=v.buffer,n){var U=$.getViewPointer(v,!0).address;I.setInt32(n,U,!0)}if(a){var M=f.ensureHandleId(P);I.setInt32(a,M,!0)}}return c&&I.setUint32(c,v.byteOffset,!0),f.clearLastError()}function en(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isBuffer(o.feature.Buffer)?a.isDataView()?Or(e,i,r,t,0,0):Fr(e,i,0,r,t,0,0):n.setLastError(1)}function Or(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!i)return c.setLastError(1);var f=o.handleStore.get(i);if(!f.isDataView())return c.setLastError(1);var _=f.value,v=new DataView(d.buffer);t&&v.setUint32(t,_.byteLength,!0);var I;if(r||n){if(I=_.buffer,r){var b=$.getViewPointer(_,!0).address;v.setInt32(r,b,!0)}if(n){var P=c.ensureHandleId(I);v.setInt32(n,P,!0)}}return a&&v.setUint32(a,_.byteOffset,!0),c.clearLastError()}function rn(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(!a.isDate())return n.setLastError(1);r=a.value.valueOf();var c=new DataView(d.buffer);return c.setFloat64(t,r,!0),n.getReturnStatus()}catch(f){return n.tryCatch.setError(f),n.setLastError(10)}}function tn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="boolean")return r.setLastError(7);var a=n.value?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function nn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=n.value,c=new DataView(d.buffer);return c.setFloat64(t,a,!0),r.clearLastError()}function an(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);if(!i||!t||!r)return n.setLastError(1);var a=o.handleStore.get(i),c=a.value;if(typeof c!="bigint")return n.setLastError(6);var f=new DataView(d.buffer);c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)?f.setInt8(r,1,!0):(f.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return f.setInt32(t,_,!0),f.setInt32(t+4,v,!0),n.clearLastError()}function sn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);if(!i||!t||!r)return n.setLastError(1);var a=o.handleStore.get(i),c=a.value;if(typeof c!="bigint")return n.setLastError(6);var f=new DataView(d.buffer);c>=BigInt(0)&&c<BigInt(1)<<BigInt(64)?f.setInt8(r,1,!0):(f.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return f.setUint32(t,_,!0),f.setUint32(t+4,v,!0),n.clearLastError()}function on(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!o.feature.supportBigInt)return a.setLastError(9);if(!i||!r)return a.setLastError(1);var c=o.handleStore.get(i);if(!c.isBigInt())return a.setLastError(17);for(var f=c.value<BigInt(0),_=new DataView(d.buffer),v=_.getUint32(r,!0),I=0,b=f?c.value*BigInt(-1):c.value;b!==BigInt(0);)I++,b=b>>BigInt(64);if(b=f?c.value*BigInt(-1):c.value,!t&&!n)v=I,_.setUint32(r,v,!0);else{if(!t||!n)return a.setLastError(1);for(var P=[];b!==BigInt(0);){var U=b&(BigInt(1)<<BigInt(64))-BigInt(1);P.push(U),b=b>>BigInt(64)}for(var M=Math.min(v,P.length),G=0;G<M;G++){var Q=Number(P[G]&BigInt(4294967295)),ne=Number(P[G]>>BigInt(32));_.setUint32(n+G*8,Q,!0),_.setUint32(n+(G*8+4),ne,!0)}_.setInt32(t,f?1:0,!0),_.setUint32(r,M,!0)}return a.clearLastError()}function un(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(!n.isExternal())return r.setLastError(1);var a=n.data(),c=new DataView(d.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function cn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=new Int32Array([n.value])[0],c=new DataView(d.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function fn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=n.value,c=new DataView(d.buffer);return a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY||isNaN(a)?(c.setInt32(t,0,!0),c.setInt32(t+4,0,!0)):a<-9223372036854776e3?(c.setInt32(t,0,!0),c.setInt32(t+4,2147483648,!0)):a>=9223372036854776e3?(c.setUint32(t,4294967295,!0),c.setUint32(t+4,2147483647,!0)):Se(t,Math.trunc(a)),r.clearLastError()}function ln(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var f=new DataView(d.buffer);if(t)if(r!==0){for(var _=0,v=void 0,I=0;I<r-1;++I)v=c.value.charCodeAt(I)&255,f.setUint8(t+I,v,!0),_++;f.setUint8(t+_,0,!0),n&&f.setUint32(n,_,!0)}else n&&f.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);f.setUint32(n,c.value.length,!0)}return a.clearLastError()}function dn(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var f=new DataView(d.buffer);if(t)if(r!==0){var v=Z.stringToUTF8(c.value,t,r);n&&f.setUint32(n,v,!0)}else n&&f.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);var _=Z.lengthBytesUTF8(c.value);f.setUint32(n,_,!0)}return a.clearLastError()}function pn(e,i,t,r,n){if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!i)return a.setLastError(1);r=r>>>0;var c=o.handleStore.get(i);if(typeof c.value!="string")return a.setLastError(3);var f=new DataView(d.buffer);if(t)if(r!==0){var _=Z.stringToUTF16(c.value,t,r*2);n&&f.setUint32(n,_/2,!0)}else n&&f.setUint32(n,0,!0);else{if(!n)return a.setLastError(1);f.setUint32(n,c.value.length,!0)}return a.clearLastError()}function hn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i);if(typeof n.value!="number")return r.setLastError(6);var a=new Uint32Array([n.value])[0],c=new DataView(d.buffer);return c.setUint32(t,a,!0),r.clearLastError()}var _n=Object.freeze({__proto__:null,napi_get_array_length:Yt,napi_get_arraybuffer_info:Xt,napi_get_buffer_info:en,napi_get_dataview_info:Or,napi_get_date_value:rn,napi_get_prototype:Zt,napi_get_typedarray_info:Fr,napi_get_value_bigint_int64:an,napi_get_value_bigint_uint64:sn,napi_get_value_bigint_words:on,napi_get_value_bool:tn,napi_get_value_double:nn,napi_get_value_external:un,napi_get_value_int32:cn,napi_get_value_int64:fn,napi_get_value_string_latin1:ln,napi_get_value_string_utf16:pn,napi_get_value_string_utf8:dn,napi_get_value_uint32:hn});function vn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i).id,a=new DataView(d.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function gn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i>>>0).id,a=new DataView(d.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function yn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);n.checkGCAccess();var a;if(!t)return n.setLastError(1);a=Number(i);var c=o.addToCurrentScope(a).id,f=new DataView(d.buffer);return f.setInt32(t,c,!0),n.clearLastError()}function En(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=o.addToCurrentScope(i).id,a=new DataView(d.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function sr(e,i,t,r){return Z.newString(e,i,t,r,function(n,a,c){var f="",_=0,v=new DataView(d.buffer);if(a)for(;;){var I=v.getUint8(n,!0);if(!I)break;f+=String.fromCharCode(I),n++}else for(;_<c;){var I=v.getUint8(n,!0);if(!I)break;f+=String.fromCharCode(I),_++,n++}return f})}function or(e,i,t,r){return Z.newString(e,i,t,r,function(n){return Z.UTF16ToString(n,t)})}function Rr(e,i,t,r){return Z.newString(e,i,t,r,function(n){return Z.UTF8ToString(n,t)})}function mn(e,i,t,r,n,a,c){return Z.newExternalString(e,i,t,r,n,a,c,sr,void 0)}function wn(e,i,t,r,n,a,c){return Z.newExternalString(e,i,t,r,n,a,c,or,void 0)}function bn(e,i,t,r){return sr(e,i,t,r)}function An(e,i,t,r){return Rr(e,i,t,r)}function Sn(e,i,t,r){return or(e,i,t,r)}function In(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);var a;if(!t)return n.setLastError(1);a=i;var c=o.addToCurrentScope(a).id,f=new DataView(d.buffer);return f.setInt32(t,c,!0),n.clearLastError()}function Ln(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!o.feature.supportBigInt)return n.setLastError(9);var a;if(!t)return n.setLastError(1);a=i&(BigInt(1)<<BigInt(64))-BigInt(1);var c=o.addToCurrentScope(a).id,f=new DataView(d.buffer);return f.setInt32(t,c,!0),n.clearLastError()}function Tn(e,i,t,r,n){var a,c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!o.feature.supportBigInt)return f.setLastError(9);if(!n||(t=t>>>0,t>2147483647))return f.setLastError(1);if(t>16384)throw new RangeError("Maximum BigInt size exceeded");var _=BigInt(0),v=new DataView(d.buffer);for(c=0;c<t;c++){var I=v.getUint32(r+c*8,!0),b=v.getUint32(r+(c*8+4),!0),P=BigInt(I)|BigInt(b)<<BigInt(32);_+=P<<BigInt(64*c)}return _*=BigInt(i)%BigInt(2)===BigInt(0)?BigInt(1):BigInt(-1),a=o.addToCurrentScope(_).id,v.setInt32(n,a,!0),f.getReturnStatus()}catch(U){return f.tryCatch.setError(U),f.setLastError(10)}}var Cn=Object.freeze({__proto__:null,napi_create_bigint_int64:In,napi_create_bigint_uint64:Ln,napi_create_bigint_words:Tn,napi_create_double:En,napi_create_int32:vn,napi_create_int64:yn,napi_create_string_latin1:sr,napi_create_string_utf16:or,napi_create_string_utf8:Rr,napi_create_uint32:gn,node_api_create_external_string_latin1:mn,node_api_create_external_string_utf16:wn,node_api_create_property_key_latin1:bn,node_api_create_property_key_utf16:Sn,node_api_create_property_key_utf8:An});function Fe(e,i,t,r,n){var a=!i||!t?"":Z.UTF8ToString(i,t),c,f=A.get(r),_=function(b){return f(b.id,b.ctx.scopeStore.currentScope.id)},v=function(b,P){return function(){var U=b.ctx.openScope(b),M=U.callbackInfo;M.data=n,M.args=arguments,M.thiz=this,M.fn=c;try{var G=b.callIntoModule(P);return G?b.ctx.handleStore.get(G).value:void 0}finally{M.data=0,M.args=void 0,M.thiz=void 0,M.fn=void 0,b.ctx.closeScope(b,U)}}};if(a==="")return c=v(e,_),{status:0,f:c};if(!/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(a))return{status:1,f:void 0};if(o.feature.supportNewFunction){var I=v(e,_);try{c=new Function("_","return function "+a+'(){"use strict";return _.apply(this,arguments);};')(I)}catch{c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:a})}}else c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:a});return{status:0,f:c}}function ur(e,i,t,r,n,a,c,f,_){if(n||a){var v=void 0,I=void 0;n&&(v=Fe(e,0,0,n,_).f),a&&(I=Fe(e,0,0,a,_).f);var b={configurable:(f&4)!==0,enumerable:(f&2)!==0,get:v,set:I};Object.defineProperty(i,t,b)}else if(r){var P=Fe(e,0,0,r,_).f,b={configurable:(f&4)!==0,enumerable:(f&2)!==0,writable:(f&1)!==0,value:P};Object.defineProperty(i,t,b)}else{var b={configurable:(f&4)!==0,enumerable:(f&2)!==0,writable:(f&1)!==0,value:o.handleStore.get(c).value};Object.defineProperty(i,t,b)}}function Pr(e){var i=o.handleStore.get(e);return i.isObject()||i.isFunction()?(typeof $<"u"&&ArrayBuffer.isView(i.value)&&$.wasmMemoryViewTable.has(i.value)&&(i=o.addToCurrentScope($.wasmMemoryViewTable.get(i.value))),{status:0,handle:i}):{status:1}}function kn(e,i,t,r,n,a){var c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!o.feature.supportFinalizer){if(r)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "finalize_cb" must be 0(NULL)');if(a)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "result" must be 0(NULL)')}if(!i)return f.setLastError(1);var _=Pr(i);if(_.status!==0)return f.setLastError(_.status);var v=_.handle;if(f.getObjectBinding(v.value).wrapped!==0)return f.setLastError(1);var I=void 0;if(a){if(!r)return f.setLastError(1);I=o.createReferenceWithFinalizer(f,v.id,0,1,r,t,n),c=I.id;var b=new DataView(d.buffer);b.setInt32(a,c,!0)}else r?I=o.createReferenceWithFinalizer(f,v.id,0,0,r,t,n):I=o.createReferenceWithData(f,v.id,0,0,t);return f.getObjectBinding(v.value).wrapped=I.id,f.getReturnStatus()}catch(P){return f.tryCatch.setError(P),f.setLastError(10)}}function Nr(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||r===0&&!t)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(1);var f=a.getObjectBinding(c.value),_=f.wrapped,v=o.refStore.get(_);if(!v)return a.setLastError(1);if(t){n=v.data();var I=new DataView(d.buffer);I.setInt32(t,n,!0)}return r===1&&(f.wrapped=0,v.ownership()===1?v.resetFinalizer():v.dispose()),a.getReturnStatus()}catch(b){return a.tryCatch.setError(b),a.setLastError(10)}}function Dn(e,i,t,r,n,a,c,f){var _,v,I;if(!e)return 1;var b=o.envStore.get(e);if(b.checkGCAccess(),!b.tryCatch.isEmpty())return b.setLastError(10);if(!b.canCallIntoJs())return b.setLastError(b.moduleApiVersion>=10?23:10);b.clearLastError();try{if(!f||!r||(a=a>>>0,a>0&&!c)||t<-1||t>2147483647||!i)return b.setLastError(1);var P=Fe(b,i,t,r,n);if(P.status!==0)return b.setLastError(P.status);for(var U=P.f,M=void 0,G=new DataView(d.buffer),Q=0;Q<a;Q++){_=c+Q*32;var ne=G.getInt32(_,!0),oe=G.getInt32(_+4,!0),ee=G.getInt32(_+8,!0),fe=G.getInt32(_+12,!0),ve=G.getInt32(_+16,!0),pe=G.getInt32(_+20,!0);I=G.getInt32(_+24,!0);var ye=G.getInt32(_+28,!0);if(ne)M=Z.UTF8ToString(ne,-1);else if(!oe||(M=o.handleStore.get(oe).value,typeof M!="string"&&typeof M!="symbol"))return b.setLastError(4);if((I&1024)!==0){ur(b,U,M,ee,fe,ve,pe,I,ye);continue}ur(b,U.prototype,M,ee,fe,ve,pe,I,ye)}var Ie=o.addToCurrentScope(U);return v=Ie.id,G.setInt32(f,v,!0),b.getReturnStatus()}catch(dr){return b.tryCatch.setError(dr),b.setLastError(10)}}function Bn(e,i,t,r,n,a){return kn(e,i,t,r,n,a)}function Fn(e,i,t){return Nr(e,i,t,0)}function On(e,i,t){return Nr(e,i,t,1)}function Rn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i)return r.setLastError(r.tryCatch.hasCaught()?10:1);var n=o.handleStore.get(i);if(!(n.isObject()||n.isFunction()))return r.setLastError(r.tryCatch.hasCaught()?10:2);if(!t)return r.setLastError(r.tryCatch.hasCaught()?10:1);var a=r.getObjectBinding(n.value);if(a.tag!==null)return r.setLastError(r.tryCatch.hasCaught()?10:1);var c=new Uint8Array(16);return c.set(new Uint8Array(d.buffer,t,16)),a.tag=new Uint32Array(c.buffer),r.getReturnStatus()}catch(f){return r.tryCatch.setError(f),r.setLastError(10)}}function Pn(e,i,t,r){var n=!0;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i)return a.setLastError(a.tryCatch.hasCaught()?10:1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(a.tryCatch.hasCaught()?10:2);if(!t||!r)return a.setLastError(a.tryCatch.hasCaught()?10:1);var f=a.getObjectBinding(c.value);if(f.tag!==null){var _=f.tag,v=new Uint32Array(d.buffer,t,4);n=_[0]===v[0]&&_[1]===v[1]&&_[2]===v[2]&&_[3]===v[3]}else n=!1;var I=new DataView(d.buffer);return I.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(b){return a.tryCatch.setError(b),a.setLastError(10)}}function cr(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!o.feature.supportFinalizer)return c.setLastError(9);if(!i||!r)return c.setLastError(1);var f=Pr(i);if(f.status!==0)return c.setLastError(f.status);var _=f.handle,v=a?1:0,I=o.createReferenceWithFinalizer(c,_.id,0,v,r,t,n);if(a){var b=I.id,P=new DataView(d.buffer);P.setInt32(a,b,!0)}return c.clearLastError()}function Nn(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);return n.enqueueFinalizer(o.createTrackedFinalizer(n,i,t,r)),n.clearLastError()}var xn=Object.freeze({__proto__:null,napi_add_finalizer:cr,napi_check_object_type_tag:Pn,napi_define_class:Dn,napi_remove_wrap:On,napi_type_tag_object:Rn,napi_unwrap:Fn,napi_wrap:Bn,node_api_post_finalizer:Nn});function xr(e,i,t,r,n,a,c){var f;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!c)return _.setLastError(1);if(r=r>>>0,t||(r=0),r>2147483647)throw new RangeError("Cannot create a memory view larger than 2147483647 bytes");if(t+r>d.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&n)throw o.createNotSupportWeakRefError("emnapi_create_memory_view",'Parameter "finalize_cb" must be 0(NULL)');var v=void 0;switch(i){case 0:v={Ctor:Int8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 1:v={Ctor:Uint8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 2:v={Ctor:Uint8ClampedArray,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 3:v={Ctor:Int16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 4:v={Ctor:Uint16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 5:v={Ctor:Int32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 6:v={Ctor:Uint32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 7:v={Ctor:Float32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 8:v={Ctor:Float64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 9:v={Ctor:BigInt64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 10:v={Ctor:BigUint64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case-1:v={Ctor:DataView,address:t,length:r,ownership:1,runtimeAllocated:0};break;case-2:{if(!o.feature.Buffer)throw o.createNotSupportBufferError("emnapi_create_memory_view","");v={Ctor:o.feature.Buffer,address:t,length:r,ownership:1,runtimeAllocated:0};break}default:return _.setLastError(1)}var I=v.Ctor,b=i===-2?o.feature.Buffer.from(d.buffer,v.address,v.length):new I(d.buffer,v.address,v.length),P=o.addToCurrentScope(b);if($.wasmMemoryViewTable.set(b,v),n){var U=cr(e,P.id,t,n,a,0);if(U===10){var M=_.tryCatch.extractException();throw _.clearLastError(),M}else if(U!==0)return _.setLastError(U)}f=P.id;var G=new DataView(d.buffer);return G.setInt32(c,f,!0),_.getReturnStatus()}catch(Q){return _.tryCatch.setError(Q),_.setLastError(10)}}function Un(){return o.feature.supportFinalizer?1:0}function Vn(){return o.feature.supportBigInt?1:0}function Wn(){return g?1:0}function fr(e,i,t,r){t=t??0,t=t>>>0;var n;if(i instanceof ArrayBuffer){var a=$.getArrayBufferPointer(i,!1).address;if(!a)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=i.byteLength-t),r=r>>>0,r===0)return i;n=new Uint8Array(i,t,r);var c=new Uint8Array(d.buffer);return e?c.set(n,a):n.set(c.subarray(a,a+r)),i}if(ArrayBuffer.isView(i)){var f=$.getViewPointer(i,!1),_=f.view,a=f.address;if(!a)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=_.byteLength-t),r=r>>>0,r===0)return _;n=new Uint8Array(_.buffer,_.byteOffset+t,r);var c=new Uint8Array(d.buffer);return e?c.set(n,a):n.set(c.subarray(a,a+r)),_}throw new TypeError("emnapiSyncMemory expect ArrayBuffer or ArrayBufferView as first parameter")}function Mn(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t)return c.setLastError(1);var f=new DataView(d.buffer),_=f.getInt32(t,!0),v=c.ctx.handleStore.get(_);if(!v.isArrayBuffer()&&!v.isTypedArray()&&!v.isDataView())return c.setLastError(1);var I=fr(!!i,v.value,r,n);return v.value!==I&&(a=c.ensureHandleId(I),f.setInt32(t,a,!0)),c.getReturnStatus()}catch(b){return c.tryCatch.setError(b),c.setLastError(10)}}function lr(e){var i=e instanceof ArrayBuffer,t=e instanceof DataView,r=ArrayBuffer.isView(e)&&!t;if(!i&&!r&&!t)throw new TypeError("emnapiGetMemoryAddress expect ArrayBuffer or ArrayBufferView as first parameter");var n;return i?n=$.getArrayBufferPointer(e,!1):n=$.getViewPointer(e,!1),{address:n.address,ownership:n.ownership,runtimeAllocated:n.runtimeAllocated}}function jn(e,i,t,r,n){var a,c,f,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!i||!t&&!r&&!n)return v.setLastError(1);var I=v.ctx.handleStore.get(i);_=lr(I.value),a=_.address;var b=new DataView(d.buffer);return t&&b.setInt32(t,a,!0),r&&(f=_.ownership,b.setInt32(r,f,!0)),n&&(c=_.runtimeAllocated,b.setInt8(n,c,!0)),v.getReturnStatus()}catch(P){return v.tryCatch.setError(P),v.setLastError(10)}}function Hn(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r;try{r=o.getRuntimeVersions().version}catch{return t.setLastError(9)}var n=r.split(".").map(function(c){return Number(c)}),a=new DataView(d.buffer);return a.setUint32(i,n[0],!0),a.setUint32(i+4,n[1],!0),a.setUint32(i+8,n[2],!0),t.clearLastError()}var zn=Object.freeze({__proto__:null,$emnapiGetMemoryAddress:lr,$emnapiSyncMemory:fr,emnapi_create_memory_view:xr,emnapi_get_memory_address:jn,emnapi_get_runtime_version:Hn,emnapi_is_node_binding_available:Wn,emnapi_is_support_bigint:Vn,emnapi_is_support_weakref:Un,emnapi_sync_memory:Mn});function Gn(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.addToCurrentScope([]).id,n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function Jn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);i=i>>>0;var n=o.addToCurrentScope(new Array(i)).id,a=new DataView(d.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function Ur(e,i){e=e>>>0;var t=new ArrayBuffer(e);if(i){var r=$.getArrayBufferPointer(t,!0).address,n=new DataView(d.buffer);n.setInt32(i,r,!0)}return t}function qn(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r)return a.setLastError(1);var c=Ur(i,t);n=o.addToCurrentScope(c).id;var f=new DataView(d.buffer);return f.setInt32(r,n,!0),a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function $n(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!t)return n.setLastError(1);r=o.addToCurrentScope(new Date(i)).id;var a=new DataView(d.buffer);return a.setInt32(t,r,!0),n.getReturnStatus()}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function Kn(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!n)return c.setLastError(1);if(!o.feature.supportFinalizer&&t)throw o.createNotSupportWeakRefError("napi_create_external",'Parameter "finalize_cb" must be 0(NULL)');var f=o.getCurrentScope().addExternal(i);t&&o.createReferenceWithFinalizer(c,f.id,0,0,t,i,r),a=f.id;var _=new DataView(d.buffer);return _.setInt32(n,a,!0),c.clearLastError()}catch(v){return c.tryCatch.setError(v),c.setLastError(10)}}function Qn(e,i,t,r,n,a){var c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!a)return f.setLastError(1);if(t=t>>>0,i||(t=0),i+t>d.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&r)throw o.createNotSupportWeakRefError("napi_create_external_arraybuffer",'Parameter "finalize_cb" must be 0(NULL)');var _=new ArrayBuffer(t);if(t===0)try{var v=o.feature.MessageChannel,I=new v;I.port1.postMessage(_,[_])}catch{}else{var b=new Uint8Array(_);b.set(new Uint8Array(d.buffer).subarray(i,i+t)),$.table.set(_,{address:i,ownership:1,runtimeAllocated:0})}var P=o.addToCurrentScope(_);if(r){var U=cr(e,P.id,i,r,n,0);if(U===10){var M=f.tryCatch.extractException();throw f.clearLastError(),M}else if(U!==0)return f.setLastError(U)}c=P.id;var G=new DataView(d.buffer);return G.setInt32(a,c,!0),f.getReturnStatus()}catch(Q){return f.tryCatch.setError(Q),f.setLastError(10)}}function Yn(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.addToCurrentScope({}).id,n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function Xn(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=new DataView(d.buffer);if(i){var c=o.handleStore.get(i),f=c.value;if(typeof f!="string")return r.setLastError(3);var _=o.addToCurrentScope(Symbol(f)).id;n.setInt32(t,_,!0)}else{var a=o.addToCurrentScope(Symbol()).id;n.setInt32(t,a,!0)}return r.clearLastError()}function Zn(e,i,t,r,n,a){var c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!r||!a)return f.setLastError(1);var _=o.handleStore.get(r);if(!_.isArrayBuffer())return f.setLastError(1);var v=_.value,I=function(b,P,U,M,G,Q){var ne;if(G=G>>>0,Q=Q>>>0,U>1&&G%U!==0){var oe=new RangeError("start offset of ".concat((ne=P.name)!==null&&ne!==void 0?ne:""," should be a multiple of ").concat(U));return oe.code="ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT",b.tryCatch.setError(oe),b.setLastError(9)}if(Q*U+G>M.byteLength){var oe=new RangeError("Invalid typed array length");return oe.code="ERR_NAPI_INVALID_TYPEDARRAY_LENGTH",b.tryCatch.setError(oe),b.setLastError(9)}var ee=new P(M,G,Q);M===d.buffer&&($.wasmMemoryViewTable.has(ee)||$.wasmMemoryViewTable.set(ee,{Ctor:P,address:G,length:Q,ownership:1,runtimeAllocated:0})),c=o.addToCurrentScope(ee).id;var fe=new DataView(d.buffer);return fe.setInt32(a,c,!0),b.getReturnStatus()};switch(i){case 0:return I(f,Int8Array,1,v,n,t);case 1:return I(f,Uint8Array,1,v,n,t);case 2:return I(f,Uint8ClampedArray,1,v,n,t);case 3:return I(f,Int16Array,2,v,n,t);case 4:return I(f,Uint16Array,2,v,n,t);case 5:return I(f,Int32Array,4,v,n,t);case 6:return I(f,Uint32Array,4,v,n,t);case 7:return I(f,Float32Array,4,v,n,t);case 8:return I(f,Float64Array,8,v,n,t);case 9:return I(f,BigInt64Array,8,v,n,t);case 10:return I(f,BigUint64Array,8,v,n,t);default:return f.setLastError(1)}}catch(b){return f.tryCatch.setError(b),f.setLastError(10)}}function ei(e,i,t,r){var n,a,c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!r)return f.setLastError(1);var _=o.feature.Buffer;if(!_)throw o.createNotSupportBufferError("napi_create_buffer","");var v=void 0;i=i>>>0;var I=new DataView(d.buffer);if(!t||i===0)v=_.alloc(i),a=o.addToCurrentScope(v).id,I.setInt32(r,a,!0);else{if(c=k(i),!c)throw new Error("Out of memory");new Uint8Array(d.buffer).subarray(c,c+i).fill(0);var b=_.from(d.buffer,c,i),P={Ctor:_,address:c,length:i,ownership:$.registry?0:1,runtimeAllocated:1};$.wasmMemoryViewTable.set(b,P),(n=$.registry)===null||n===void 0||n.register(P,c),a=o.addToCurrentScope(b).id,I.setInt32(r,a,!0),I.setInt32(t,c,!0)}return f.getReturnStatus()}catch(U){return f.tryCatch.setError(U),f.setLastError(10)}}function ri(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!n)return c.setLastError(1);var f=o.feature.Buffer;if(!f)throw o.createNotSupportBufferError("napi_create_buffer_copy","");var _=Ur(i,r),v=f.from(_);v.set(new Uint8Array(d.buffer).subarray(t,t+i)),a=o.addToCurrentScope(v).id;var I=new DataView(d.buffer);return I.setInt32(n,a,!0),c.getReturnStatus()}catch(b){return c.tryCatch.setError(b),c.setLastError(10)}}function ti(e,i,t,r,n,a){return xr(e,-2,t,i,r,n,a)}function ni(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!i||!n)return c.setLastError(1);t=t>>>0,r=r>>>0;var f=o.handleStore.get(i);if(!f.isArrayBuffer())return c.setLastError(1);var _=f.value;if(r+t>_.byteLength){var v=new RangeError("The byte offset + length is out of range");throw v.code="ERR_OUT_OF_RANGE",v}var I=o.feature.Buffer;if(!I)throw o.createNotSupportBufferError("node_api_create_buffer_from_arraybuffer","");var b=I.from(_,t,r);_===d.buffer&&($.wasmMemoryViewTable.has(b)||$.wasmMemoryViewTable.set(b,{Ctor:I,address:t,length:r,ownership:1,runtimeAllocated:0})),a=o.addToCurrentScope(b).id;var P=new DataView(d.buffer);return P.setInt32(n,a,!0),c.getReturnStatus()}catch(U){return c.tryCatch.setError(U),c.setLastError(10)}}function ii(e,i,t,r,n){var a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t||!n)return c.setLastError(1);i=i>>>0,r=r>>>0;var f=o.handleStore.get(t);if(!f.isArrayBuffer())return c.setLastError(1);var _=f.value;if(i+r>_.byteLength){var v=new RangeError("byte_offset + byte_length should be less than or equal to the size in bytes of the array passed in");throw v.code="ERR_NAPI_INVALID_DATAVIEW_ARGS",v}var I=new DataView(_,r,i);_===d.buffer&&($.wasmMemoryViewTable.has(I)||$.wasmMemoryViewTable.set(I,{Ctor:DataView,address:r,length:i,ownership:1,runtimeAllocated:0})),a=o.addToCurrentScope(I).id;var b=new DataView(d.buffer);return b.setInt32(n,a,!0),c.getReturnStatus()}catch(P){return c.tryCatch.setError(P),c.setLastError(10)}}function ai(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!r)return n.setLastError(1);var a=t===-1,c=t>>>0;if(t!==0&&!i||!(a||c<=2147483647))return n.setLastError(1);var f=Z.UTF8ToString(i,t),_=o.addToCurrentScope(Symbol.for(f)).id,v=new DataView(d.buffer);return v.setInt32(r,_,!0),n.clearLastError()}var si=Object.freeze({__proto__:null,napi_create_array:Gn,napi_create_array_with_length:Jn,napi_create_arraybuffer:qn,napi_create_buffer:ei,napi_create_buffer_copy:ri,napi_create_dataview:ii,napi_create_date:$n,napi_create_external:Kn,napi_create_external_arraybuffer:Qn,napi_create_external_buffer:ti,napi_create_object:Yn,napi_create_symbol:Xn,napi_create_typedarray:Zn,node_api_create_buffer_from_arraybuffer:ni,node_api_symbol_for:ai});function oi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var n=i===0?3:4,a=new DataView(d.buffer);return a.setInt32(t,n,!0),r.clearLastError()}function ui(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=5,n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function ci(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=2,n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}function fi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=1,n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}var li=Object.freeze({__proto__:null,napi_get_boolean:oi,napi_get_global:ui,napi_get_null:ci,napi_get_undefined:fi});function di(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);return n.setInstanceData(i,t,r),n.clearLastError()}function pi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=t.getInstanceData(),n=new DataView(d.buffer);return n.setInt32(i,r,!0),t.clearLastError()}var hi=Object.freeze({__proto__:null,napi_get_instance_data:pi,napi_set_instance_data:di});function _i(e,i,t,r){var n=o.envStore.get(e),a=n.lastError,c=a.errorCode,f=a.engineErrorCode>>>0,_=a.engineReserved,v=new DataView(d.buffer);v.setInt32(i,c,!0),v.setUint32(t,f,!0),v.setInt32(r,_,!0)}function vi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{return i?(t.tryCatch.setError(o.handleStore.get(i).value),t.clearLastError()):t.setLastError(1)}catch(r){return t.tryCatch.setError(r),t.setLastError(10)}}function gi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new Error(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function yi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new TypeError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function Ei(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new RangeError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function mi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var n=new SyntaxError(Z.UTF8ToString(t,-1));return i&&(n.code=Z.UTF8ToString(i,-1)),r.tryCatch.setError(n),r.clearLastError()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function wi(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=t.tryCatch.hasCaught(),n=new DataView(d.buffer);return n.setInt8(i,r?1:0,!0),t.clearLastError()}function bi(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new Error(a);if(i){var f=o.handleStore.get(i).value;if(typeof f!="string")return n.setLastError(3);c.code=f}var _=o.addToCurrentScope(c).id,v=new DataView(d.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Ai(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new TypeError(a);if(i){var f=o.handleStore.get(i).value;if(typeof f!="string")return n.setLastError(3);c.code=f}var _=o.addToCurrentScope(c).id,v=new DataView(d.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Si(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new RangeError(a);if(i){var f=o.handleStore.get(i).value;if(typeof f!="string")return n.setLastError(3);c.code=f}var _=o.addToCurrentScope(c).id,v=new DataView(d.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Ii(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!t||!r)return n.setLastError(1);var a=o.handleStore.get(t).value;if(typeof a!="string")return n.setLastError(3);var c=new SyntaxError(a);if(i){var f=o.handleStore.get(i).value;if(typeof f!="string")return n.setLastError(3);c.code=f}var _=o.addToCurrentScope(c).id,v=new DataView(d.buffer);return v.setInt32(r,_,!0),n.clearLastError()}function Li(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=new DataView(d.buffer);if(t.tryCatch.hasCaught()){var n=t.tryCatch.exception(),a=t.ensureHandleId(n);r.setInt32(i,a,!0),t.tryCatch.reset()}else return r.setInt32(i,1,!0),t.clearLastError();return t.clearLastError()}function Ti(e,i,t,r){var n=Z.UTF8ToString(e,i),a=Z.UTF8ToString(t,r);g?g.napi.fatalError(n,a):F("FATAL ERROR: "+n+" "+a)}function Ci(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=t.ctx.handleStore.get(i);try{t.triggerFatalException(r.value)}catch{return t.setLastError(9)}return t.clearLastError()}catch(n){return t.tryCatch.setError(n),t.setLastError(10)}}var ki=Object.freeze({__proto__:null,_emnapi_get_last_error_info:_i,napi_create_error:bi,napi_create_range_error:Si,napi_create_type_error:Ai,napi_fatal_error:Ti,napi_fatal_exception:Ci,napi_get_and_clear_last_exception:Li,napi_is_exception_pending:wi,napi_throw:vi,napi_throw_error:gi,napi_throw_range_error:Ei,napi_throw_type_error:yi,node_api_create_syntax_error:Ii,node_api_throw_syntax_error:mi});function Di(e,i,t,r,n,a){var c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!a||!r)return f.setLastError(1);var _=Fe(f,i,t,r,n);if(_.status!==0)return f.setLastError(_.status);var v=_.f,I=o.addToCurrentScope(v);c=I.id;var b=new DataView(d.buffer);return b.setInt32(a,c,!0),f.getReturnStatus()}catch(P){return f.tryCatch.setError(P),f.setLastError(10)}}function Bi(e,i,t,r,n,a){if(!e)return 1;var c=o.envStore.get(e);if(!i)return c.setLastError(1);var f=o.scopeStore.get(i).callbackInfo,_=new DataView(d.buffer);if(r){if(!t)return c.setLastError(1);for(var v=_.getUint32(t,!0),I=f.args.length,b=v<I?v:I,P=0;P<b;P++){var U=c.ensureHandleId(f.args[P]);_.setInt32(r+P*4,U,!0)}if(P<v)for(;P<v;P++)_.setInt32(r+P*4,1,!0)}if(t&&_.setUint32(t,f.args.length,!0),n){var M=c.ensureHandleId(f.thiz);_.setInt32(n,M,!0)}return a&&_.setInt32(a,f.data,!0),c.clearLastError()}function Fi(e,i,t,r,n,a){var c=0,f;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!i||(r=r>>>0,r>0&&!n))return _.setLastError(1);var v=o.handleStore.get(i).value;if(!t)return _.setLastError(1);var I=o.handleStore.get(t).value;if(typeof I!="function")return _.setLastError(1);for(var b=[],P=new DataView(d.buffer);c<r;c++){var U=P.getInt32(n+c*4,!0);b.push(o.handleStore.get(U).value)}var M=I.apply(v,b);return a&&(f=_.ensureHandleId(M),P.setInt32(a,f,!0)),_.clearLastError()}catch(G){return _.tryCatch.setError(G),_.setLastError(10)}}function Oi(e,i,t,r,n){var a,c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!i||(t=t>>>0,t>0&&!r)||!n)return f.setLastError(1);var _=o.handleStore.get(i).value;if(typeof _!="function")return f.setLastError(1);var v=void 0,I=new DataView(d.buffer);if(o.feature.supportReflect){var b=Array(t);for(a=0;a<t;a++){var P=I.getInt32(r+a*4,!0);b[a]=o.handleStore.get(P).value}v=Reflect.construct(_,b,_)}else{var U=Array(t+1);for(U[0]=void 0,a=0;a<t;a++){var P=I.getInt32(r+a*4,!0);U[a+1]=o.handleStore.get(P).value}var M=_.bind.apply(_,U);v=new M}return n&&(c=f.ensureHandleId(v),I.setInt32(n,c,!0)),f.getReturnStatus()}catch(G){return f.tryCatch.setError(G),f.setLastError(10)}}function Ri(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.scopeStore.get(i).callbackInfo,a=n.thiz,c=n.fn,f=a==null||a.constructor==null?0:a instanceof c?r.ensureHandleId(a.constructor):0,_=new DataView(d.buffer);return _.setInt32(t,f,!0),r.clearLastError()}var Pi=Object.freeze({__proto__:null,napi_call_function:Fi,napi_create_function:Di,napi_get_cb_info:Bi,napi_get_new_target:Ri,napi_new_instance:Oi});function Ni(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.openScope(t),n=new DataView(d.buffer);return n.setInt32(i,r.id,!0),t.clearLastError()}function xi(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function Ui(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.openScope(t),n=new DataView(d.buffer);return n.setInt32(i,r.id,!0),t.clearLastError()}function Vi(e,i){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),i?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function Wi(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i||!t||!r)return n.setLastError(1);var a=o.scopeStore.get(i);if(!a.escapeCalled()){var c=a.escape(t),f=c?c.id:0,_=new DataView(d.buffer);return _.setInt32(r,f,!0),n.clearLastError()}return n.setLastError(12)}function Mi(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!i||!r)return n.setLastError(1);var a=o.handleStore.get(i);if(n.moduleApiVersion<10&&!(a.isObject()||a.isFunction()||a.isSymbol()))return n.setLastError(1);var c=o.createReference(n,a.id,t>>>0,1),f=new DataView(d.buffer);return f.setInt32(r,c.id,!0),n.clearLastError()}function ji(e,i){if(!e)return 1;var t=o.envStore.get(e);return i?(o.refStore.get(i).dispose(),t.clearLastError()):t.setLastError(1)}function Hi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i)return r.setLastError(1);var n=o.refStore.get(i).ref();if(t){var a=new DataView(d.buffer);a.setUint32(t,n,!0)}return r.clearLastError()}function zi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i)return r.setLastError(1);var n=o.refStore.get(i),a=n.refcount();if(a===0)return r.setLastError(9);var c=n.unref();if(t){var f=new DataView(d.buffer);f.setUint32(t,c,!0)}return r.clearLastError()}function Gi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.refStore.get(i),a=n.get(r),c=new DataView(d.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function Ji(e,i,t){if(!e)return 1;var r=o.envStore.get(e);return i?(o.addCleanupHook(r,i,t),0):r.setLastError(1)}function qi(e,i,t){if(!e)return 1;var r=o.envStore.get(e);return i?(o.removeCleanupHook(r,i,t),0):r.setLastError(1)}function $i(e){var i=o.envStore.get(e);i.ref()}function Ki(e){var i=o.envStore.get(e);i.unref()}var Qi=Object.freeze({__proto__:null,_emnapi_env_ref:$i,_emnapi_env_unref:Ki,napi_add_env_cleanup_hook:Ji,napi_close_escapable_handle_scope:Vi,napi_close_handle_scope:xi,napi_create_reference:Mi,napi_delete_reference:ji,napi_escape_handle:Wi,napi_get_reference_value:Gi,napi_open_escapable_handle_scope:Ui,napi_open_handle_scope:Ni,napi_reference_ref:Hi,napi_reference_unref:zi,napi_remove_env_cleanup_hook:qi});function Yi(e,i,t){var r=o.envStore.get(e),n=r.filename;return i?Z.stringToUTF8(n,i,t):Z.lengthBytesUTF8(n)}var Xi=Object.freeze({__proto__:null,_emnapi_get_filename:Yi});function Zi(e,i,t){var r,n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t)return a.setLastError(1);var c=new DataView(d.buffer),f=new Promise(function(_,v){var I=o.createDeferred({resolve:_,reject:v});r=I.id,c.setInt32(i,r,!0)});return n=o.addToCurrentScope(f).id,c.setInt32(t,n,!0),a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function ea(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.deferredStore.get(i);return n.resolve(o.handleStore.get(t).value),r.getReturnStatus()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function ra(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.deferredStore.get(i);return n.reject(o.handleStore.get(t).value),r.getReturnStatus()}catch(a){return r.tryCatch.setError(a),r.setLastError(10)}}function ta(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isPromise()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}var na=Object.freeze({__proto__:null,napi_create_promise:Zi,napi_is_promise:ta,napi_reject_deferred:ra,napi_resolve_deferred:ea});function Vr(e,i,t,r,n,a){var c;if(!e)return 1;var f=o.envStore.get(e);if(f.checkGCAccess(),!f.tryCatch.isEmpty())return f.setLastError(10);if(!f.canCallIntoJs())return f.setLastError(f.moduleApiVersion>=10?23:10);f.clearLastError();try{if(!a||!i)return f.setLastError(1);var _=o.handleStore.get(i);if(_.value==null)throw new TypeError("Cannot convert undefined or null to object");var v=void 0;try{v=_.isObject()||_.isFunction()?_.value:Object(_.value)}catch{return f.setLastError(2)}if(t!==0&&t!==1||n!==0&&n!==1)return f.setLastError(1);var I=[],b=void 0,P=void 0,U=void 0,M=!0,G=/^(0|[1-9][0-9]*)$/;do{for(b=Object.getOwnPropertyNames(v),P=Object.getOwnPropertySymbols(v),U=0;U<b.length;U++)I.push({name:G.test(b[U])?Number(b[U]):b[U],desc:Object.getOwnPropertyDescriptor(v,b[U]),own:M});for(U=0;U<P.length;U++)I.push({name:P[U],desc:Object.getOwnPropertyDescriptor(v,P[U]),own:M});if(t===1)break;v=Object.getPrototypeOf(v),M=!1}while(v);var Q=[],ne=function(ye,Ie,dr,Wr){if(ye.indexOf(Ie)===-1){if(Wr===0)ye.push(Ie);else if(Wr===1){var pr=typeof Ie=="number"?String(Ie):Ie;typeof pr=="string"&&dr&8||ye.push(pr)}}};for(U=0;U<I.length;U++){var oe=I[U],ee=oe.name,fe=oe.desc;if(r===0)ne(Q,ee,r,n);else{if(r&8&&typeof ee=="string"||r&16&&typeof ee=="symbol")continue;var ve=!0;switch(r&7){case 1:{ve=!!fe.writable;break}case 2:{ve=!!fe.enumerable;break}case 3:{ve=!!(fe.writable&&fe.enumerable);break}case 4:{ve=!!fe.configurable;break}case 5:{ve=!!(fe.configurable&&fe.writable);break}case 6:{ve=!!(fe.configurable&&fe.enumerable);break}case 7:{ve=!!(fe.configurable&&fe.enumerable&&fe.writable);break}}ve&&ne(Q,ee,r,n)}}c=o.addToCurrentScope(Q).id;var pe=new DataView(d.buffer);return pe.setInt32(a,c,!0),f.getReturnStatus()}catch(ye){return f.tryCatch.setError(ye),f.setLastError(10)}}function ia(e,i,t){return Vr(e,i,0,18,1,t)}function aa(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!t||!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?(a.value[o.handleStore.get(t).value]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function sa(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=o.handleStore.get(t).value in f?1:0;var _=new DataView(d.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function oa(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(f[o.handleStore.get(t).value]);var _=new DataView(d.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function ua(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(2);var f=o.handleStore.get(t).value;if(o.feature.supportReflect)n=Reflect.deleteProperty(c.value,f);else try{n=delete c.value[f]}catch{n=!1}if(r){var _=new DataView(d.buffer);_.setInt8(r,n?1:0,!0)}return a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function ca(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!t||!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}var _=o.handleStore.get(t).value;if(typeof _!="string"&&typeof _!="symbol")return a.setLastError(4);n=Object.prototype.hasOwnProperty.call(f,o.handleStore.get(t).value);var v=new DataView(d.buffer);return v.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(I){return a.tryCatch.setError(I),a.setLastError(10)}}function fa(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?t?(o.handleStore.get(i).value[Z.UTF8ToString(t,-1)]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(1):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function la(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=Z.UTF8ToString(t,-1)in f;var _=new DataView(d.buffer);return _.setInt8(r,n?1:0,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function da(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(f[Z.UTF8ToString(t,-1)]);var _=new DataView(d.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function pa(e,i,t,r){if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!r||!i)return n.setLastError(1);var a=o.handleStore.get(i);return a.isObject()||a.isFunction()?(a.value[t>>>0]=o.handleStore.get(r).value,n.getReturnStatus()):n.setLastError(2)}catch(c){return n.tryCatch.setError(c),n.setLastError(10)}}function ha(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=t>>>0 in f?1:0;var _=new DataView(d.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function _a(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!r||!i)return a.setLastError(1);var c=o.handleStore.get(i);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var f=void 0;try{f=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return a.setLastError(2)}n=a.ensureHandleId(f[t>>>0]);var _=new DataView(d.buffer);return _.setInt32(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function va(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i)return a.setLastError(1);var c=o.handleStore.get(i);if(!(c.isObject()||c.isFunction()))return a.setLastError(2);if(o.feature.supportReflect)n=Reflect.deleteProperty(c.value,t>>>0);else try{n=delete c.value[t>>>0]}catch{n=!1}if(r){var f=new DataView(d.buffer);f.setInt8(r,n?1:0,!0)}return a.getReturnStatus()}catch(_){return a.tryCatch.setError(_),a.setLastError(10)}}function ga(e,i,t,r){var n,a;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(t=t>>>0,t>0&&!r||!i)return c.setLastError(1);var f=o.handleStore.get(i),_=f.value;if(!(f.isObject()||f.isFunction()))return c.setLastError(2);for(var v=void 0,I=new DataView(d.buffer),b=0;b<t;b++){n=r+b*32;var P=I.getInt32(n,!0),U=I.getInt32(n+4,!0),M=I.getInt32(n+8,!0),G=I.getInt32(n+12,!0),Q=I.getInt32(n+16,!0),ne=I.getInt32(n+20,!0);a=I.getInt32(n+24,!0);var oe=I.getInt32(n+28,!0);if(P)v=Z.UTF8ToString(P,-1);else if(!U||(v=o.handleStore.get(U).value,typeof v!="string"&&typeof v!="symbol"))return c.setLastError(4);ur(c,_,v,M,G,Q,ne,a,oe)}return c.getReturnStatus()}catch(ee){return c.tryCatch.setError(ee),c.setLastError(10)}}function ya(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=o.handleStore.get(i),n=r.value;return r.isObject()||r.isFunction()?(Object.freeze(n),t.getReturnStatus()):t.setLastError(2)}catch(a){return t.tryCatch.setError(a),t.setLastError(10)}}function Ea(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!i)return t.setLastError(1);var r=o.handleStore.get(i),n=r.value;return r.isObject()||r.isFunction()?(Object.seal(n),t.getReturnStatus()):t.setLastError(2)}catch(a){return t.tryCatch.setError(a),t.setLastError(10)}}var ma=Object.freeze({__proto__:null,napi_define_properties:ga,napi_delete_element:va,napi_delete_property:ua,napi_get_all_property_names:Vr,napi_get_element:_a,napi_get_named_property:da,napi_get_property:oa,napi_get_property_names:ia,napi_has_element:ha,napi_has_named_property:la,napi_has_own_property:ca,napi_has_property:sa,napi_object_freeze:ya,napi_object_seal:Ea,napi_set_element:pa,napi_set_named_property:fa,napi_set_property:aa});function wa(e,i,t){var r,n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t)return a.setLastError(1);var c=o.handleStore.get(i);if(!c.isString())return a.setLastError(3);var f=o.handleStore.get(5).value,_=f.eval(c.value);n=a.ensureHandleId(_);var v=new DataView(d.buffer);v.setInt32(t,n,!0),r=a.getReturnStatus()}catch(I){return a.tryCatch.setError(I),a.setLastError(10)}return r}var ba=Object.freeze({__proto__:null,napi_run_script:wa});function Aa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a;if(n.isNumber())a=3;else if(n.isBigInt())a=9;else if(n.isString())a=4;else if(n.isFunction())a=7;else if(n.isExternal())a=8;else if(n.isObject())a=6;else if(n.isBoolean())a=2;else if(n.isUndefined())a=0;else if(n.isSymbol())a=5;else if(n.isNull())a=1;else return r.setLastError(1);var c=new DataView(d.buffer);return c.setInt32(t,a,!0),r.clearLastError()}function Sa(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);r=a.value?4:3;var c=new DataView(d.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(f){return n.tryCatch.setError(f),n.setLastError(10)}}function Ia(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.isBigInt())throw new TypeError("Cannot convert a BigInt value to a number");r=o.addToCurrentScope(Number(a.value)).id;var c=new DataView(d.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(f){return n.tryCatch.setError(f),n.setLastError(10)}}function La(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.value==null)throw new TypeError("Cannot convert undefined or null to object");r=n.ensureHandleId(Object(a.value));var c=new DataView(d.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(f){return n.tryCatch.setError(f),n.setLastError(10)}}function Ta(e,i,t){var r;if(!e)return 1;var n=o.envStore.get(e);if(n.checkGCAccess(),!n.tryCatch.isEmpty())return n.setLastError(10);if(!n.canCallIntoJs())return n.setLastError(n.moduleApiVersion>=10?23:10);n.clearLastError();try{if(!i||!t)return n.setLastError(1);var a=o.handleStore.get(i);if(a.isSymbol())throw new TypeError("Cannot convert a Symbol value to a string");r=o.addToCurrentScope(String(a.value)).id;var c=new DataView(d.buffer);return c.setInt32(t,r,!0),n.getReturnStatus()}catch(f){return n.tryCatch.setError(f),n.setLastError(10)}}function Ca(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!r||!t)return a.setLastError(1);var c=new DataView(d.buffer);c.setInt8(r,0,!0);var f=o.handleStore.get(t);if(!f.isFunction())return a.setLastError(5);var _=o.handleStore.get(i).value,v=_ instanceof f.value;return n=v?1:0,c.setInt8(r,n,!0),a.getReturnStatus()}catch(I){return a.tryCatch.setError(I),a.setLastError(10)}}function ka(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isArray()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Da(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isArrayBuffer()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Ba(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isDate()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Fa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i).value,a=n instanceof Error?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Oa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isTypedArray()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Ra(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isBuffer(o.feature.Buffer)?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Pa(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=n.isDataView()?1:0,c=new DataView(d.buffer);return c.setInt8(t,a,!0),r.clearLastError()}function Na(e,i,t,r){var n;if(!e)return 1;var a=o.envStore.get(e);if(a.checkGCAccess(),!a.tryCatch.isEmpty())return a.setLastError(10);if(!a.canCallIntoJs())return a.setLastError(a.moduleApiVersion>=10?23:10);a.clearLastError();try{if(!i||!t||!r)return a.setLastError(1);var c=o.handleStore.get(i).value,f=o.handleStore.get(t).value;n=c===f?1:0;var _=new DataView(d.buffer);return _.setInt8(r,n,!0),a.getReturnStatus()}catch(v){return a.tryCatch.setError(v),a.setLastError(10)}}function xa(e,i){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!i)return t.setLastError(1);var r=o.handleStore.get(i).value;if(!(r instanceof ArrayBuffer))return typeof SharedArrayBuffer=="function"&&r instanceof SharedArrayBuffer?t.setLastError(20):t.setLastError(19);try{var n=o.feature.MessageChannel,a=new n;a.port1.postMessage(r,[r])}catch{return t.setLastError(9)}return t.clearLastError()}function Ua(e,i,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!i||!t)return r.setLastError(1);var n=o.handleStore.get(i),a=new DataView(d.buffer);if(n.isArrayBuffer()&&n.value.byteLength===0)try{new Uint8Array(n.value)}catch{return a.setInt8(t,1,!0),r.getReturnStatus()}return a.setInt8(t,0,!0),r.getReturnStatus()}catch(c){return r.tryCatch.setError(c),r.setLastError(10)}}var Va=Object.freeze({__proto__:null,napi_coerce_to_bool:Sa,napi_coerce_to_number:Ia,napi_coerce_to_object:La,napi_coerce_to_string:Ta,napi_detach_arraybuffer:xa,napi_instanceof:Ca,napi_is_array:ka,napi_is_arraybuffer:Da,napi_is_buffer:Ra,napi_is_dataview:Pa,napi_is_date:Ba,napi_is_detached_arraybuffer:Ua,napi_is_error:Fa,napi_is_typedarray:Oa,napi_strict_equals:Na,napi_typeof:Aa});function Wa(e,i){if(!e)return 1;var t=o.envStore.get(e);if(!i)return t.setLastError(1);var r=10,n=new DataView(d.buffer);return n.setUint32(i,r,!0),t.clearLastError()}var Ma=Object.freeze({__proto__:null,napi_get_version:Wa});te.init(),$.init(),Z.init(),L.init(),x.init(),D.emnapi.syncMemory=fr,D.emnapi.getMemoryAddress=lr;function ce(e){for(var i=Object.keys(e),t=0;t<i.length;++t){var r=i[t];r.indexOf("$")!==0&&(r.indexOf("emnapi_")===0?D.imports.emnapi[r]=e[r]:r.indexOf("_emnapi_")===0||r==="napi_set_last_error"||r==="napi_clear_last_error"?D.imports.env[r]=e[r]:D.imports.napi[r]=e[r])}}return ce(Lt),ce(Ct),ce(Qt),ce(we),ce(_n),ce(Cn),ce(si),ce(li),ce(xn),ce(hi),ce(zn),ce(ki),ce(Pi),ce(Qi),ce(Xi),ce(Nt),ce(na),ce(ma),ce(ba),ce(Va),ce(Ma),D.imports.napi.napi_create_threadsafe_function=xt,D.imports.napi.napi_get_threadsafe_function_context=Ut,D.imports.napi.napi_call_threadsafe_function=Vt,D.imports.napi.napi_acquire_threadsafe_function=Wt,D.imports.napi.napi_release_threadsafe_function=Mt,D.imports.napi.napi_unref_threadsafe_function=jt,D.imports.napi.napi_ref_threadsafe_function=Ht,D}();return s}function es(u,s,l,p){p=p??{};var h=p.getMemory,d=p.getTable,A=p.beforeInit;if(h!=null&&typeof h!="function")throw new TypeError("options.getMemory is not a function");if(d!=null&&typeof d!="function")throw new TypeError("options.getTable is not a function");if(A!=null&&typeof A!="function")throw new TypeError("options.beforeInit is not a function");var k;k=Za(p);var B=p.wasi,F,D={env:k.imports.env,napi:k.imports.napi,emnapi:k.imports.emnapi};B&&(F=new Ka(k.childThread?{wasi:B,childThread:!0,postMessage:k.postMessage}:{wasi:B,threadManager:k.PThread,waitThreadStart:k.waitThreadStart}),Object.assign(D,typeof B.getImportObject=="function"?B.getImportObject():{wasi_snapshot_preview1:B.wasiImport}),Object.assign(D,F.getImportObject()));var o=p.overwriteImports;if(typeof o=="function"){var g=o(D);typeof g=="object"&&g!==null&&(D=g)}return u(l,D,function(y,E){if(y)throw y;var m=E.instance,w=m,S=m.exports,T="memory"in S,N="memory"in D.env,R=h?h(S):T?S.memory:N?D.env.memory:void 0;if(!R)throw new Error("memory is neither exported nor imported");var O=d?d(S):S.__indirect_function_table;if(B&&!T){var x=Object.create(null);Object.assign(x,S,{memory:R}),w={exports:x}}var V=E.module;B?w=F.initialize(w,V,R):k.PThread.setup(V,R);var W=function(){A&&A({instance:m,module:V}),k.init({instance:w,module:V,memory:R,table:O});var J={instance:m,module:V,usedInstance:w};return J.napiModule=k,J};if(k.PThread.shouldPreloadWorkers()){var j=k.PThread.loadWasmModuleToAllWorkers();if(u===rs)return j.then(W);throw new Error("Synchronous loading is not supported with worker pool (reuseWorker.size > 0)")}return W()})}function rs(u,s,l){return Re(u,s).then(function(p){return l(null,p)},function(p){return l(p)})}function ts(u,s,l){var p;try{p=Xa(u,s)}catch(h){return l(h)}return l(null,p)}function ns(u,s){return es(ts,void 0,u,s)}var Sr=new WeakMap;function rt(u){return Sr.has(u)}var is=function(){function u(s){Object.setPrototypeOf(this,null),Sr.set(this,s)}return u.prototype=null,u}();function as(u){if(!rt(u))throw new TypeError("not external");return Sr.get(u)}var tt=function(){var u;try{u=new Function}catch{return!1}return typeof u=="function"}(),nt=function(){if(typeof globalThis<"u")return globalThis;var u=function(){return this}();if(!u&&tt)try{u=new Function("return this")()}catch{}if(!u){if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}return u}(),ss=function(){function u(){this._exception=void 0,this._caught=!1}return u.prototype.isEmpty=function(){return!this._caught},u.prototype.hasCaught=function(){return this._caught},u.prototype.exception=function(){return this._exception},u.prototype.setError=function(s){this._caught=!0,this._exception=s},u.prototype.reset=function(){this._caught=!1,this._exception=void 0},u.prototype.extractException=function(){var s=this._exception;return this.reset(),s},u}(),os=function(){var u;try{return!!(!((u=Object.getOwnPropertyDescriptor(Function.prototype,"name"))===null||u===void 0)&&u.configurable)}catch{return!1}}(),us=typeof Reflect=="object",Pe=typeof FinalizationRegistry<"u"&&typeof WeakRef<"u",cs=function(){try{var u=Symbol();new WeakRef(u),new WeakMap().set(u,void 0)}catch{return!1}return!0}(),fs=typeof BigInt<"u",it=function(){var u;return u=function(){return typeof require<"u"?require:void 0}(),u}(),wr=typeof MessageChannel=="function"?MessageChannel:function(){try{return it("worker_threads").MessageChannel}catch{}}(),at=typeof setImmediate=="function"?setImmediate:function(u){if(typeof u!="function")throw new TypeError('The "callback" argument must be of type function');if(wr){var s=new wr;s.port1.onmessage=function(){s.port1.onmessage=null,s=void 0,u()},s.port2.postMessage(null)}else setTimeout(u,0)},st=typeof Buffer=="function"?Buffer:function(){try{return it("buffer").Buffer}catch{}}(),ls="1.4.5",Ir=10,Xe=2147483647,Ke=8,ot=function(){function u(s,l){this.id=s,this.value=l}return u.prototype.data=function(){return as(this.value)},u.prototype.isNumber=function(){return typeof this.value=="number"},u.prototype.isBigInt=function(){return typeof this.value=="bigint"},u.prototype.isString=function(){return typeof this.value=="string"},u.prototype.isFunction=function(){return typeof this.value=="function"},u.prototype.isExternal=function(){return rt(this.value)},u.prototype.isObject=function(){return typeof this.value=="object"&&this.value!==null},u.prototype.isArray=function(){return Array.isArray(this.value)},u.prototype.isArrayBuffer=function(){return this.value instanceof ArrayBuffer},u.prototype.isTypedArray=function(){return ArrayBuffer.isView(this.value)&&!(this.value instanceof DataView)},u.prototype.isBuffer=function(s){return ArrayBuffer.isView(this.value)?!0:(s??(s=st),typeof s=="function"&&s.isBuffer(this.value))},u.prototype.isDataView=function(){return this.value instanceof DataView},u.prototype.isDate=function(){return this.value instanceof Date},u.prototype.isPromise=function(){return this.value instanceof Promise},u.prototype.isBoolean=function(){return typeof this.value=="boolean"},u.prototype.isUndefined=function(){return this.value===void 0},u.prototype.isSymbol=function(){return typeof this.value=="symbol"},u.prototype.isNull=function(){return this.value===null},u.prototype.dispose=function(){this.value=void 0},u}(),Oe=function(u){be(s,u);function s(l,p){return u.call(this,l,p)||this}return s.prototype.dispose=function(){},s}(ot),Le=function(){function u(){this._values=[void 0,u.UNDEFINED,u.NULL,u.FALSE,u.TRUE,u.GLOBAL],this._next=u.MIN_ID}return u.prototype.push=function(s){var l,p=this._next,h=this._values;return p<h.length?(l=h[p],l.value=s):(l=new ot(p,s),h[p]=l),this._next++,l},u.prototype.erase=function(s,l){this._next=s;for(var p=this._values,h=s;h<l;++h)p[h].dispose()},u.prototype.get=function(s){return this._values[s]},u.prototype.swap=function(s,l){var p=this._values,h=p[s];p[s]=p[l],p[s].id=Number(s),p[l]=h,h.id=Number(l)},u.prototype.dispose=function(){this._values.length=u.MIN_ID,this._next=u.MIN_ID},u.UNDEFINED=new Oe(1,void 0),u.NULL=new Oe(2,null),u.FALSE=new Oe(3,!1),u.TRUE=new Oe(4,!0),u.GLOBAL=new Oe(5,nt),u.MIN_ID=6,u}(),Hr=function(){function u(s,l,p,h,d){d===void 0&&(d=h),this.handleStore=s,this.id=l,this.parent=p,this.child=null,p!==null&&(p.child=this),this.start=h,this.end=d,this._escapeCalled=!1,this.callbackInfo={thiz:void 0,data:0,args:void 0,fn:void 0}}return u.prototype.add=function(s){var l=this.handleStore.push(s);return this.end++,l},u.prototype.addExternal=function(s){return this.add(new is(s))},u.prototype.dispose=function(){this._escapeCalled&&(this._escapeCalled=!1),this.start!==this.end&&this.handleStore.erase(this.start,this.end)},u.prototype.escape=function(s){if(this._escapeCalled||(this._escapeCalled=!0,s<this.start||s>=this.end))return null;this.handleStore.swap(s,this.start);var l=this.handleStore.get(this.start);return this.start++,this.parent.end++,l},u.prototype.escapeCalled=function(){return this._escapeCalled},u}(),ds=function(){function u(){this._rootScope=new Hr(null,0,null,1,Le.MIN_ID),this.currentScope=this._rootScope,this._values=[void 0]}return u.prototype.get=function(s){return this._values[s]},u.prototype.openScope=function(s){var l=this.currentScope,p=l.child;if(p!==null)p.start=p.end=l.end;else{var h=l.id+1;p=new Hr(s.ctx.handleStore,h,l,l.end),this._values[h]=p}return this.currentScope=p,s.openHandleScopes++,p},u.prototype.closeScope=function(s){if(s.openHandleScopes!==0){var l=this.currentScope;this.currentScope=l.parent,l.dispose(),s.openHandleScopes--}},u.prototype.dispose=function(){this.currentScope=this._rootScope,this._values.length=1},u}(),Ce=function(){function u(){this._next=null,this._prev=null}return u.prototype.dispose=function(){},u.prototype.finalize=function(){},u.prototype.link=function(s){this._prev=s,this._next=s._next,this._next!==null&&(this._next._prev=this),s._next=this},u.prototype.unlink=function(){this._prev!==null&&(this._prev._next=this._next),this._next!==null&&(this._next._prev=this._prev),this._prev=null,this._next=null},u.finalizeAll=function(s){for(;s._next!==null;)s._next.finalize()},u}(),ut=function(){function u(s,l,p,h){l===void 0&&(l=0),p===void 0&&(p=0),h===void 0&&(h=0),this.envObject=s,this._finalizeCallback=l,this._finalizeData=p,this._finalizeHint=h,this._makeDynCall_vppp=s.makeDynCall_vppp}return u.prototype.callback=function(){return this._finalizeCallback},u.prototype.data=function(){return this._finalizeData},u.prototype.hint=function(){return this._finalizeHint},u.prototype.resetEnv=function(){this.envObject=void 0},u.prototype.resetFinalizer=function(){this._finalizeCallback=0,this._finalizeData=0,this._finalizeHint=0},u.prototype.callFinalizer=function(){var s=this._finalizeCallback,l=this._finalizeData,p=this._finalizeHint;if(this.resetFinalizer(),!!s){var h=Number(s);this.envObject?this.envObject.callFinalizer(h,l,p):this._makeDynCall_vppp(h)(0,l,p)}},u.prototype.dispose=function(){this.envObject=void 0,this._makeDynCall_vppp=void 0},u}(),ct=function(u){be(s,u);function s(l,p,h,d){var A=u.call(this)||this;return A._finalizer=new ut(l,p,h,d),A}return s.create=function(l,p,h,d){var A=new s(l,p,h,d);return A.link(l.finalizing_reflist),A},s.prototype.data=function(){return this._finalizer.data()},s.prototype.dispose=function(){this._finalizer&&(this.unlink(),this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),this._finalizer=void 0,u.prototype.dispose.call(this))},s.prototype.finalize=function(){this.unlink();var l,p=!1;try{this._finalizer.callFinalizer()}catch(h){p=!0,l=h}if(this.dispose(),p)throw l},s}(Ce);function ps(u,s){var l="".concat(u," requires Node-API version ").concat(s,", but this version of Node.js only supports version ").concat(Ir," add-ons.");throw new Error(l)}function hs(u,s){if(!u.terminatedOrTerminating())throw s}var _s=function(){function u(s,l,p,h,d){this.ctx=s,this.moduleApiVersion=l,this.makeDynCall_vppp=p,this.makeDynCall_vp=h,this.abort=d,this.openHandleScopes=0,this.instanceData=null,this.tryCatch=new ss,this.refs=1,this.reflist=new Ce,this.finalizing_reflist=new Ce,this.pendingFinalizers=[],this.lastError={errorCode:0,engineErrorCode:0,engineReserved:0},this.inGcFinalizer=!1,this._bindingMap=new WeakMap,this.id=0}return u.prototype.canCallIntoJs=function(){return!0},u.prototype.terminatedOrTerminating=function(){return!this.canCallIntoJs()},u.prototype.ref=function(){this.refs++},u.prototype.unref=function(){this.refs--,this.refs===0&&this.dispose()},u.prototype.ensureHandle=function(s){return this.ctx.ensureHandle(s)},u.prototype.ensureHandleId=function(s){return this.ensureHandle(s).id},u.prototype.clearLastError=function(){var s=this.lastError;return s.errorCode!==0&&(s.errorCode=0),s.engineErrorCode!==0&&(s.engineErrorCode=0),s.engineReserved!==0&&(s.engineReserved=0),0},u.prototype.setLastError=function(s,l,p){l===void 0&&(l=0),p===void 0&&(p=0);var h=this.lastError;return h.errorCode!==s&&(h.errorCode=s),h.engineErrorCode!==l&&(h.engineErrorCode=l),h.engineReserved!==p&&(h.engineReserved=p),s},u.prototype.getReturnStatus=function(){return this.tryCatch.hasCaught()?this.setLastError(10):0},u.prototype.callIntoModule=function(s,l){l===void 0&&(l=hs);var p=this.openHandleScopes;this.clearLastError();var h=s(this);if(p!==this.openHandleScopes&&this.abort("open_handle_scopes != open_handle_scopes_before"),this.tryCatch.hasCaught()){var d=this.tryCatch.extractException();l(this,d)}return h},u.prototype.invokeFinalizerFromGC=function(s){if(this.moduleApiVersion!==Xe)this.enqueueFinalizer(s);else{var l=this.inGcFinalizer;this.inGcFinalizer=!0;try{s.finalize()}finally{this.inGcFinalizer=l}}},u.prototype.checkGCAccess=function(){this.moduleApiVersion===Xe&&this.inGcFinalizer&&this.abort(`Finalizer is calling a function that may affect GC state.
The finalizers are run directly from GC and must not affect GC state.
Use \`node_api_post_finalizer\` from inside of the finalizer to work around this issue.
It schedules the call as a new task in the event loop.`)},u.prototype.enqueueFinalizer=function(s){this.pendingFinalizers.indexOf(s)===-1&&this.pendingFinalizers.push(s)},u.prototype.dequeueFinalizer=function(s){var l=this.pendingFinalizers.indexOf(s);l!==-1&&this.pendingFinalizers.splice(l,1)},u.prototype.deleteMe=function(){Ce.finalizeAll(this.finalizing_reflist),Ce.finalizeAll(this.reflist),this.tryCatch.extractException(),this.ctx.envStore.remove(this.id)},u.prototype.dispose=function(){this.id!==0&&(this.deleteMe(),this.finalizing_reflist.dispose(),this.reflist.dispose(),this.id=0)},u.prototype.initObjectBinding=function(s){var l={wrapped:0,tag:null};return this._bindingMap.set(s,l),l},u.prototype.getObjectBinding=function(s){return this._bindingMap.has(s)?this._bindingMap.get(s):this.initObjectBinding(s)},u.prototype.setInstanceData=function(s,l,p){this.instanceData&&this.instanceData.dispose(),this.instanceData=ct.create(this,l,s,p)},u.prototype.getInstanceData=function(){return this.instanceData?this.instanceData.data():0},u}(),vs=function(u){be(s,u);function s(l,p,h,d,A,k,B){var F=u.call(this,l,h,d,A,k)||this;return F.filename=p,F.nodeBinding=B,F.destructing=!1,F.finalizationScheduled=!1,F}return s.prototype.deleteMe=function(){this.destructing=!0,this.drainFinalizerQueue(),u.prototype.deleteMe.call(this)},s.prototype.canCallIntoJs=function(){return u.prototype.canCallIntoJs.call(this)&&this.ctx.canCallIntoJs()},s.prototype.triggerFatalException=function(l){if(this.nodeBinding)this.nodeBinding.napi.fatalException(l);else throw l},s.prototype.callbackIntoModule=function(l,p){return this.callIntoModule(p,function(h,d){if(!h.terminatedOrTerminating()){if(h.moduleApiVersion<10&&!l){var A=function(k,B,F){if(k instanceof Error)console.warn(k.toString());else{var D=F?"[".concat(F,"] "):"";console.warn("".concat(D).concat(B||"Warning",": ").concat(k))}};A("Uncaught N-API callback exception detected, please run node with option --force-node-api-uncaught-exceptions-policy=true to handle those exceptions properly.","DeprecationWarning","DEP0168");return}h.triggerFatalException(d)}})},s.prototype.callFinalizer=function(l,p,h){this.callFinalizerInternal(1,l,p,h)},s.prototype.callFinalizerInternal=function(l,p,h,d){var A=this.makeDynCall_vppp(p),k=this.id,B=this.ctx.openScope(this);try{this.callbackIntoModule(!!l,function(){A(k,h,d)})}finally{this.ctx.closeScope(this,B)}},s.prototype.enqueueFinalizer=function(l){var p=this;u.prototype.enqueueFinalizer.call(this,l),!this.finalizationScheduled&&!this.destructing&&(this.finalizationScheduled=!0,this.ref(),at(function(){p.finalizationScheduled=!1,p.unref(),p.drainFinalizerQueue()}))},s.prototype.drainFinalizerQueue=function(){for(;this.pendingFinalizers.length>0;){var l=this.pendingFinalizers.shift();l.finalize()}},s}(_s);function gs(u,s,l,p,h,d,A){l=typeof l!="number"?Ke:l,l<Ke?l=Ke:l>Ir&&l!==Xe&&ps(s,l);var k=new vs(u,s,l,p,h,d,A);return u.envStore.add(k),u.addCleanupHook(k,function(){k.unref()},0),k}var Lr=function(u){be(s,u);function s(l){var p=this.constructor,h=u.call(this,l)||this,d=p,A=d.prototype;if(!(h instanceof s)){var k=Object.setPrototypeOf;typeof k=="function"?k.call(Object,h,A):h.__proto__=A,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(h,d)}return h}return s}(Error);Object.defineProperty(Lr.prototype,"name",{configurable:!0,writable:!0,value:"EmnapiError"});var ft=function(u){be(s,u);function s(l,p){return u.call(this,"".concat(l,': The current runtime does not support "FinalizationRegistry" and "WeakRef".').concat(p?" ".concat(p):""))||this}return s}(Lr);Object.defineProperty(ft.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportWeakRefError"});var lt=function(u){be(s,u);function s(l,p){return u.call(this,"".concat(l,': The current runtime does not support "Buffer". Consider using buffer polyfill to make sure `globalThis.Buffer` is defined.').concat(p?" ".concat(p):""))||this}return s}(Lr);Object.defineProperty(lt.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportBufferError"});var hr=function(){function u(s){this._value=s}return u.prototype.deref=function(){return this._value},u.prototype.dispose=function(){this._value=void 0},u}(),ys=function(){function u(s){this._ref=new hr(s)}return u.prototype.setWeak=function(s,l){if(!(!Pe||this._ref===void 0||this._ref instanceof WeakRef)){var p=this._ref.deref();try{u._registry.register(p,this,this);var h=new WeakRef(p);this._ref.dispose(),this._ref=h,this._param=s,this._callback=l}catch(d){if(typeof p!="symbol")throw d}}},u.prototype.clearWeak=function(){if(!(!Pe||this._ref===void 0)&&this._ref instanceof WeakRef){try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0;var s=this._ref.deref();s===void 0?this._ref=s:this._ref=new hr(s)}},u.prototype.reset=function(){if(Pe)try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0,this._ref instanceof hr&&this._ref.dispose(),this._ref=void 0},u.prototype.isEmpty=function(){return this._ref===void 0},u.prototype.deref=function(){if(this._ref!==void 0)return this._ref.deref()},u._registry=Pe?new FinalizationRegistry(function(s){s._ref=void 0;var l=s._callback,p=s._param;s._callback=void 0,s._param=void 0,typeof l=="function"&&l(p)}):void 0,u}(),br;(function(u){u[u.kRuntime=0]="kRuntime",u[u.kUserland=1]="kUserland"})(br||(br={}));function Es(u){return u.isObject()||u.isFunction()||u.isSymbol()}var Tr=function(u){be(s,u);function s(l,p,h,d){var A=u.call(this)||this;A.envObject=l,A._refcount=h,A._ownership=d;var k=l.ctx.handleStore.get(p);return A.canBeWeak=Es(k),A.persistent=new ys(k.value),A.id=0,h===0&&A._setWeak(),A}return s.weakCallback=function(l){l.persistent.reset(),l.invokeFinalizerFromGC()},s.create=function(l,p,h,d,A,k,B){var F=new s(l,p,h,d);return l.ctx.refStore.add(F),F.link(l.reflist),F},s.prototype.ref=function(){return this.persistent.isEmpty()?0:(++this._refcount===1&&this.canBeWeak&&this.persistent.clearWeak(),this._refcount)},s.prototype.unref=function(){return this.persistent.isEmpty()||this._refcount===0?0:(--this._refcount===0&&this._setWeak(),this._refcount)},s.prototype.get=function(l){if(l===void 0&&(l=this.envObject),this.persistent.isEmpty())return 0;var p=this.persistent.deref(),h=l.ensureHandle(p);return h.id},s.prototype.resetFinalizer=function(){},s.prototype.data=function(){return 0},s.prototype.refcount=function(){return this._refcount},s.prototype.ownership=function(){return this._ownership},s.prototype.callUserFinalizer=function(){},s.prototype.invokeFinalizerFromGC=function(){this.finalize()},s.prototype._setWeak=function(){this.canBeWeak?this.persistent.setWeak(this,s.weakCallback):this.persistent.reset()},s.prototype.finalize=function(){this.persistent.reset();var l=this._ownership===br.kRuntime;this.unlink(),this.callUserFinalizer(),l&&this.dispose()},s.prototype.dispose=function(){this.id!==0&&(this.unlink(),this.persistent.reset(),this.envObject.ctx.refStore.remove(this.id),u.prototype.dispose.call(this),this.envObject=void 0,this.id=0)},s}(Ce),ms=function(u){be(s,u);function s(l,p,h,d,A){var k=u.call(this,l,p,h,d)||this;return k._data=A,k}return s.create=function(l,p,h,d,A){var k=new s(l,p,h,d,A);return l.ctx.refStore.add(k),k.link(l.reflist),k},s.prototype.data=function(){return this._data},s}(Tr),ws=function(u){be(s,u);function s(l,p,h,d,A,k,B){var F=u.call(this,l,p,h,d)||this;return F._finalizer=new ut(l,A,k,B),F}return s.create=function(l,p,h,d,A,k,B){var F=new s(l,p,h,d,A,k,B);return l.ctx.refStore.add(F),F.link(l.finalizing_reflist),F},s.prototype.resetFinalizer=function(){this._finalizer.resetFinalizer()},s.prototype.data=function(){return this._finalizer.data()},s.prototype.callUserFinalizer=function(){this._finalizer.callFinalizer()},s.prototype.invokeFinalizerFromGC=function(){this._finalizer.envObject.invokeFinalizerFromGC(this)},s.prototype.dispose=function(){this._finalizer&&(this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),u.prototype.dispose.call(this),this._finalizer=void 0)},s}(Tr),bs=function(){function u(s,l){this.id=0,this.ctx=s,this.value=l}return u.create=function(s,l){var p=new u(s,l);return s.deferredStore.add(p),p},u.prototype.resolve=function(s){this.value.resolve(s),this.dispose()},u.prototype.reject=function(s){this.value.reject(s),this.dispose()},u.prototype.dispose=function(){this.ctx.deferredStore.remove(this.id),this.id=0,this.value=null,this.ctx=null},u}(),_r=function(){function u(){this._values=[void 0],this._values.length=4,this._size=1,this._freeList=[]}return u.prototype.add=function(s){var l;if(this._freeList.length)l=this._freeList.shift();else{l=this._size,this._size++;var p=this._values.length;l>=p&&(this._values.length=p+(p>>1)+16)}s.id=l,this._values[l]=s},u.prototype.get=function(s){return this._values[s]},u.prototype.has=function(s){return this._values[s]!==void 0},u.prototype.remove=function(s){var l=this._values[s];l&&(l.id=0,this._values[s]=void 0,this._freeList.push(Number(s)))},u.prototype.dispose=function(){for(var s=1;s<this._size;++s){var l=this._values[s];l?.dispose()}this._values=[void 0],this._size=1,this._freeList=[]},u}(),As=function(){function u(s,l,p,h){this.envObject=s,this.fn=l,this.arg=p,this.order=h}return u}(),Ss=function(){function u(){this._cleanupHooks=[],this._cleanupHookCounter=0}return u.prototype.empty=function(){return this._cleanupHooks.length===0},u.prototype.add=function(s,l,p){if(this._cleanupHooks.filter(function(h){return h.envObject===s&&h.fn===l&&h.arg===p}).length>0)throw new Error("Can not add same fn and arg twice");this._cleanupHooks.push(new As(s,l,p,this._cleanupHookCounter++))},u.prototype.remove=function(s,l,p){for(var h=0;h<this._cleanupHooks.length;++h){var d=this._cleanupHooks[h];if(d.envObject===s&&d.fn===l&&d.arg===p){this._cleanupHooks.splice(h,1);return}}},u.prototype.drain=function(){var s=this._cleanupHooks.slice();s.sort(function(h,d){return d.order-h.order});for(var l=0;l<s.length;++l){var p=s[l];typeof p.fn=="number"?p.envObject.makeDynCall_vp(p.fn)(p.arg):p.fn(p.arg),this._cleanupHooks.splice(this._cleanupHooks.indexOf(p),1)}},u.prototype.dispose=function(){this._cleanupHooks.length=0,this._cleanupHookCounter=0},u}(),Is=function(){function u(){this._isStopping=!1,this._canCallIntoJs=!0,this._suppressDestroy=!1,this.envStore=new _r,this.scopeStore=new ds,this.refStore=new _r,this.deferredStore=new _r,this.handleStore=new Le,this.feature={supportReflect:us,supportFinalizer:Pe,supportWeakSymbol:cs,supportBigInt:fs,supportNewFunction:tt,canSetFunctionName:os,setImmediate:at,Buffer:st,MessageChannel:wr},this.cleanupQueue=new Ss}return u.prototype.suppressDestroy=function(){this._suppressDestroy=!0},u.prototype.getRuntimeVersions=function(){return{version:ls,NODE_API_SUPPORTED_VERSION_MAX:Ir,NAPI_VERSION_EXPERIMENTAL:Xe,NODE_API_DEFAULT_MODULE_API_VERSION:Ke}},u.prototype.createNotSupportWeakRefError=function(s,l){return new ft(s,l)},u.prototype.createNotSupportBufferError=function(s,l){return new lt(s,l)},u.prototype.createReference=function(s,l,p,h){return Tr.create(s,l,p,h)},u.prototype.createReferenceWithData=function(s,l,p,h,d){return ms.create(s,l,p,h,d)},u.prototype.createReferenceWithFinalizer=function(s,l,p,h,d,A,k){return d===void 0&&(d=0),A===void 0&&(A=0),k===void 0&&(k=0),ws.create(s,l,p,h,d,A,k)},u.prototype.createDeferred=function(s){return bs.create(this,s)},u.prototype.createEnv=function(s,l,p,h,d,A){return gs(this,s,l,p,h,d,A)},u.prototype.createTrackedFinalizer=function(s,l,p,h){return ct.create(s,l,p,h)},u.prototype.getCurrentScope=function(){return this.scopeStore.currentScope},u.prototype.addToCurrentScope=function(s){return this.scopeStore.currentScope.add(s)},u.prototype.openScope=function(s){return this.scopeStore.openScope(s)},u.prototype.closeScope=function(s,l){this.scopeStore.closeScope(s)},u.prototype.ensureHandle=function(s){switch(s){case void 0:return Le.UNDEFINED;case null:return Le.NULL;case!0:return Le.TRUE;case!1:return Le.FALSE;case nt:return Le.GLOBAL}return this.addToCurrentScope(s)},u.prototype.addCleanupHook=function(s,l,p){this.cleanupQueue.add(s,l,p)},u.prototype.removeCleanupHook=function(s,l,p){this.cleanupQueue.remove(s,l,p)},u.prototype.runCleanup=function(){for(;!this.cleanupQueue.empty();)this.cleanupQueue.drain()},u.prototype.increaseWaitingRequestCounter=function(){var s;(s=this.refCounter)===null||s===void 0||s.increase()},u.prototype.decreaseWaitingRequestCounter=function(){var s;(s=this.refCounter)===null||s===void 0||s.decrease()},u.prototype.setCanCallIntoJs=function(s){this._canCallIntoJs=s},u.prototype.setStopping=function(s){this._isStopping=s},u.prototype.canCallIntoJs=function(){return this._canCallIntoJs&&!this._isStopping},u.prototype.destroy=function(){this.setStopping(!0),this.setCanCallIntoJs(!1),this.runCleanup()},u}(),vr;function Ls(){return new Is}function Ts(){return vr||(vr=Ls()),vr}const Ue=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;if(!Ue)throw new Error("WebAssembly is not supported in this environment");function ke(u,s){if(u===null||typeof u!="object")throw new TypeError(`${s} must be an object. Received ${u===null?"null":typeof u}`)}function Cs(u,s){if(!Array.isArray(u))throw new TypeError(`${s} must be an array. Received ${u===null?"null":typeof u}`)}function ks(u,s){if(typeof u!="boolean")throw new TypeError(`${s} must be a boolean. Received ${u===null?"null":typeof u}`)}function dt(u,s){if(typeof u!="string")throw new TypeError(`${s} must be a string. Received ${u===null?"null":typeof u}`)}function Ze(u,s){if(typeof u!="function")throw new TypeError(`${s} must be a function. Received ${u===null?"null":typeof u}`)}function zr(u,s){if(u!==void 0)throw new TypeError(`${s} must be undefined. Received ${u===null?"null":typeof u}`)}function Ds(u){return!!(u&&(typeof u=="object"||typeof u=="function")&&typeof u.then=="function")}function ae(u,s,l){return typeof SharedArrayBuffer=="function"&&u.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(u.buffer.constructor)==="[object SharedArrayBuffer]"?u.slice(s,l):u.subarray(s,l)}const gr=46,Cr=47;function Bs(u){return u===Cr}function Fs(u,s,l,p){let h="",d=0,A=-1,k=0,B=0;for(let F=0;F<=u.length;++F){if(F<u.length)B=u.charCodeAt(F);else{if(p(B))break;B=Cr}if(p(B)){if(!(A===F-1||k===1))if(k===2){if(h.length<2||d!==2||h.charCodeAt(h.length-1)!==gr||h.charCodeAt(h.length-2)!==gr){if(h.length>2){const D=h.indexOf(l);D===-1?(h="",d=0):(h=h.slice(0,D),d=h.length-1-h.indexOf(l)),A=F,k=0;continue}else if(h.length!==0){h="",d=0,A=F,k=0;continue}}s&&(h+=h.length>0?`${l}..`:"..",d=2)}else h.length>0?h+=`${l}${u.slice(A+1,F)}`:h=u.slice(A+1,F),d=F-A-1;A=F,k=0}else B===gr&&k!==-1?++k:k=-1}return h}function ue(...u){let s="",l=!1;for(let p=u.length-1;p>=-1&&!l;p--){const h=p>=0?u[p]:"/";dt(h,"path"),h.length!==0&&(s=`${h}/${s}`,l=h.charCodeAt(0)===Cr)}return s=Fs(s,!l,"/",Bs),l?`/${s}`:s.length>0?s:"."}const Os=BigInt(1)<<BigInt(0),Rs=BigInt(1)<<BigInt(1),Ps=BigInt(1)<<BigInt(2),Ns=BigInt(1)<<BigInt(3),xs=BigInt(1)<<BigInt(4),Us=BigInt(1)<<BigInt(5),Vs=BigInt(1)<<BigInt(6),Ws=BigInt(1)<<BigInt(7),Ms=BigInt(1)<<BigInt(8),js=BigInt(1)<<BigInt(9),Hs=BigInt(1)<<BigInt(10),zs=BigInt(1)<<BigInt(11),Gs=BigInt(1)<<BigInt(12),Js=BigInt(1)<<BigInt(13),qs=BigInt(1)<<BigInt(14),$s=BigInt(1)<<BigInt(15),Ks=BigInt(1)<<BigInt(16),Qs=BigInt(1)<<BigInt(17),Ys=BigInt(1)<<BigInt(18),Xs=BigInt(1)<<BigInt(19),Zs=BigInt(1)<<BigInt(20),eo=BigInt(1)<<BigInt(21),ro=BigInt(1)<<BigInt(22),to=BigInt(1)<<BigInt(23),no=BigInt(1)<<BigInt(24),io=BigInt(1)<<BigInt(25),ao=BigInt(1)<<BigInt(26),so=BigInt(1)<<BigInt(27),oo=BigInt(1)<<BigInt(28),uo=BigInt(1)<<BigInt(29),C={FD_DATASYNC:Os,FD_READ:Rs,FD_SEEK:Ps,FD_FDSTAT_SET_FLAGS:Ns,FD_SYNC:xs,FD_TELL:Us,FD_WRITE:Vs,FD_ADVISE:Ws,FD_ALLOCATE:Ms,PATH_CREATE_DIRECTORY:js,PATH_CREATE_FILE:Hs,PATH_LINK_SOURCE:zs,PATH_LINK_TARGET:Gs,PATH_OPEN:Js,FD_READDIR:qs,PATH_READLINK:$s,PATH_RENAME_SOURCE:Ks,PATH_RENAME_TARGET:Qs,PATH_FILESTAT_GET:Ys,PATH_FILESTAT_SET_SIZE:Xs,PATH_FILESTAT_SET_TIMES:Zs,FD_FILESTAT_GET:eo,FD_FILESTAT_SET_SIZE:ro,FD_FILESTAT_SET_TIMES:to,PATH_SYMLINK:no,PATH_REMOVE_DIRECTORY:io,PATH_UNLINK_FILE:ao,POLL_FD_READWRITE:so,SOCK_SHUTDOWN:oo,SOCK_ACCEPT:uo};function co(u){switch(u){case 0:return"Success";case 1:return"Argument list too long";case 2:return"Permission denied";case 3:return"Address in use";case 4:return"Address not available";case 5:return"Address family not supported by protocol";case 6:return"Resource temporarily unavailable";case 7:return"Operation already in progress";case 8:return"Bad file descriptor";case 9:return"Bad message";case 10:return"Resource busy";case 11:return"Operation canceled";case 12:return"No child null";case 13:return"Connection aborted";case 14:return"Connection refused";case 15:return"Connection reset by peer";case 16:return"Resource deadlock would occur";case 17:return"Destination address required";case 18:return"Domain error";case 19:return"Quota exceeded";case 20:return"File exists";case 21:return"Bad address";case 22:return"File too large";case 23:return"Host is unreachable";case 24:return"Identifier removed";case 25:return"Illegal byte sequence";case 26:return"Operation in progress";case 27:return"Interrupted system call";case 28:return"Invalid argument";case 29:return"I/O error";case 30:return"Socket is connected";case 31:return"Is a directory";case 32:return"Symbolic link loop";case 33:return"No file descriptors available";case 34:return"Too many links";case 35:return"Message too large";case 36:return"Multihop attempted";case 37:return"Filename too long";case 38:return"Network is down";case 39:return"Connection reset by network";case 40:return"Network unreachable";case 41:return"Too many files open in system";case 42:return"No buffer space available";case 43:return"No such device";case 44:return"No such file or directory";case 45:return"Exec format error";case 46:return"No locks available";case 47:return"Link has been severed";case 48:return"Out of memory";case 49:return"No message of the desired type";case 50:return"Protocol not available";case 51:return"No space left on device";case 52:return"Function not implemented";case 53:return"Socket not connected";case 54:return"Not a directory";case 55:return"Directory not empty";case 56:return"State not recoverable";case 57:return"Not a socket";case 58:return"Not supported";case 59:return"Not a tty";case 60:return"No such device or address";case 61:return"Value too large for data type";case 62:return"Previous owner died";case 63:return"Operation not permitted";case 64:return"Broken pipe";case 65:return"Protocol error";case 66:return"Protocol not supported";case 67:return"Protocol wrong type for socket";case 68:return"Result not representable";case 69:return"Read-only file system";case 70:return"Invalid seek";case 71:return"No such null";case 72:return"Stale file handle";case 73:return"Operation timed out";case 74:return"Text file busy";case 75:return"Cross-device link";case 76:return"Capabilities insufficient";default:return"Unknown error"}}class de extends Error{constructor(s,l){super(s),this.errno=l}getErrorMessage(){return co(this.errno)}}Object.defineProperty(de.prototype,"name",{configurable:!0,writable:!0,value:"WasiError"});const Ve=C.FD_DATASYNC|C.FD_READ|C.FD_SEEK|C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_TELL|C.FD_WRITE|C.FD_ADVISE|C.FD_ALLOCATE|C.PATH_CREATE_DIRECTORY|C.PATH_CREATE_FILE|C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET|C.PATH_OPEN|C.FD_READDIR|C.PATH_READLINK|C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET|C.PATH_FILESTAT_GET|C.PATH_FILESTAT_SET_SIZE|C.PATH_FILESTAT_SET_TIMES|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_TIMES|C.FD_FILESTAT_SET_SIZE|C.PATH_SYMLINK|C.PATH_UNLINK_FILE|C.PATH_REMOVE_DIRECTORY|C.POLL_FD_READWRITE|C.SOCK_SHUTDOWN|C.SOCK_ACCEPT,fo=Ve,lo=Ve,po=Ve,ho=Ve,pt=C.FD_DATASYNC|C.FD_READ|C.FD_SEEK|C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_TELL|C.FD_WRITE|C.FD_ADVISE|C.FD_ALLOCATE|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_SIZE|C.FD_FILESTAT_SET_TIMES|C.POLL_FD_READWRITE,_o=BigInt(0),ht=C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_ADVISE|C.PATH_CREATE_DIRECTORY|C.PATH_CREATE_FILE|C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET|C.PATH_OPEN|C.FD_READDIR|C.PATH_READLINK|C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET|C.PATH_FILESTAT_GET|C.PATH_FILESTAT_SET_SIZE|C.PATH_FILESTAT_SET_TIMES|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_TIMES|C.PATH_SYMLINK|C.PATH_UNLINK_FILE|C.PATH_REMOVE_DIRECTORY|C.POLL_FD_READWRITE,vo=ht|pt,go=C.FD_READ|C.FD_FDSTAT_SET_FLAGS|C.FD_WRITE|C.FD_FILESTAT_GET|C.POLL_FD_READWRITE|C.SOCK_SHUTDOWN,yo=Ve,Eo=C.FD_READ|C.FD_FDSTAT_SET_FLAGS|C.FD_WRITE|C.FD_FILESTAT_GET|C.POLL_FD_READWRITE,mo=BigInt(0);function xe(u,s,l,p){const h={base:BigInt(0),inheriting:BigInt(0)};if(p===0)throw new de("Unknown file type",28);switch(p){case 4:h.base=pt,h.inheriting=_o;break;case 3:h.base=ht,h.inheriting=vo;break;case 6:case 5:h.base=go,h.inheriting=yo;break;case 2:u.indexOf(s)!==-1?(h.base=Eo,h.inheriting=mo):(h.base=po,h.inheriting=ho);break;case 1:h.base=fo,h.inheriting=lo;break;default:h.base=BigInt(0),h.inheriting=BigInt(0)}const d=l&3;return d===0?h.base&=~C.FD_WRITE:d===1&&(h.base&=~C.FD_READ),h}function Ne(u,s){let l=0;for(let d=0;d<u.length;d++){const A=u[d];l+=A.length}let p=0;const h=new Uint8Array(l);for(let d=0;d<u.length;d++){const A=u[d];h.set(A,p),p+=A.length}return h}class _t{constructor(s,l,p,h,d,A,k,B){this.id=s,this.fd=l,this.path=p,this.realPath=h,this.type=d,this.rightsBase=A,this.rightsInheriting=k,this.preopen=B,this.pos=BigInt(0),this.size=BigInt(0)}seek(s,l){if(l===0)this.pos=BigInt(s);else if(l===1)this.pos+=BigInt(s);else if(l===2)this.pos=BigInt(this.size)-BigInt(s);else throw new de("Unknown whence",29);return this.pos}}class Gr extends _t{constructor(s,l,p,h,d,A,k,B,F){super(l,p,h,d,A,k,B,F),this._log=s,this._buf=null}write(s){const l=s;if(this._buf&&(s=Ne([this._buf,s]),this._buf=null),s.indexOf(10)===-1)return this._buf=s,l.byteLength;let p=0,h=0,d;for(;(d=s.indexOf(10,p))!==-1;){const A=new TextDecoder().decode(s.subarray(h,d));this._log(A),p+=d-h+1,h=d+1}return p<s.length&&(this._buf=s.slice(p)),l.byteLength}}function kr(u){return u.isBlockDevice()?1:u.isCharacterDevice()?2:u.isDirectory()?3:u.isSocket()?6:u.isFile()?4:u.isSymbolicLink()?7:0}function He(u,s,l){u.setBigUint64(s,l.dev,!0),u.setBigUint64(s+8,l.ino,!0),u.setBigUint64(s+16,BigInt(kr(l)),!0),u.setBigUint64(s+24,l.nlink,!0),u.setBigUint64(s+32,l.size,!0),u.setBigUint64(s+40,l.atimeMs*BigInt(1e6),!0),u.setBigUint64(s+48,l.mtimeMs*BigInt(1e6),!0),u.setBigUint64(s+56,l.ctimeMs*BigInt(1e6),!0)}class vt{constructor(s){this.used=0,this.size=s.size,this.fds=Array(s.size),this.stdio=[s.in,s.out,s.err],this.print=s.print,this.printErr=s.printErr,this.insertStdio(s.in,0,"<stdin>"),this.insertStdio(s.out,1,"<stdout>"),this.insertStdio(s.err,2,"<stderr>")}insertStdio(s,l,p){const{base:d,inheriting:A}=xe(this.stdio,s,2,2),k=this.insert(s,p,p,2,d,A,0);if(k.id!==l)throw new de(`id: ${k.id} !== expected: ${l}`,8);return k}insert(s,l,p,h,d,A,k){var B,F;let D=-1;if(this.used>=this.size){const g=this.size*2;this.fds.length=g,D=this.size,this.size=g}else for(let g=0;g<this.size;++g)if(this.fds[g]==null){D=g;break}let o;return l==="<stdout>"?o=new Gr((B=this.print)!==null&&B!==void 0?B:console.log,D,s,l,p,h,d,A,k):l==="<stderr>"?o=new Gr((F=this.printErr)!==null&&F!==void 0?F:console.error,D,s,l,p,h,d,A,k):o=new _t(D,s,l,p,h,d,A,k),this.fds[D]=o,this.used++,o}get(s,l,p){if(s>=this.size)throw new de("Invalid fd",8);const h=this.fds[s];if(!h||h.id!==s)throw new de("Bad file descriptor",8);if((~h.rightsBase&l)!==BigInt(0)||(~h.rightsInheriting&p)!==BigInt(0))throw new de("Capabilities insufficient",76);return h}remove(s){if(s>=this.size)throw new de("Invalid fd",8);const l=this.fds[s];if(!l||l.id!==s)throw new de("Bad file descriptor",8);this.fds[s]=void 0,this.used--}}class wo extends vt{constructor(s){super(s),this.fs=s.fs}getFileTypeByFd(s){const l=this.fs.fstatSync(s,{bigint:!0});return kr(l)}insertPreopen(s,l,p){const h=this.getFileTypeByFd(s);if(h!==3)throw new de(`Preopen not dir: ["${l}", "${p}"]`,54);const d=xe(this.stdio,s,0,h);return this.insert(s,l,p,h,d.base,d.inheriting,1)}renumber(s,l){if(s===l)return;if(s>=this.size||l>=this.size)throw new de("Invalid fd",8);const p=this.fds[s],h=this.fds[l];if(!p||!h||p.id!==s||h.id!==l)throw new de("Invalid fd",8);this.fs.closeSync(p.fd),this.fds[s]=this.fds[l],this.fds[s].id=s,this.fds[l]=void 0,this.used--}}class bo extends vt{constructor(s){super(s)}async getFileTypeByFd(s){const l=await s.stat({bigint:!0});return kr(l)}async insertPreopen(s,l,p){const h=await this.getFileTypeByFd(s);if(h!==3)throw new de(`Preopen not dir: ["${l}", "${p}"]`,54);const d=xe(this.stdio,s.fd,0,h);return this.insert(s,l,p,h,d.base,d.inheriting,1)}async renumber(s,l){if(s===l)return;if(s>=this.size||l>=this.size)throw new de("Invalid fd",8);const p=this.fds[s],h=this.fds[l];if(!p||!h||p.id!==s||h.id!==l)throw new de("Invalid fd",8);await p.fd.close(),this.fds[s]=this.fds[l],this.fds[s].id=s,this.fds[l]=void 0,this.used--}}const Ao=function(){return Ue.Memory}();class So extends Ao{constructor(s){super(s)}get HEAP8(){return new Int8Array(super.buffer)}get HEAPU8(){return new Uint8Array(super.buffer)}get HEAP16(){return new Int16Array(super.buffer)}get HEAPU16(){return new Uint16Array(super.buffer)}get HEAP32(){return new Int32Array(super.buffer)}get HEAPU32(){return new Uint32Array(super.buffer)}get HEAP64(){return new BigInt64Array(super.buffer)}get HEAPU64(){return new BigUint64Array(super.buffer)}get HEAPF32(){return new Float32Array(super.buffer)}get HEAPF64(){return new Float64Array(super.buffer)}get view(){return new DataView(super.buffer)}}function Io(u){return Object.getPrototypeOf(u)===Ue.Memory.prototype&&Object.setPrototypeOf(u,So.prototype),u}function Lo(){const u=Ue.Function;if(typeof u!="function")throw new Error('WebAssembly.Function is not supported in this environment. If you are using V8 based browser like Chrome, try to specify --js-flags="--wasm-staging --experimental-wasm-stack-switching"');return u}function To(u,s,l){const p=Lo();if(typeof u!="function")throw new TypeError("Function required");const h=s.slice(0);return h.unshift("externref"),new p({parameters:h,results:l},u,{suspending:"first"})}function Te(u,s){if(u.length===0||s.length===0)return 0;let l=0,p=s.length-l;for(let h=0;h<u.length;++h){const d=u[h];if(p<d.length)return d.set(s.subarray(l,l+p),0),l+=p,p=0,l;d.set(s.subarray(l,l+d.length),0),l+=d.length,p-=d.length}return l}const gt=new WeakMap,z=new WeakMap,yt=new WeakMap;function q(u){return gt.get(u)}function re(u){const s=yt.get(u);if(!s)throw new Error("filesystem is unavailable");return s}function Jr(u){if(u instanceof de)return u.errno;switch(u.code){case"ENOENT":return 44;case"EBADF":return 8;case"EINVAL":return 28;case"EPERM":return 63;case"EPROTO":return 65;case"EEXIST":return 20;case"ENOTDIR":return 54;case"EMFILE":return 33;case"EACCES":return 2;case"EISDIR":return 31;case"ENOTEMPTY":return 55;case"ENOSYS":return 52}throw u}function Co(u,s){return Object.defineProperty(s,"name",{value:u}),s}function ie(u,s,l){return Co(s,function(){let p;try{p=l.apply(u,arguments)}catch(h){return Jr(h)}return Ds(p)?p.then(h=>h,Jr):p})}function yr(u,s,l,p){let h=ue(s.realPath,l);if((p&1)===1)try{h=u.readlinkSync(h)}catch(d){if(d.code!=="EINVAL"&&d.code!=="ENOENT")throw d}return h}async function Er(u,s,l,p){let h=ue(s.realPath,l);if((p&1)===1)try{h=await u.promises.readlink(h)}catch(d){if(d.code!=="EINVAL"&&d.code!=="ENOENT")throw d}return h}const Ee=new TextEncoder,se=new TextDecoder,ze=(BigInt(1)<<BigInt(63))-BigInt(1);function qr(){const u=window.prompt();return u===null?new Uint8Array:new TextEncoder().encode(u+`
`)}function Ge(u){return!!(u&-16)||(u&3)===3||(u&12)===12}class De{constructor(s,l,p,h,d,A){this.args_get=ie(this,"args_get",function(o,g){if(o=Number(o),g=Number(g),o===0||g===0)return 28;const{HEAPU8:y,view:E}=q(this),w=z.get(this).args;for(let S=0;S<w.length;++S){const T=w[S];E.setInt32(o,g,!0),o+=4;const N=Ee.encode(T+"\0");y.set(N,g),g+=N.length}return 0}),this.args_sizes_get=ie(this,"args_sizes_get",function(o,g){if(o=Number(o),g=Number(g),o===0||g===0)return 28;const{view:y}=q(this),m=z.get(this).args;return y.setUint32(o,m.length,!0),y.setUint32(g,Ee.encode(m.join("\0")+"\0").length,!0),0}),this.environ_get=ie(this,"environ_get",function(o,g){if(o=Number(o),g=Number(g),o===0||g===0)return 28;const{HEAPU8:y,view:E}=q(this),w=z.get(this).env;for(let S=0;S<w.length;++S){const T=w[S];E.setInt32(o,g,!0),o+=4;const N=Ee.encode(T+"\0");y.set(N,g),g+=N.length}return 0}),this.environ_sizes_get=ie(this,"environ_sizes_get",function(o,g){if(o=Number(o),g=Number(g),o===0||g===0)return 28;const{view:y}=q(this),E=z.get(this);return y.setUint32(o,E.env.length,!0),y.setUint32(g,Ee.encode(E.env.join("\0")+"\0").length,!0),0}),this.clock_res_get=ie(this,"clock_res_get",function(o,g){if(g=Number(g),g===0)return 28;const{view:y}=q(this);switch(o){case 0:return y.setBigUint64(g,BigInt(1e6),!0),0;case 1:case 2:case 3:return y.setBigUint64(g,BigInt(1e3),!0),0;default:return 28}}),this.clock_time_get=ie(this,"clock_time_get",function(o,g,y){if(y=Number(y),y===0)return 28;const{view:E}=q(this);switch(o){case 0:return E.setBigUint64(y,BigInt(Date.now())*BigInt(1e6),!0),0;case 1:case 2:case 3:{const m=performance.now()/1e3,w=Math.trunc(m),S=Math.floor((m-w)*1e3),T=BigInt(w)*BigInt(1e9)+BigInt(S)*BigInt(1e6);return E.setBigUint64(y,T,!0),0}default:return 28}}),this.fd_advise=ie(this,"fd_advise",function(o,g,y,E){return 52}),this.fd_fdstat_get=ie(this,"fd_fdstat_get",function(o,g){if(g=Number(g),g===0)return 28;const E=z.get(this).fds.get(o,BigInt(0),BigInt(0)),{view:m}=q(this);return m.setUint16(g,E.type,!0),m.setUint16(g+2,0,!0),m.setBigUint64(g+8,E.rightsBase,!0),m.setBigUint64(g+16,E.rightsInheriting,!0),0}),this.fd_fdstat_set_flags=ie(this,"fd_fdstat_set_flags",function(o,g){return 52}),this.fd_fdstat_set_rights=ie(this,"fd_fdstat_set_rights",function(o,g,y){const m=z.get(this).fds.get(o,BigInt(0),BigInt(0));return(g|m.rightsBase)>m.rightsBase||(y|m.rightsInheriting)>m.rightsInheriting?76:(m.rightsBase=g,m.rightsInheriting=y,0)}),this.fd_prestat_get=ie(this,"fd_prestat_get",function(o,g){if(g=Number(g),g===0)return 28;const y=z.get(this);let E;try{E=y.fds.get(o,BigInt(0),BigInt(0))}catch(w){if(w instanceof de)return w.errno;throw w}if(E.preopen!==1)return 28;const{view:m}=q(this);return m.setUint32(g,0,!0),m.setUint32(g+4,Ee.encode(E.path).length,!0),0}),this.fd_prestat_dir_name=ie(this,"fd_prestat_dir_name",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const m=z.get(this).fds.get(o,BigInt(0),BigInt(0));if(m.preopen!==1)return 8;const w=Ee.encode(m.path);if(w.length>y)return 42;const{HEAPU8:T}=q(this);return T.set(w,g),0}),this.fd_seek=ie(this,"fd_seek",function(o,g,y,E){if(E=Number(E),E===0)return 28;if(o===0||o===1||o===2)return 0;const S=z.get(this).fds.get(o,C.FD_SEEK,BigInt(0)).seek(g,y),{view:T}=q(this);return T.setBigUint64(E,S,!0),0}),this.fd_tell=ie(this,"fd_tell",function(o,g){const E=z.get(this).fds.get(o,C.FD_TELL,BigInt(0)),m=BigInt(E.pos),{view:w}=q(this);return w.setBigUint64(Number(g),m,!0),0}),this.poll_oneoff=ie(this,"poll_oneoff",function(o,g,y,E){if(o=Number(o),g=Number(g),E=Number(E),y=Number(y),y=y>>>0,o===0||g===0||y===0||E===0)return 28;const{view:m}=q(this);m.setUint32(E,0,!0);let w=0,S=BigInt(0),T=BigInt(0),N=0,R=BigInt(0),O;const x=Array(y);for(w=0;w<y;w++){O=o+w*48;const W=m.getBigUint64(O,!0),j=m.getUint8(O+8),J=m.getUint32(O+16,!0),Y=m.getBigUint64(O+24,!0),K=m.getBigUint64(O+32,!0),X=m.getUint16(O+40,!0);x[w]={userdata:W,type:j,u:{clock:{clock_id:J,timeout:Y,precision:K,flags:X},fd_readwrite:{fd:J}}}}const V=[];for(w=0;w<y;w++)switch(O=x[w],O.type){case 0:{if(O.u.clock.flags===1){const W=BigInt(Date.now())*BigInt(1e6);T=O.u.clock.timeout-W}else T=O.u.clock.timeout;(N===0||T<R)&&(R=T,S=O.userdata,N=1);break}case 1:case 2:V.push(O);break;default:return 28}if(V.length>0){for(w=0;w<V.length;w++){const W=V[w],j=g+32*w;m.setBigUint64(j,W.userdata,!0),m.setUint32(j+8,52,!0),m.setUint32(j+12,W.type,!0),m.setBigUint64(j+16,BigInt(0),!0),m.setUint16(j+24,0,!0),m.setUint32(E,1,!0)}return m.setUint32(E,V.length,!0),0}if(N){Number(R/BigInt(1e6));const W=g;m.setBigUint64(W,S,!0),m.setUint32(W+8,0,!0),m.setUint32(W+12,0,!0),m.setUint32(E,1,!0)}return 0}),this.proc_exit=ie(this,"proc_exit",function(o){return 0}),this.proc_raise=ie(this,"proc_raise",function(o){return 52}),this.sched_yield=ie(this,"sched_yield",function(){return 0}),this.random_get=typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?ie(this,"random_get",function(o,g){if(o=Number(o),o===0)return 28;g=Number(g);const{HEAPU8:y,view:E}=q(this);if(typeof SharedArrayBuffer=="function"&&y.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(y.buffer)==="[object SharedArrayBuffer]"){for(let S=o;S<o+g;++S)E.setUint8(S,Math.floor(Math.random()*256));return 0}let m;const w=65536;for(m=0;m+w<g;m+=w)crypto.getRandomValues(y.subarray(o+m,o+m+w));return crypto.getRandomValues(y.subarray(o+m,o+g)),0}):ie(this,"random_get",function(o,g){if(o=Number(o),o===0)return 28;g=Number(g);const{view:y}=q(this);for(let E=o;E<o+g;++E)y.setUint8(E,Math.floor(Math.random()*256));return 0}),this.sock_recv=ie(this,"sock_recv",function(){return 58}),this.sock_send=ie(this,"sock_send",function(){return 58}),this.sock_shutdown=ie(this,"sock_shutdown",function(){return 58}),this.sock_accept=ie(this,"sock_accept",function(){return 58}),z.set(this,{fds:p,args:s,env:l}),d&&yt.set(this,d);const k=this;function B(o,g,y,E,m){h?A?k[o]=A.wrapImportFunction(ie(k,o,y)):k[o]=To(ie(k,o,y),E,m):k[o]=ie(k,o,g)}B("fd_allocate",function(g,y,E){const m=z.get(this),w=re(this),S=m.fds.get(g,C.FD_ALLOCATE,BigInt(0));return w.fstatSync(S.fd,{bigint:!0}).size<y+E&&w.ftruncateSync(S.fd,Number(y+E)),0},async function(g,y,E){const S=z.get(this).fds.get(g,C.FD_ALLOCATE,BigInt(0)).fd;return(await S.stat({bigint:!0})).size<y+E&&await S.truncate(Number(y+E)),0},["i32","i64","f64"],["i32"]),B("fd_close",function(g){const y=z.get(this),E=y.fds.get(g,BigInt(0),BigInt(0));return re(this).closeSync(E.fd),y.fds.remove(g),0},async function(g){const y=z.get(this);return await y.fds.get(g,BigInt(0),BigInt(0)).fd.close(),y.fds.remove(g),0},["i32"],["i32"]),B("fd_datasync",function(g){const E=z.get(this).fds.get(g,C.FD_DATASYNC,BigInt(0));return re(this).fdatasyncSync(E.fd),0},async function(g){return await z.get(this).fds.get(g,C.FD_DATASYNC,BigInt(0)).fd.datasync(),0},["i32"],["i32"]),B("fd_filestat_get",function(g,y){if(y=Number(y),y===0)return 28;const m=z.get(this).fds.get(g,C.FD_FILESTAT_GET,BigInt(0)),S=re(this).fstatSync(m.fd,{bigint:!0}),{view:T}=q(this);return He(T,y,S),0},async function(g,y){if(y=Number(y),y===0)return 28;const S=await z.get(this).fds.get(g,C.FD_FILESTAT_GET,BigInt(0)).fd.stat({bigint:!0}),{view:T}=q(this);return He(T,y,S),0},["i32","i32"],["i32"]),B("fd_filestat_set_size",function(g,y){const m=z.get(this).fds.get(g,C.FD_FILESTAT_SET_SIZE,BigInt(0));return re(this).ftruncateSync(m.fd,Number(y)),0},async function(g,y){return await z.get(this).fds.get(g,C.FD_FILESTAT_SET_SIZE,BigInt(0)).fd.truncate(Number(y)),0},["i32","i64"],["i32"]);function F(o,g,y,E){const w=z.get(this).fds.get(o,C.FD_FILESTAT_SET_TIMES,BigInt(0));return(E&2)===2&&(g=BigInt(Date.now()*1e6)),(E&8)===8&&(y=BigInt(Date.now()*1e6)),{fileDescriptor:w,atim:g,mtim:y}}B("fd_filestat_set_times",function(g,y,E,m){if(Ge(m))return 28;const{fileDescriptor:w,atim:S,mtim:T}=F.call(this,g,y,E,m);return re(this).futimesSync(w.fd,Number(S),Number(T)),0},async function(g,y,E,m){if(Ge(m))return 28;const{fileDescriptor:w,atim:S,mtim:T}=F.call(this,g,y,E,m);return await w.fd.utimes(Number(S),Number(T)),0},["i32","i64","i64","i32"],["i32"]),B("fd_pread",function(g,y,E,m,w){if(y=Number(y),w=Number(w),y===0&&E||w===0||m>ze)return 28;const{HEAPU8:S,view:T}=q(this),R=z.get(this).fds.get(g,C.FD_READ|C.FD_SEEK,BigInt(0));if(!E)return T.setUint32(w,0,!0),0;let O=0;const x=Array.from({length:Number(E)},(Y,K)=>{const X=y+K*8,le=T.getInt32(X,!0),he=T.getUint32(X+4,!0);return O+=he,S.subarray(le,le+he)});let V=0;const W=(()=>{try{return new Uint8Array(new SharedArrayBuffer(O))}catch{return new Uint8Array(O)}})();W._isBuffer=!0;const J=re(this).readSync(R.fd,W,0,W.length,Number(m));return V=W?Te(x,W.subarray(0,J)):0,T.setUint32(w,V,!0),0},async function(o,g,y,E,m){if(g=Number(g),m=Number(m),g===0&&y||m===0||E>ze)return 28;const{HEAPU8:w,view:S}=q(this),N=z.get(this).fds.get(o,C.FD_READ|C.FD_SEEK,BigInt(0));if(!y)return S.setUint32(m,0,!0),0;let R=0;const O=Array.from({length:Number(y)},(j,J)=>{const Y=g+J*8,K=S.getInt32(Y,!0),X=S.getUint32(Y+4,!0);return R+=X,w.subarray(K,K+X)});let x=0;const V=new Uint8Array(R);V._isBuffer=!0;const{bytesRead:W}=await N.fd.read(V,0,V.length,Number(E));return x=V?Te(O,V.subarray(0,W)):0,S.setUint32(m,x,!0),0},["i32","i32","i32","i64","i32"],["i32"]),B("fd_pwrite",function(g,y,E,m,w){if(y=Number(y),w=Number(w),y===0&&E||w===0||m>ze)return 28;const{HEAPU8:S,view:T}=q(this),R=z.get(this).fds.get(g,C.FD_WRITE|C.FD_SEEK,BigInt(0));if(!E)return T.setUint32(w,0,!0),0;const O=Ne(Array.from({length:Number(E)},(W,j)=>{const J=y+j*8,Y=T.getInt32(J,!0),K=T.getUint32(J+4,!0);return S.subarray(Y,Y+K)})),V=re(this).writeSync(R.fd,O,0,O.length,Number(m));return T.setUint32(w,V,!0),0},async function(g,y,E,m,w){if(y=Number(y),w=Number(w),y===0&&E||w===0||m>ze)return 28;const{HEAPU8:S,view:T}=q(this),R=z.get(this).fds.get(g,C.FD_WRITE|C.FD_SEEK,BigInt(0));if(!E)return T.setUint32(w,0,!0),0;const O=Ne(Array.from({length:Number(E)},(V,W)=>{const j=y+W*8,J=T.getInt32(j,!0),Y=T.getUint32(j+4,!0);return S.subarray(J,J+Y)})),{bytesWritten:x}=await R.fd.write(O,0,O.length,Number(m));return T.setUint32(w,x,!0),0},["i32","i32","i32","i64","i32"],["i32"]),B("fd_read",function(g,y,E,m){if(y=Number(y),m=Number(m),y===0&&E||m===0)return 28;const{HEAPU8:w,view:S}=q(this),N=z.get(this).fds.get(g,C.FD_READ,BigInt(0));if(!E)return S.setUint32(m,0,!0),0;let R=0;const O=Array.from({length:Number(E)},(W,j)=>{const J=y+j*8,Y=S.getInt32(J,!0),K=S.getUint32(J+4,!0);return R+=K,w.subarray(Y,Y+K)});let x,V=0;if(g===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;x=qr(),V=x?Te(O,x):0}else{x=(()=>{try{return new Uint8Array(new SharedArrayBuffer(R))}catch{return new Uint8Array(R)}})(),x._isBuffer=!0;const j=re(this).readSync(N.fd,x,0,x.length,Number(N.pos));V=x?Te(O,x.subarray(0,j)):0,N.pos+=BigInt(V)}return S.setUint32(m,V,!0),0},async function(g,y,E,m){if(y=Number(y),m=Number(m),y===0&&E||m===0)return 28;const{HEAPU8:w,view:S}=q(this),N=z.get(this).fds.get(g,C.FD_READ,BigInt(0));if(!E)return S.setUint32(m,0,!0),0;let R=0;const O=Array.from({length:Number(E)},(W,j)=>{const J=y+j*8,Y=S.getInt32(J,!0),K=S.getUint32(J+4,!0);return R+=K,w.subarray(Y,Y+K)});let x,V=0;if(g===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;x=qr(),V=x?Te(O,x):0}else{x=new Uint8Array(R),x._isBuffer=!0;const{bytesRead:W}=await N.fd.read(x,0,x.length,Number(N.pos));V=x?Te(O,x.subarray(0,W)):0,N.pos+=BigInt(V)}return S.setUint32(m,V,!0),0},["i32","i32","i32","i32"],["i32"]),B("fd_readdir",function(g,y,E,m,w){if(y=Number(y),E=Number(E),w=Number(w),y===0||w===0)return 0;const T=z.get(this).fds.get(g,C.FD_READDIR,BigInt(0)),N=re(this),R=N.readdirSync(T.realPath,{withFileTypes:!0}),{HEAPU8:O,view:x}=q(this);let V=0;for(let W=Number(m);W<R.length;W++){const j=Ee.encode(R[W].name),J=N.statSync(ue(T.realPath,R[W].name),{bigint:!0}),Y=new Uint8Array(24+j.byteLength),K=new DataView(Y.buffer);K.setBigUint64(0,BigInt(W+1),!0),K.setBigUint64(8,BigInt(J.ino?J.ino:0),!0),K.setUint32(16,j.byteLength,!0);let X;R[W].isFile()?X=4:R[W].isDirectory()?X=3:R[W].isSymbolicLink()?X=7:R[W].isCharacterDevice()?X=2:R[W].isBlockDevice()?X=1:R[W].isSocket()?X=6:X=0,K.setUint8(20,X),Y.set(j,24);const le=Y.slice(0,Math.min(Y.length,E-V));O.set(le,y+V),V+=le.byteLength}return x.setUint32(w,V,!0),0},async function(g,y,E,m,w){if(y=Number(y),E=Number(E),w=Number(w),y===0||w===0)return 0;const T=z.get(this).fds.get(g,C.FD_READDIR,BigInt(0)),N=re(this),R=await N.promises.readdir(T.realPath,{withFileTypes:!0}),{HEAPU8:O,view:x}=q(this);let V=0;for(let W=Number(m);W<R.length;W++){const j=Ee.encode(R[W].name),J=await N.promises.stat(ue(T.realPath,R[W].name),{bigint:!0}),Y=new Uint8Array(24+j.byteLength),K=new DataView(Y.buffer);K.setBigUint64(0,BigInt(W+1),!0),K.setBigUint64(8,BigInt(J.ino?J.ino:0),!0),K.setUint32(16,j.byteLength,!0);let X;R[W].isFile()?X=4:R[W].isDirectory()?X=3:R[W].isSymbolicLink()?X=7:R[W].isCharacterDevice()?X=2:R[W].isBlockDevice()?X=1:R[W].isSocket()?X=6:X=0,K.setUint8(20,X),Y.set(j,24);const le=Y.slice(0,Math.min(Y.length,E-V));O.set(le,y+V),V+=le.byteLength}return x.setUint32(w,V,!0),0},["i32","i32","i32","i64","i32"],["i32"]),B("fd_renumber",function(g,y){return z.get(this).fds.renumber(y,g),0},async function(g,y){return await z.get(this).fds.renumber(y,g),0},["i32","i32"],["i32"]),B("fd_sync",function(g){const E=z.get(this).fds.get(g,C.FD_SYNC,BigInt(0));return re(this).fsyncSync(E.fd),0},async function(g){return await z.get(this).fds.get(g,C.FD_SYNC,BigInt(0)).fd.sync(),0},["i32"],["i32"]),B("fd_write",function(g,y,E,m){if(y=Number(y),m=Number(m),y===0&&E||m===0)return 28;const{HEAPU8:w,view:S}=q(this),N=z.get(this).fds.get(g,C.FD_WRITE,BigInt(0));if(!E)return S.setUint32(m,0,!0),0;const R=Ne(Array.from({length:Number(E)},(x,V)=>{const W=y+V*8,j=S.getInt32(W,!0),J=S.getUint32(W+4,!0);return w.subarray(j,j+J)}));let O;return g===1||g===2?O=N.write(R):(O=re(this).writeSync(N.fd,R,0,R.length,Number(N.pos)),N.pos+=BigInt(O)),S.setUint32(m,O,!0),0},async function(g,y,E,m){if(y=Number(y),m=Number(m),y===0&&E||m===0)return 28;const{HEAPU8:w,view:S}=q(this),N=z.get(this).fds.get(g,C.FD_WRITE,BigInt(0));if(!E)return S.setUint32(m,0,!0),0;const R=Ne(Array.from({length:Number(E)},(x,V)=>{const W=y+V*8,j=S.getInt32(W,!0),J=S.getUint32(W+4,!0);return w.subarray(j,j+J)}));let O;return g===1||g===2?O=N.write(R):(O=await(await N.fd.write(R,0,R.length,Number(N.pos))).bytesWritten,N.pos+=BigInt(O)),S.setUint32(m,O,!0),0},["i32","i32","i32","i32"],["i32"]),B("path_create_directory",function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_CREATE_DIRECTORY,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),re(this).mkdirSync(T),0},async function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_CREATE_DIRECTORY,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),await re(this).promises.mkdir(T),0},["i32","i32","i32"],["i32"]),B("path_filestat_get",function(g,y,E,m,w){if(E=Number(E),m=Number(m),w=Number(w),E===0||w===0)return 28;const{HEAPU8:S,view:T}=q(this),R=z.get(this).fds.get(g,C.PATH_FILESTAT_GET,BigInt(0));let O=se.decode(ae(S,E,E+m));const x=re(this);O=ue(R.realPath,O);let V;return(y&1)===1?V=x.statSync(O,{bigint:!0}):V=x.lstatSync(O,{bigint:!0}),He(T,w,V),0},async function(g,y,E,m,w){if(E=Number(E),m=Number(m),w=Number(w),E===0||w===0)return 28;const{HEAPU8:S,view:T}=q(this),R=z.get(this).fds.get(g,C.PATH_FILESTAT_GET,BigInt(0));let O=se.decode(ae(S,E,E+m));const x=re(this);O=ue(R.realPath,O);let V;return(y&1)===1?V=await x.promises.stat(O,{bigint:!0}):V=await x.promises.lstat(O,{bigint:!0}),He(T,w,V),0},["i32","i32","i32","i32","i32"],["i32"]),B("path_filestat_set_times",function(g,y,E,m,w,S,T){if(E=Number(E),m=Number(m),E===0)return 28;const{HEAPU8:N}=q(this),O=z.get(this).fds.get(g,C.PATH_FILESTAT_SET_TIMES,BigInt(0));if(Ge(T))return 28;const x=re(this),V=yr(x,O,se.decode(ae(N,E,E+m)),y);return(T&2)===2&&(w=BigInt(Date.now()*1e6)),(T&8)===8&&(S=BigInt(Date.now()*1e6)),x.utimesSync(V,Number(w),Number(S)),0},async function(g,y,E,m,w,S,T){if(E=Number(E),m=Number(m),E===0)return 28;const{HEAPU8:N}=q(this),O=z.get(this).fds.get(g,C.PATH_FILESTAT_SET_TIMES,BigInt(0));if(Ge(T))return 28;const x=re(this),V=await Er(x,O,se.decode(ae(N,E,E+m)),y);return(T&2)===2&&(w=BigInt(Date.now()*1e6)),(T&8)===8&&(S=BigInt(Date.now()*1e6)),await x.promises.utimes(V,Number(w),Number(S)),0},["i32","i32","i32","i32","i64","i64","i32"],["i32"]),B("path_link",function(g,y,E,m,w,S,T){if(E=Number(E),m=Number(m),S=Number(S),T=Number(T),E===0||S===0)return 28;const N=z.get(this);let R,O;g===w?R=O=N.fds.get(g,C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET,BigInt(0)):(R=N.fds.get(g,C.PATH_LINK_SOURCE,BigInt(0)),O=N.fds.get(w,C.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:x}=q(this),V=re(this),W=yr(V,R,se.decode(ae(x,E,E+m)),y),j=ue(O.realPath,se.decode(ae(x,S,S+T)));return V.linkSync(W,j),0},async function(g,y,E,m,w,S,T){if(E=Number(E),m=Number(m),S=Number(S),T=Number(T),E===0||S===0)return 28;const N=z.get(this);let R,O;g===w?R=O=N.fds.get(g,C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET,BigInt(0)):(R=N.fds.get(g,C.PATH_LINK_SOURCE,BigInt(0)),O=N.fds.get(w,C.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:x}=q(this),V=re(this),W=await Er(V,R,se.decode(ae(x,E,E+m)),y),j=ue(O.realPath,se.decode(ae(x,S,S+T)));return await V.promises.link(W,j),0},["i32","i32","i32","i32","i32","i32","i32"],["i32"]);function D(o,g,y,E){const m=(g&(C.FD_READ|C.FD_READDIR))!==BigInt(0),w=(g&(C.FD_DATASYNC|C.FD_WRITE|C.FD_ALLOCATE|C.FD_FILESTAT_SET_SIZE))!==BigInt(0);let S=w?m?2:1:0,T=C.PATH_OPEN,N=g|y;return(o&1)!==0&&(S|=64,T|=C.PATH_CREATE_FILE),(o&2)!==0&&(S|=65536),(o&4)!==0&&(S|=128),(o&8)!==0&&(S|=512,T|=C.PATH_FILESTAT_SET_SIZE),(E&1)!==0&&(S|=1024),(E&2)!==0&&(N|=C.FD_DATASYNC),(E&4)!==0&&(S|=2048),(E&8)!==0&&(S|=1052672,N|=C.FD_SYNC),(E&16)!==0&&(S|=1052672,N|=C.FD_SYNC),w&&(S&1536)===0&&(N|=C.FD_SEEK),{flags:S,needed_base:T,needed_inheriting:N}}B("path_open",function(g,y,E,m,w,S,T,N,R){if(E=Number(E),R=Number(R),E===0||R===0)return 28;m=Number(m),S=BigInt(S),T=BigInt(T);const{flags:O,needed_base:x,needed_inheriting:V}=D(w,S,T,N),W=z.get(this),j=W.fds.get(g,x,V),J=q(this),Y=J.HEAPU8,K=se.decode(ae(Y,E,E+m)),X=re(this),le=yr(X,j,K,y),he=X.openSync(le,O,438),me=W.fds.getFileTypeByFd(he);if(me!==3&&((w&2)!==0||le.endsWith("/")))return 54;const{base:Be,inheriting:Se}=xe(W.fds.stdio,he,O,me),we=W.fds.insert(he,le,le,me,S&Be,T&Se,0),ge=X.fstatSync(he,{bigint:!0});return ge.isFile()&&(we.size=ge.size,(O&1024)!==0&&(we.pos=ge.size)),J.view.setInt32(R,we.id,!0),0},async function(g,y,E,m,w,S,T,N,R){if(E=Number(E),R=Number(R),E===0||R===0)return 28;m=Number(m),S=BigInt(S),T=BigInt(T);const{flags:O,needed_base:x,needed_inheriting:V}=D(w,S,T,N),W=z.get(this),j=W.fds.get(g,x,V),J=q(this),Y=J.HEAPU8,K=se.decode(ae(Y,E,E+m)),X=re(this),le=await Er(X,j,K,y),he=await X.promises.open(le,O,438),me=await W.fds.getFileTypeByFd(he);if((w&2)!==0&&me!==3)return 54;const{base:Be,inheriting:Se}=xe(W.fds.stdio,he.fd,O,me),we=W.fds.insert(he,le,le,me,S&Be,T&Se,0),ge=await he.stat({bigint:!0});return ge.isFile()&&(we.size=ge.size,(O&1024)!==0&&(we.pos=ge.size)),J.view.setInt32(R,we.id,!0),0},["i32","i32","i32","i32","i32","i64","i64","i32","i32"],["i32"]),B("path_readlink",function(g,y,E,m,w,S){if(y=Number(y),E=Number(E),m=Number(m),w=Number(w),S=Number(S),y===0||m===0||S===0)return 28;const{HEAPU8:T,view:N}=q(this),O=z.get(this).fds.get(g,C.PATH_READLINK,BigInt(0));let x=se.decode(ae(T,y,y+E));x=ue(O.realPath,x);const W=re(this).readlinkSync(x),j=Ee.encode(W),J=Math.min(j.length,w);return J>=w?42:(T.set(j.subarray(0,J),m),T[m+J]=0,N.setUint32(S,J,!0),0)},async function(g,y,E,m,w,S){if(y=Number(y),E=Number(E),m=Number(m),w=Number(w),S=Number(S),y===0||m===0||S===0)return 28;const{HEAPU8:T,view:N}=q(this),O=z.get(this).fds.get(g,C.PATH_READLINK,BigInt(0));let x=se.decode(ae(T,y,y+E));x=ue(O.realPath,x);const W=await re(this).promises.readlink(x),j=Ee.encode(W),J=Math.min(j.length,w);return J>=w?42:(T.set(j.subarray(0,J),m),T[m+J]=0,N.setUint32(S,J,!0),0)},["i32","i32","i32","i32","i32","i32"],["i32"]),B("path_remove_directory",function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_REMOVE_DIRECTORY,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),re(this).rmdirSync(T),0},async function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_REMOVE_DIRECTORY,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),await re(this).promises.rmdir(T),0},["i32","i32","i32"],["i32"]),B("path_rename",function(g,y,E,m,w,S){if(y=Number(y),E=Number(E),w=Number(w),S=Number(S),y===0||w===0)return 28;const T=z.get(this);let N,R;g===m?N=R=T.fds.get(g,C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET,BigInt(0)):(N=T.fds.get(g,C.PATH_RENAME_SOURCE,BigInt(0)),R=T.fds.get(m,C.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:O}=q(this),x=ue(N.realPath,se.decode(ae(O,y,y+E))),V=ue(R.realPath,se.decode(ae(O,w,w+S)));return re(this).renameSync(x,V),0},async function(g,y,E,m,w,S){if(y=Number(y),E=Number(E),w=Number(w),S=Number(S),y===0||w===0)return 28;const T=z.get(this);let N,R;g===m?N=R=T.fds.get(g,C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET,BigInt(0)):(N=T.fds.get(g,C.PATH_RENAME_SOURCE,BigInt(0)),R=T.fds.get(m,C.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:O}=q(this),x=ue(N.realPath,se.decode(ae(O,y,y+E))),V=ue(R.realPath,se.decode(ae(O,w,w+S)));return await re(this).promises.rename(x,V),0},["i32","i32","i32","i32","i32","i32"],["i32"]),B("path_symlink",function(g,y,E,m,w){if(g=Number(g),y=Number(y),m=Number(m),w=Number(w),g===0||m===0)return 28;const{HEAPU8:S}=q(this),N=z.get(this).fds.get(E,C.PATH_SYMLINK,BigInt(0)),R=se.decode(ae(S,g,g+y));if(R.length>0&&R[0]==="/")return 63;let O=se.decode(ae(S,m,m+w));return O=ue(N.realPath,O),re(this).symlinkSync(R,O),0},async function(g,y,E,m,w){if(g=Number(g),y=Number(y),m=Number(m),w=Number(w),g===0||m===0)return 28;const{HEAPU8:S}=q(this),N=z.get(this).fds.get(E,C.PATH_SYMLINK,BigInt(0)),R=se.decode(ae(S,g,g+y));let O=se.decode(ae(S,m,m+w));return O=ue(N.realPath,O),await re(this).promises.symlink(R,O),0},["i32","i32","i32","i32","i32"],["i32"]),B("path_unlink_file",function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_UNLINK_FILE,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),re(this).unlinkSync(T),0},async function(g,y,E){if(y=Number(y),E=Number(E),y===0)return 28;const{HEAPU8:m}=q(this),S=z.get(this).fds.get(g,C.PATH_UNLINK_FILE,BigInt(0));let T=se.decode(ae(m,y,y+E));return T=ue(S.realPath,T),await re(this).promises.unlink(T),0},["i32","i32","i32"],["i32"]),this._setMemory=function(g){if(!(g instanceof Ue.Memory))throw new TypeError('"instance.exports.memory" property must be a WebAssembly.Memory');gt.set(k,Io(g))}}static createSync(s,l,p,h,d,A,k){const B=new wo({size:3,in:h[0],out:h[1],err:h[2],fs:d,print:A,printErr:k}),F=new De(s,l,B,!1,d);if(p.length>0)for(let D=0;D<p.length;++D){const o=d.realpathSync(p[D].realPath,"utf8"),g=d.openSync(o,"r",438);B.insertPreopen(g,p[D].mappedPath,o)}return F}static async createAsync(s,l,p,h,d,A,k,B){const F=new bo({size:3,in:h[0],out:h[1],err:h[2],print:A,printErr:k}),D=new De(s,l,F,!0,d,B);if(p.length>0)for(let o=0;o<p.length;++o){const g=p[o],y=await d.promises.realpath(g.realPath),E=await d.promises.open(y,"r",438);await F.insertPreopen(E,g.mappedPath,y)}return D}}const ko=Object.freeze(Object.create(null)),Ae=Symbol("kExitCode"),Et=Symbol("kSetMemory"),Ar=Symbol("kStarted"),Qe=Symbol("kInstance"),Ye=Symbol("kBindingName");function Do(u){var s;ke(u,"options");let l;if(u.version!==void 0)switch(dt(u.version,"options.version"),u.version){case"unstable":l=De,this[Ye]="wasi_unstable";break;case"preview1":l=De,this[Ye]="wasi_snapshot_preview1";break;default:throw new TypeError(`unsupported WASI version "${u.version}"`)}else l=De,this[Ye]="wasi_snapshot_preview1";u.args!==void 0&&Cs(u.args,"options.args");const p=((s=u.args)!==null&&s!==void 0?s:[]).map(String),h=[];u.env!==void 0&&(ke(u.env,"options.env"),Object.entries(u.env).forEach(({0:k,1:B})=>{B!==void 0&&h.push(`${k}=${B}`)}));const d=[];if(u.preopens!==void 0&&(ke(u.preopens,"options.preopens"),Object.entries(u.preopens).forEach(({0:k,1:B})=>d.push({mappedPath:String(k),realPath:String(B)}))),d.length>0){if(u.fs===void 0)throw new Error("filesystem is disabled, can not preopen directory");try{ke(u.fs,"options.fs")}catch{throw new TypeError("Node.js fs like implementation is not provided")}}return u.print!==void 0&&Ze(u.print,"options.print"),u.printErr!==void 0&&Ze(u.printErr,"options.printErr"),u.returnOnExit!==void 0&&ks(u.returnOnExit,"options.returnOnExit"),{args:p,env:h,preopens:d,stdio:[0,1,2],_WASI:l}}function Bo(u,s){this[Et]=u,this.wasiImport=s,this[Ar]=!1,this[Ae]=0,this[Qe]=void 0}class Fo{constructor(s=ko){const{args:l,env:p,preopens:h,stdio:d,_WASI:A}=Do.call(this,s),k=A.createSync(l,p,h,d,s.fs,s.print,s.printErr),B=k._setMemory;delete k._setMemory,Bo.call(this,B,k),s.returnOnExit&&(k.proc_exit=Oo.bind(this))}finalizeBindings(s,l){var p,{memory:h=(p=s?.exports)===null||p===void 0?void 0:p.memory}=l===void 0?{}:l;if(this[Ar])throw new Error("WASI instance has already started");ke(s,"instance"),ke(s.exports,"instance.exports"),this[Et](h),this[Qe]=s,this[Ar]=!0}start(s){this.finalizeBindings(s);const{_start:l,_initialize:p}=this[Qe].exports;Ze(l,"instance.exports._start"),zr(p,"instance.exports._initialize");let h;try{h=l()}catch(d){if(d!==Ae)throw d}return h instanceof Promise?h.then(()=>this[Ae],d=>{if(d!==Ae)throw d;return this[Ae]}):this[Ae]}initialize(s){this.finalizeBindings(s);const{_start:l,_initialize:p}=this[Qe].exports;if(zr(l,"instance.exports._start"),p!==void 0)return Ze(p,"instance.exports._initialize"),p()}getImportObject(){return{[this[Ye]]:this.wasiImport}}}function Oo(u){throw this[Ae]=u,Ae}var Je={},$r;function Ro(){if($r)return Je;$r=1;const u=p=>{if(p===void 0)return 0;if(p===null)return 1;const h=typeof p;return h==="boolean"?2:h==="number"?3:h==="string"?4:h==="object"?6:h==="bigint"?9:-1},s=(p,h,d)=>{switch(d){case 0:case 1:return new Uint8Array(0);case 2:{const A=new Int32Array(1);return A[0]=h?1:0,new Uint8Array(A.buffer)}case 3:{const A=new Float64Array(1);return A[0]=h,new Uint8Array(A.buffer)}case 4:return new TextEncoder().encode(h);case 6:{const[A]=Object.entries(p).filter(([F,D])=>D===h.constructor)[0]??[];A&&Object.defineProperty(h,"__constructor__",{configurable:!0,writable:!0,enumerable:!0,value:A});const k=JSON.stringify(h,(F,D)=>typeof D=="bigint"?`BigInt(${String(D)})`:D instanceof Error?{...D,message:D.message,stack:D.stack,__error__:D.constructor.name}:D);return new TextEncoder().encode(k)}case 9:{const A=new BigInt64Array(1);return A[0]=h,new Uint8Array(A.buffer)}case-1:default:throw new Error("unsupported data")}},l=(p,h,d)=>{if(d!==0){if(d===1)return null;if(d===2)return!!new Int32Array(h.buffer,h.byteOffset,1)[0];if(d===3)return new Float64Array(h.buffer,h.byteOffset,1)[0];if(d===4)return new TextDecoder().decode(h.slice());if(d===6){const A=JSON.parse(new TextDecoder().decode(h.slice()),(k,B)=>{if(typeof B=="string"){const F=B.match(/^BigInt\((-?\d+)\)$/);if(F&&F[1])return BigInt(F[1])}return B});if(A.__constructor__){const k=A.__constructor__;delete A.__constructor__,Object.setPrototypeOf(A,p[k].prototype)}if(A.__error__){const k=A.__error__,B=globalThis[k]||Error;delete A.__error__;const F=new B(A.message);Object.defineProperty(F,"stack",{configurable:!0,enumerable:!1,writable:!0,value:F.stack}),Object.defineProperty(F,Symbol.toStringTag,{configurable:!0,enumerable:!1,writable:!0,value:k});for(const[D,o]of Object.entries(A))D==="message"||D==="stack"||(F[D]=o);return F}return A}if(d===9)return new BigInt64Array(h.buffer,h.byteOffset,1)[0];throw new Error("unsupported data")}};return Je.createOnMessage=p=>function(d){if(d.data.__fs__){const{sab:A,type:k,payload:B}=d.data.__fs__,F=p[k];try{const D=F.apply(p,B),o=u(D);Atomics.store(A,1,o);const g=s(p,D,o);Atomics.store(A,2,g.length),new Uint8Array(A.buffer).set(g,16),Atomics.store(A,0,0)}catch(D){const o=u(D);Atomics.store(A,1,o);const g=s(p,D,o);Atomics.store(A,2,g.length),new Uint8Array(A.buffer).set(g,16),Atomics.store(A,0,1)}finally{Atomics.notify(A,0)}}},Je.createFsProxy=p=>new Proxy({},{get(h,d,A){return function(...k){const B=new SharedArrayBuffer(10256),F=new Int32Array(B);Atomics.store(F,0,21),postMessage({__fs__:{sab:F,type:d,payload:k}}),Atomics.wait(F,0,21);const D=Atomics.load(F,0),o=Atomics.load(F,1),g=Atomics.load(F,2),y=new Uint8Array(B,16,g),E=l(p,y,o);if(D===1)throw E;return E}}}),Je}var mt=Ro();mt.createFsProxy;mt.createOnMessage;const Po=new Fo({version:"preview1"}),No=new URL(""+new URL("turso-sync-javascript.wasm32-wasi-Cpg0tOSS.wasm",import.meta.url).href,import.meta.url).href,xo=Ts(),Uo=new WebAssembly.Memory({initial:4e3,maximum:65536,shared:!0}),Vo=await fetch(No).then(u=>u.arrayBuffer()),{instance:Jo,module:qo,napiModule:Dr}=ns(Vo,{context:xo,asyncWorkPoolSize:4,wasi:Po,onCreateWorker(){return new Worker(new URL(""+new URL("wasi-worker-browser-bVtD8Czx.js",import.meta.url).href,import.meta.url),{type:"module"})},overwriteImports(u){return u.env={...u.env,...u.napi,...u.emnapi,memory:Uo},u},beforeInit({instance:u}){for(const s of Object.keys(u.exports))s.startsWith("__napi_register__")&&u.exports[s]()}});Dr.exports;const Wo=Dr.exports.Database;Dr.exports.ProtocolNapi;var qe=new Map;function er(){const u=window.location.search;return new URLSearchParams(u).get("authToken")}function rr(){const u=window.location.search;return new URLSearchParams(u).get("url")}async function Mo(){return(await(await fetch(`${rr()}/info`,{headers:{Authorization:er()}})).json()).current_generation}async function jo(u){return await(await fetch(`${rr()}/export/${u}`,{headers:{Authorization:er()}})).body.getReader()}async function Ho(u,s,l){const p=await fetch(`${rr()}/sync/${u}/${s}/${l}`,{headers:{Authorization:er()}});return p.status==200?{reader:await p.body.getReader()}:{status:await p.json()}}async function zo(u,s,l,p){return await(await fetch(`${rr()}/sync/${u}/${s}/${l}`,{method:"POST",headers:{Authorization:er()},body:p})).json()}async function tr(u){let s={type:"None"},l=null;for(;;){let p=u.next(s);if(console.info(p),p==null)break;if(p.type=="ReadFile")qe.has(p.path)?s={type:"Content",field0:qe.get(p.path)}:s={type:"Content"};else if(p.type=="WriteFile")qe.set(p.path,p.data),s={type:"None"};else if(p.type=="ExistsFile")s={type:"Exists",field0:qe.has(p.path)};else if(p.type=="DbInfo")s={type:"DbInfo",generation:await Mo()};else if(p.type=="DbBootstrap"){l=await jo(p.generation);const{done:h,value:d}=await l.read();if(h){l=null,s={type:"Content"};continue}s={type:"Content",field0:Array.from(d)}}else if(p.type=="WalPull"){const h=await Ho(p.generation,p.startFrame,p.startFrame+100);if(h.status!=null){s={type:"DbStatus",status:h.status.status,generation:h.status.generation,maxFrameNo:h.status.max_frame_no};continue}l=h.reader;const{done:d,value:A}=await l.read();if(d){l=null,s={type:"Content"};continue}s={type:"Content",field0:Array.from(A)}}else if(p.type=="WalPush"){const h=await zo(p.generation,p.startFrame,p.endFrame,new Uint8Array(p.frames));console.info(h),s={type:"None"}}else if(p.type=="Continue"){const{done:h,value:d}=await l.read();if(h){l=null,s={type:"Content"};continue}s={type:"Content",field0:Array.from(d)}}else throw Error(`unexected yield_result: ${p}`)}}for(const u of document.getElementsByClassName("control"))u.disabled=!0;var We=new Wo("local.db");let Go=We.init();await tr(Go);for(const u of document.getElementsByClassName("control"))u.disabled=!1;document.getElementById("exec").onclick=function(){const u=document.getElementById("sql").value,s=We.execute(u);document.getElementById("response").textContent=s.map(l=>JSON.stringify(l)).join(`
`)};document.getElementById("push").onclick=async function(){let u=We.push();await tr(u)};document.getElementById("pull").onclick=async function(){let u=We.pull();await tr(u)};document.getElementById("sync").onclick=async function(){let u=We.sync();await tr(u)};
