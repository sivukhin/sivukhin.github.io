(function(){"use strict";function Zt(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ke={},hr,$r;function en(){return $r||($r=1,hr=u=>u?typeof Symbol.observable=="symbol"&&typeof u[Symbol.observable]=="function"?u===u[Symbol.observable]():typeof u["@@observable"]=="function"?u===u["@@observable"]():!1:!1),hr}var Se={},De={},Kr;function rn(){if(Kr)return De;Kr=1,Object.defineProperty(De,"__esModule",{value:!0}),De.DefaultSerializer=De.extendSerializer=void 0;function u(d,p){const m=d.deserialize.bind(d),h=d.serialize.bind(d);return{deserialize(T){return p.deserialize(T,m)},serialize(T){return p.serialize(T,h)}}}De.extendSerializer=u;const n={deserialize(d){return Object.assign(Error(d.message),{name:d.name,stack:d.stack})},serialize(d){return{__error_marker:"$$error",message:d.message,name:d.name,stack:d.stack}}},f=d=>d&&typeof d=="object"&&"__error_marker"in d&&d.__error_marker==="$$error";return De.DefaultSerializer={deserialize(d){return f(d)?n.deserialize(d):d},serialize(d){return d instanceof Error?n.serialize(d):d}},De}var Qr;function Yr(){if(Qr)return Se;Qr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.serialize=Se.deserialize=Se.registerSerializer=void 0;const u=rn();let n=u.DefaultSerializer;function f(m){n=u.extendSerializer(n,m)}Se.registerSerializer=f;function d(m){return n.deserialize(m)}Se.deserialize=d;function p(m){return n.serialize(m)}return Se.serialize=p,Se}var Oe={},ge={},Xr;function tn(){return Xr||(Xr=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.$worker=ge.$transferable=ge.$terminate=ge.$events=ge.$errors=void 0,ge.$errors=Symbol("thread.errors"),ge.$events=Symbol("thread.events"),ge.$terminate=Symbol("thread.terminate"),ge.$transferable=Symbol("thread.transferable"),ge.$worker=Symbol("thread.worker")),ge}var Zr;function et(){if(Zr)return Oe;Zr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Transfer=Oe.isTransferDescriptor=void 0;const u=tn();function n(p){return!(!p||typeof p!="object")}function f(p){return p&&typeof p=="object"&&p[u.$transferable]}Oe.isTransferDescriptor=f;function d(p,m){if(!m){if(!n(p))throw Error();m=[p]}return{[u.$transferable]:!0,send:p,transferables:m}}return Oe.Transfer=d,Oe}var _r={},rt;function nn(){return rt||(rt=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.WorkerMessageType=u.MasterMessageType=void 0,(function(n){n.cancel="cancel",n.run="run"})(u.MasterMessageType||(u.MasterMessageType={})),(function(n){n.error="error",n.init="init",n.result="result",n.running="running",n.uncaughtError="uncaughtError"})(u.WorkerMessageType||(u.WorkerMessageType={}))})(_r)),_r}var Qe={},tt;function an(){if(tt)return Qe;tt=1,Object.defineProperty(Qe,"__esModule",{value:!0});const u=function(){const p=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!p)},n=function(p,m){self.postMessage(p,m)},f=function(p){const m=T=>{p(T.data)},h=()=>{self.removeEventListener("message",m)};return self.addEventListener("message",m),h};return Qe.default={isWorkerRuntime:u,postMessageToMaster:n,subscribeToMasterMessages:f},Qe}var nt;function sn(){return nt||(nt=1,(function(u){var n=ke&&ke.__awaiter||function(D,W,H,q){function Q(X){return X instanceof H?X:new H(function(ue){ue(X)})}return new(H||(H=Promise))(function(X,ue){function me(he){try{Ie(q.next(he))}catch(ye){ue(ye)}}function Ue(he){try{Ie(q.throw(he))}catch(ye){ue(ye)}}function Ie(he){he.done?X(he.value):Q(he.value).then(me,Ue)}Ie((q=q.apply(D,W||[])).next())})},f=ke&&ke.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(u,"__esModule",{value:!0}),u.expose=u.isWorkerRuntime=u.Transfer=u.registerSerializer=void 0;const d=f(en()),p=Yr(),m=et(),h=nn(),T=f(an());var R=Yr();Object.defineProperty(u,"registerSerializer",{enumerable:!0,get:function(){return R.registerSerializer}});var x=et();Object.defineProperty(u,"Transfer",{enumerable:!0,get:function(){return x.Transfer}}),u.isWorkerRuntime=T.default.isWorkerRuntime;let z=!1;const E=new Map,o=D=>D&&D.type===h.MasterMessageType.cancel,g=D=>D&&D.type===h.MasterMessageType.run,y=D=>d.default(D)||w(D);function w(D){return D&&typeof D=="object"&&typeof D.subscribe=="function"}function b(D){return m.isTransferDescriptor(D)?{payload:D.send,transferables:D.transferables}:{payload:D,transferables:void 0}}function L(){const D={type:h.WorkerMessageType.init,exposed:{type:"function"}};T.default.postMessageToMaster(D)}function k(D){const W={type:h.WorkerMessageType.init,exposed:{type:"module",methods:D}};T.default.postMessageToMaster(W)}function U(D,W){const{payload:H,transferables:q}=b(W),Q={type:h.WorkerMessageType.error,uid:D,error:p.serialize(H)};T.default.postMessageToMaster(Q,q)}function O(D,W,H){const{payload:q,transferables:Q}=b(H),X={type:h.WorkerMessageType.result,uid:D,complete:W?!0:void 0,payload:q};T.default.postMessageToMaster(X,Q)}function B(D,W){const H={type:h.WorkerMessageType.running,uid:D,resultType:W};T.default.postMessageToMaster(H)}function P(D){try{const W={type:h.WorkerMessageType.uncaughtError,error:p.serialize(D)};T.default.postMessageToMaster(W)}catch(W){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.
Latest error:`,W,`
Original error:`,D)}}function F(D,W,H){return n(this,void 0,void 0,function*(){let q;try{q=W(...H)}catch(X){return U(D,X)}const Q=y(q)?"observable":"promise";if(B(D,Q),y(q)){const X=q.subscribe(ue=>O(D,!1,p.serialize(ue)),ue=>{U(D,p.serialize(ue)),E.delete(D)},()=>{O(D,!0),E.delete(D)});E.set(D,X)}else try{const X=yield q;O(D,!0,p.serialize(X))}catch(X){U(D,p.serialize(X))}})}function V(D){if(!T.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(z)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(z=!0,typeof D=="function")T.default.subscribeToMasterMessages(W=>{g(W)&&!W.method&&F(W.uid,D,W.args.map(p.deserialize))}),L();else if(typeof D=="object"&&D){T.default.subscribeToMasterMessages(H=>{g(H)&&H.method&&F(H.uid,D[H.method],H.args.map(p.deserialize))});const W=Object.keys(D).filter(H=>typeof D[H]=="function");k(W)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${D}`);T.default.subscribeToMasterMessages(W=>{if(o(W)){const H=W.uid,q=E.get(H);q&&(q.unsubscribe(),E.delete(H))}})}u.expose=V,typeof self<"u"&&typeof self.addEventListener=="function"&&T.default.isWorkerRuntime()&&(self.addEventListener("error",D=>{setTimeout(()=>P(D.error||D),250)}),self.addEventListener("unhandledrejection",D=>{const W=D.reason;W&&typeof W.message=="string"&&setTimeout(()=>P(W),250)})),typeof process<"u"&&typeof process.on=="function"&&T.default.isWorkerRuntime()&&(process.on("uncaughtException",D=>{setTimeout(()=>P(D),250)}),process.on("unhandledRejection",D=>{D&&typeof D.message=="string"&&setTimeout(()=>P(D),250)}))})(ke)),ke}var on=sn(),vr=Zt(on);const un=vr.expose;vr.registerSerializer,vr.Transfer;function We(u,n){const f=n?.length;if(f!==0){if(f===1){const d=n[0];if(cn(d)){fn(u,d);return}if(Array.isArray(d)){it(u,[d]);return}Ye(u,1,d);return}it(u,n)}}function cn(u){if(!u||typeof u!="object")return!1;const n=Object.getPrototypeOf(u);return n===Object.prototype||n===null}function fn(u,n){const f=u.parameterCount();for(let d=1;d<=f;d++){const p=u.parameterName(d);if(p){const m=p.substring(1),h=n[m];h!==void 0&&Ye(u,d,h)}}}function it(u,n){let f=1;for(let d=0;d<n.length;d++){const p=n[d];if(Array.isArray(p))for(let m=0;m<p.length;m++)Ye(u,f++,p[m]);else Ye(u,f++,p)}}function Ye(u,n,f){u.bindAt(n,f)}class gr extends Error{name;code;rawCode;constructor(n,f,d){super(n),this.name="SqliteError",this.code=f,this.rawCode=d,Error.captureStackTrace(this,gr)}}var at=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0,Ae=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string";function ln(u){return typeof u?.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0}function dn(u){var n,f,d=new Int32Array(u),p=Atomics.load(d,0);if(p<=1)return null;var m=Atomics.load(d,1),h=Atomics.load(d,2),T=Atomics.load(d,3),R=new Uint8Array(u),x=R.slice(16,16+m),z=R.slice(16+m,16+m+h),E=R.slice(16+m+h,16+m+h+T),o=new TextDecoder().decode(x),g=new TextDecoder().decode(z),y=new TextDecoder().decode(E),w=(n=globalThis[o])!==null&&n!==void 0?n:o==="RuntimeError"&&(f=at.RuntimeError)!==null&&f!==void 0?f:Error,b=new w(g);return Object.defineProperty(b,"stack",{value:y,writable:!0,enumerable:!1,configurable:!0}),b}function pn(u){return typeof SharedArrayBuffer=="function"&&u instanceof SharedArrayBuffer||Object.prototype.toString.call(u)==="[object SharedArrayBuffer]"}function hn(u){try{return u instanceof at.RuntimeError}catch{return!1}}function Xe(u,n){return{__emnapi__:{type:u,payload:n}}}var _n=536870911;function st(u){if(u){if(!pn(u.buffer))throw new Error("Multithread features require shared wasm memory. Try to compile with `-matomics -mbulk-memory` and use `--import-memory --shared-memory` during linking, then create WebAssembly.Memory with `shared: true` option")}else if(typeof SharedArrayBuffer>"u")throw new Error("Current environment does not support SharedArrayBuffer, threads are not available!")}function vn(u){var n;if(typeof u=="boolean")return u?{size:0,strict:!1}:!1;if(typeof u=="number"){if(!(u>=0))throw new RangeError("reuseWorker: size must be a non-negative integer");return{size:u,strict:!1}}if(!u)return!1;var f=(n=Number(u.size))!==null&&n!==void 0?n:0,d=!!u.strict;if(!(f>0)&&d)throw new RangeError("reuseWorker: size must be set to positive integer if strict is set to true");return{size:f,strict:d}}var Ze=0,ot=(function(){function u(n){var f;if(this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.wasmModule=null,this.wasmMemory=null,this.messageEvents=new WeakMap,!n)throw new TypeError("ThreadManager(): options is not provided");"childThread"in n?this._childThread=!!n.childThread:this._childThread=!1,this._childThread?(this._onCreateWorker=void 0,this._reuseWorker=!1,this._beforeLoad=void 0):(this._onCreateWorker=n.onCreateWorker,this._reuseWorker=vn(n.reuseWorker),this._beforeLoad=n.beforeLoad),this.printErr=(f=n.printErr)!==null&&f!==void 0?f:console.error.bind(console)}return Object.defineProperty(u.prototype,"nextWorkerID",{get:function(){return Ze},enumerable:!1,configurable:!0}),u.prototype.init=function(){this._childThread||this.initMainThread()},u.prototype.initMainThread=function(){this.preparePool()},u.prototype.preparePool=function(){if(this._reuseWorker&&this._reuseWorker.size)for(var n=this._reuseWorker.size;n--;){var f=this.allocateUnusedWorker();Ae&&(f.once("message",function(){}),f.unref())}},u.prototype.shouldPreloadWorkers=function(){return!this._childThread&&this._reuseWorker&&this._reuseWorker.size>0},u.prototype.loadWasmModuleToAllWorkers=function(){for(var n=this,f=Array(this.unusedWorkers.length),d=function(h){var T=p.unusedWorkers[h];Ae&&T.ref(),f[h]=p.loadWasmModuleToWorker(T).then(function(R){return Ae&&T.unref(),R},function(R){throw Ae&&T.unref(),R})},p=this,m=0;m<this.unusedWorkers.length;++m)d(m);return Promise.all(f).catch(function(h){throw n.terminateAllThreads(),h})},u.prototype.preloadWorkers=function(){return this.shouldPreloadWorkers()?this.loadWasmModuleToAllWorkers():Promise.resolve([])},u.prototype.setup=function(n,f){this.wasmModule=n,this.wasmMemory=f},u.prototype.markId=function(n){if(n.__emnapi_tid)return n.__emnapi_tid;var f=Ze+43;return Ze=(Ze+1)%(_n-42),this.pthreads[f]=n,n.__emnapi_tid=f,f},u.prototype.returnWorkerToPool=function(n){var f=n.__emnapi_tid;f!==void 0&&delete this.pthreads[f],this.unusedWorkers.push(n),this.runningWorkers.splice(this.runningWorkers.indexOf(n),1),delete n.__emnapi_tid,Ae&&n.unref()},u.prototype.loadWasmModuleToWorker=function(n,f){var d=this;if(n.whenLoaded)return n.whenLoaded;var p=this.printErr,m=this._beforeLoad,h=this;return n.whenLoaded=new Promise(function(T,R){var x=function(E){var o="worker sent an error!";if(n.__emnapi_tid!==void 0&&(o="worker (tid = "+n.__emnapi_tid+") sent an error!"),"message"in E){if(p(o+" "+E.message),E.message.indexOf("RuntimeError")!==-1||E.message.indexOf("unreachable")!==-1)try{h.terminateAllThreads()}catch{}}else p(o);throw R(E),E},z=function(E){if(E.__emnapi__){var o=E.__emnapi__.type,g=E.__emnapi__.payload;o==="loaded"?(n.loaded=!0,Ae&&!n.__emnapi_tid&&n.unref(),T(n)):o==="cleanup-thread"&&g.tid in d.pthreads&&d.cleanThread(n,g.tid)}};n.onmessage=function(E){z(E.data),d.fireMessageEvent(n,E)},n.onerror=x,Ae&&(n.on("message",function(E){var o,g;(g=(o=n).onmessage)===null||g===void 0||g.call(o,{data:E})}),n.on("error",function(E){var o,g;(g=(o=n).onerror)===null||g===void 0||g.call(o,E)}),n.on("detachedExit",function(){})),typeof m=="function"&&m(n);try{n.postMessage(Xe("load",{wasmModule:d.wasmModule,wasmMemory:d.wasmMemory,sab:f}))}catch(E){throw st(d.wasmMemory),E}}),n.whenLoaded},u.prototype.allocateUnusedWorker=function(){var n=this._onCreateWorker;if(typeof n!="function")throw new TypeError("`options.onCreateWorker` is not provided");var f=n({type:"thread",name:"emnapi-pthread"});return this.unusedWorkers.push(f),f},u.prototype.getNewWorker=function(n){if(this._reuseWorker){if(this.unusedWorkers.length===0){if(this._reuseWorker.strict&&!Ae){var f=this.printErr;f(`Tried to spawn a new thread, but the thread pool is exhausted.
This might result in a deadlock unless some threads eventually exit or the code explicitly breaks out to the event loop.`);return}var d=this.allocateUnusedWorker();this.loadWasmModuleToWorker(d,n)}return this.unusedWorkers.pop()}var p=this.allocateUnusedWorker();return this.loadWasmModuleToWorker(p,n),this.unusedWorkers.pop()},u.prototype.cleanThread=function(n,f,d){if(!d&&this._reuseWorker)this.returnWorkerToPool(n);else{delete this.pthreads[f];var p=this.runningWorkers.indexOf(n);p!==-1&&this.runningWorkers.splice(p,1),this.terminateWorker(n),delete n.__emnapi_tid}},u.prototype.terminateWorker=function(n){var f=this,d,p=n.__emnapi_tid;n.terminate(),(d=this.messageEvents.get(n))===null||d===void 0||d.clear(),this.messageEvents.delete(n),n.onmessage=function(m){if(m.data.__emnapi__){var h=f.printErr;h('received "'+m.data.__emnapi__.type+'" command from terminated worker: '+p)}}},u.prototype.terminateAllThreads=function(){for(var n=0;n<this.runningWorkers.length;++n)this.terminateWorker(this.runningWorkers[n]);for(var n=0;n<this.unusedWorkers.length;++n)this.terminateWorker(this.unusedWorkers[n]);this.unusedWorkers=[],this.runningWorkers=[],this.pthreads=Object.create(null),this.preparePool()},u.prototype.addMessageEventListener=function(n,f){var d=this.messageEvents.get(n);return d||(d=new Set,this.messageEvents.set(n,d)),d.add(f),function(){d?.delete(f)}},u.prototype.fireMessageEvent=function(n,f){var d=this.messageEvents.get(n);if(d){var p=this.printErr;d.forEach(function(m){try{m(f)}catch(h){p(h.stack)}})}},u})(),ut=Symbol("kIsProxy");function ct(u,n){if(u[ut])return u;var f=u.exports,d=function(R){for(var x=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],z={},E=function(g){var y=x[g];z[y]=function(){var w=Array.prototype.slice.call(arguments,1);return w.unshift(R),Reflect[y].apply(Reflect,w)}},o=0;o<x.length;o++)E(o);return z},p=d(f),m=function(){},h=function(){return 0};p.get=function(R,x,z){var E;return x==="memory"?(E=typeof n=="function"?n():n)!==null&&E!==void 0?E:Reflect.get(f,x,z):x==="_initialize"?x in f?m:void 0:x==="_start"?x in f?h:void 0:Reflect.get(f,x,z)},p.has=function(R,x){return x==="memory"?!0:Reflect.has(f,x)};var T=new Proxy(Object.create(null),p);return new Proxy(u,{get:function(R,x,z){return x==="exports"?T:x===ut?!0:Reflect.get(R,x,z)}})}var ft=new WeakMap,gn=(function(){function u(n){var f=this;if(!n)throw new TypeError("WASIThreads(): options is not provided");if(!n.wasi)throw new TypeError("WASIThreads(): options.wasi is not provided");ft.set(this,new WeakSet);var d=n.wasi;yn(this,d),this.wasi=d,"childThread"in n?this.childThread=!!n.childThread:this.childThread=!1,this.PThread=void 0,"threadManager"in n?typeof n.threadManager=="function"?this.PThread=n.threadManager():this.PThread=n.threadManager:this.childThread||(this.PThread=new ot(n),this.PThread.init());var p=!1;"waitThreadStart"in n&&(p=typeof n.waitThreadStart=="number"?n.waitThreadStart:!!n.waitThreadStart);var m=ln(n);if(this.childThread&&typeof m!="function")throw new TypeError("options.postMessage is not a function");this.postMessage=m;var h=!!n.wasm64,T=function(x){if(x.data.__emnapi__){var z=x.data.__emnapi__.type,E=x.data.__emnapi__.payload;z==="spawn-thread"?R(E.startArg,E.errorOrTid):z==="terminate-all-threads"&&f.terminateAllThreads()}},R=function(x,z){var E,o=6,g=z!==void 0;try{st(f.wasmMemory)}catch(q){if((E=f.PThread)===null||E===void 0||E.printErr(q.stack),g){var y=new Int32Array(f.wasmMemory.buffer,z,2);return Atomics.store(y,0,1),Atomics.store(y,1,o),Atomics.notify(y,1),1}else return-o}if(!g){var w=f.wasmInstance.exports.malloc;if(z=h?Number(w(BigInt(8))):w(8),!z)return-48}var b=f.wasmInstance.exports.free,L=h?function(q){b(BigInt(q))}:b,k=new Int32Array(f.wasmMemory.buffer,z,2);if(Atomics.store(k,0,0),Atomics.store(k,1,0),f.childThread){m(Xe("spawn-thread",{startArg:x,errorOrTid:z})),Atomics.wait(k,1,0);var U=Atomics.load(k,0),O=Atomics.load(k,1);return g?U:(L(z),U?-O:O)}var B=p||p===0,P;B&&(P=new Int32Array(new SharedArrayBuffer(8208)),Atomics.store(P,0,0));var F,V,D=f.PThread;try{if(F=D.getNewWorker(P),!F)throw new Error("failed to get new worker");if(D.addMessageEventListener(F,T),V=D.markId(F),Ae&&F.ref(),F.postMessage(Xe("start",{tid:V,arg:x,sab:P})),B){if(typeof p=="number"){var W=Atomics.wait(P,0,0,p);if(W==="timed-out"){try{D.cleanThread(F,V,!0)}catch{}throw new Error("Spawning thread timed out. Please check if the worker is created successfully and if message is handled properly in the worker.")}}else Atomics.wait(P,0,0);var H=Atomics.load(P,0);if(H>1){try{D.cleanThread(F,V,!0)}catch{}throw dn(P.buffer)}}}catch(q){return Atomics.store(k,0,1),Atomics.store(k,1,o),Atomics.notify(k,1),D?.printErr(q.stack),g?1:(L(z),-o)}return Atomics.store(k,0,0),Atomics.store(k,1,V),Atomics.notify(k,1),D.runningWorkers.push(F),B||F.whenLoaded.catch(function(q){throw delete F.whenLoaded,D.cleanThread(F,V,!0),q}),g?0:(L(z),V)};this.threadSpawn=R}return u.prototype.getImportObject=function(){return{wasi:{"thread-spawn":this.threadSpawn}}},u.prototype.setup=function(n,f,d){d??(d=n.exports.memory),this.wasmInstance=n,this.wasmMemory=d,this.PThread&&this.PThread.setup(f,d)},u.prototype.preloadWorkers=function(){return this.PThread?this.PThread.preloadWorkers():Promise.resolve([])},u.prototype.initialize=function(n,f,d){var p=n.exports;d??(d=p.memory),this.childThread&&(n=ct(n,d)),this.setup(n,f,d);var m=this.wasi;if("_start"in p&&typeof p._start=="function")if(this.childThread){m.start(n);try{var h=lt(m,"kStarted");m[h]=!1}catch{}}else En(m,n);else m.initialize(n);return n},u.prototype.start=function(n,f,d){var p=n.exports;d??(d=p.memory),this.childThread&&(n=ct(n,d)),this.setup(n,f,d);var m=this.wasi.start(n);return{exitCode:m,instance:n}},u.prototype.terminateAllThreads=function(){var n;this.childThread?this.postMessage(Xe("terminate-all-threads",{})):(n=this.PThread)===null||n===void 0||n.terminateAllThreads()},u})();function yn(u,n){var f=ft.get(u);if(!f.has(n)){var d=u,p=n.wasiImport;if(p){var m=p.proc_exit;p.proc_exit=function(T){return d.terminateAllThreads(),m.call(this,T)}}if(!d.childThread){var h=n.start;typeof h=="function"&&(n.start=function(T){try{return h.call(this,T)}catch(R){throw hn(R)&&d.terminateAllThreads(),R}})}f.add(n)}}function lt(u,n){var f=Object.getOwnPropertySymbols(u),d=function(p){return function(m){return m.description?m.description===p:m.toString()==="Symbol(".concat(p,")")}};return Array.isArray(n)?n.map(function(p){return f.filter(d(p))[0]}):f.filter(d(n))[0]}function En(u,n){var f=lt(u,["kInstance","kSetMemory"]),d=f[0],p=f[1];u[d]=n,u[p](n.exports.memory)}var yr=function(u,n){return yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])},yr(u,n)};function Le(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");yr(u,n);function f(){this.constructor=u}u.prototype=n===null?Object.create(n):(f.prototype=n.prototype,new f)}typeof SuppressedError=="function"&&SuppressedError;var ve=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;function dt(u){if(u&&typeof u!="object")throw new TypeError("imports must be an object or undefined");return!0}function je(u,n){if(!u)throw new TypeError("Invalid wasm source");dt(n),n=n??{};try{var f=typeof u=="object"&&u!==null&&"then"in u?u.then:void 0;if(typeof f=="function")return f.call(u,function(p){return je(p,n)})}catch{}if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))return ve.instantiate(u,n);if(u instanceof ve.Module)return ve.instantiate(u,n).then(function(p){return{instance:p,module:u}});if(typeof Response<"u"&&u instanceof Response)return u.arrayBuffer().then(function(p){return ve.instantiate(p,n)});var d=typeof u=="string";if(d||typeof URL<"u"&&u instanceof URL){if(d&&typeof wx<"u"&&typeof __wxConfig<"u")return ve.instantiate(u,n);if(typeof fetch!="function")throw new TypeError("wasm source can not be a string or URL in this environment");if(typeof ve.instantiateStreaming=="function")try{return ve.instantiateStreaming(fetch(u),n).catch(function(){return je(fetch(u),n)})}catch{return je(fetch(u),n)}else return je(fetch(u),n)}throw new TypeError("Invalid wasm source")}function mn(u,n){if(!u)throw new TypeError("Invalid wasm source");dt(n),n=n??{};var f;if(u instanceof ArrayBuffer||ArrayBuffer.isView(u))f=new ve.Module(u);else if(u instanceof WebAssembly.Module)f=u;else throw new TypeError("Invalid wasm source");var d=new ve.Instance(f,n),p={instance:d,module:f};return p}function wn(u){var n=(function(){var f=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string",d=!!u.childThread,p=typeof u.waitThreadStart=="number"?u.waitThreadStart:!!u.waitThreadStart,m,h,T,R,x;function z(e){throw typeof ve.RuntimeError=="function"?new ve.RuntimeError(e):Error(e)}var E={imports:{env:{},napi:{},emnapi:{}},exports:{},emnapi:{},loaded:!1,filename:"",childThread:d,initWorker:void 0,executeAsyncWork:void 0,waitThreadStart:p,PThread:void 0,init:function(e){if(E.loaded)return E.exports;if(!e)throw new TypeError("Invalid napi init options");var a=e.instance;if(!a?.exports)throw new TypeError("Invalid wasm instance");m=a;var t=a.exports,r=e.module,i=e.memory||t.memory,s=e.table||t.__indirect_function_table;if(!(r instanceof ve.Module))throw new TypeError("Invalid wasm module");if(!(i instanceof ve.Memory))throw new TypeError("Invalid wasm memory");if(!(s instanceof ve.Table))throw new TypeError("Invalid wasm table");if(h=i,T=s,typeof t.malloc!="function")throw new TypeError("malloc is not exported");if(typeof t.free!="function")throw new TypeError("free is not exported");if(R=t.malloc,x=t.free,!E.childThread){var c=8,l=a.exports.node_api_module_get_api_version_v1;typeof l=="function"&&(c=l());var _=E.envObject||(E.envObject=o.createEnv(E.filename,c,function(A){return T.get(A)},function(A){return T.get(A)},z,g)),v=o.openScope(_);try{_.callIntoModule(function(A){var S=E.exports,N=v.add(S),M=a.exports.napi_register_wasm_v1,j=M(A.id,N.id);E.exports=j?o.handleStore.get(j).value:S})}catch(A){if(A!=="unwind")throw A}finally{o.closeScope(_,v)}return E.loaded=!0,delete E.envObject,E.exports}}},o,g,y=void 0,w;if(d){o=u?.context;var L=typeof u.postMessage=="function"?u.postMessage:typeof postMessage=="function"?postMessage:void 0;if(typeof L!="function")throw new TypeError("No postMessage found");E.postMessage=L}else{var b=u.context;if(typeof b!="object"||b===null)throw new TypeError("Invalid `options.context`. Use `import { getDefaultContext } from '@emnapi/runtime'`");o=b}if(typeof u.filename=="string"&&(E.filename=u.filename),typeof u.onCreateWorker=="function"&&(y=u.onCreateWorker),typeof u.print=="function"?u.print:console.log.bind(console),typeof u.printErr=="function"?w=u.printErr:w=console.warn.bind(console),"nodeBinding"in u){var k=u.nodeBinding;if(typeof k!="object"||k===null)throw new TypeError("Invalid `options.nodeBinding`. Use @emnapi/node-binding package");g=k}var U=0;if("asyncWorkPoolSize"in u){if(typeof u.asyncWorkPoolSize!="number")throw new TypeError("options.asyncWorkPoolSize must be a integer");U=u.asyncWorkPoolSize>>0,U>1024?U=1024:U<-1024&&(U=-1024)}var O=d?!1:U<=0;function B(){return Math.abs(U)}E.imports.env._emnapi_async_work_pool_size=B;function P(e){if(!e)return!1;if(e._emnapiSendListener)return!0;var a=function(r){var i=f?r:r.data,s=i.__emnapi__;if(s&&s.type==="async-send")if(d){var c=E.postMessage;c({__emnapi__:s})}else{var l=s.payload.callback;T.get(l)(s.payload.data)}},t=function(){f?e.off("message",a):e.removeEventListener("message",a,!1),delete e._emnapiSendListener};return e._emnapiSendListener={handler:a,dispose:t},f?e.on("message",a):e.addEventListener("message",a,!1),!0}E.emnapi.addSendListener=P;var F=new ot(d?{printErr:w,childThread:!0}:{printErr:w,beforeLoad:function(e){P(e)},reuseWorker:u.reuseWorker,onCreateWorker:y});E.PThread=F;function V(e,a,t,r){var i=o.envStore.get(e);return i.setLastError(a,t,r)}function D(e){var a=o.envStore.get(e);return a.clearLastError()}function W(e,a,t){var r=typeof process=="object"&&process!==null&&typeof process.versions=="object"&&process.versions!==null&&typeof process.versions.node=="string"?process.versions.node.split(".").map(function(s){return Number(s)}):[0,0,0],i=new DataView(h.buffer);i.setUint32(e,r[0],!0),i.setUint32(a,r[1],!0),i.setUint32(t,r[2],!0)}function H(){}function q(){}function Q(e,a){o.feature.setImmediate(function(){T.get(e)(a)})}function X(e,a){Promise.resolve().then(function(){T.get(e)(a)})}function ue(e,a,t,r,i){var s=o.envStore.get(a),c=o.openScope(s);try{s.callbackIntoModule(!!e,function(){T.get(t)(a,r)})}catch(l){throw o.closeScope(s,c),i&&o.closeScope(s),l}o.closeScope(s,c)}function me(e,a,t,r,i){var s=o.envStore.get(a);s.callFinalizerInternal(e,t,r,i)}function Ue(){o.increaseWaitingRequestCounter()}function Ie(){o.decreaseWaitingRequestCounter()}function he(){return d?0:1}function ye(){return typeof window<"u"&&typeof document<"u"&&!f?1:0}function Nr(){throw"unwind"}function _a(){return performance.timeOrigin+performance.now()}function Pr(e,a){var t,r=[a>>>0,(t=a,+Math.abs(t)>=1?t>0?(Math.min(+Math.floor(t/4294967296),4294967295)|0)>>>0:~~+Math.ceil((t-+(~~t>>>0))/4294967296)>>>0:0)],i=new DataView(h.buffer);i.setInt32(e,r[0],!0),i.setInt32(e+4,r[1],!0)}function va(){return o.openScope().id}function ga(e){return o.closeScope()}var ya=Object.freeze({__proto__:null,$emnapiSetValueI64:Pr,_emnapi_call_finalizer:me,_emnapi_callback_into_module:ue,_emnapi_close_handle_scope:ga,_emnapi_ctx_decrease_waiting_request_counter:Ie,_emnapi_ctx_increase_waiting_request_counter:Ue,_emnapi_get_node_version:W,_emnapi_get_now:_a,_emnapi_is_main_browser_thread:ye,_emnapi_is_main_runtime_thread:he,_emnapi_next_tick:X,_emnapi_open_handle_scope:va,_emnapi_runtime_keepalive_pop:q,_emnapi_runtime_keepalive_push:H,_emnapi_set_immediate:Q,_emnapi_unwind:Nr,napi_clear_last_error:D,napi_set_last_error:V});function jt(e){var a=new DataView(h.buffer),t=20,r=a.getInt32(e+t,!0),i=F.pthreads[r];return i}function Ea(e){if(!d){var a=jt(e);a&&typeof a.unref=="function"&&a.unref()}}function ma(e,a,t){if(d){var r=E.postMessage;r({__emnapi__:{type:"async-send",payload:{callback:a,data:t}}})}else switch(e){case 0:Q(a,t);break;case 1:X(a,t);break}}var zt,pr=new Promise(function(e){zt=function(){pr.ready=!0,e()}});pr.ready=!1;function wa(e,a,t){pr.ready?T.get(e)(a,t):pr.then(function(){T.get(e)(a,t)})}function ba(e,a){for(var t=[],r=new DataView(h.buffer),i=function(c){var l=r.getUint32(e+c*4,!0),_=jt(l);t.push(new Promise(function(v){var A=function(S){var N=f?S:S.data,M=N.__emnapi__;M&&M.type==="async-thread-ready"&&(v(),_&&typeof _.unref=="function"&&_.unref(),f?_.off("message",A):_.removeEventListener("message",A))};f?_.on("message",A):_.addEventListener("message",A)}))},s=0;s<a;s++)i(s);Promise.all(t).then(zt)}function Sa(){if(d){var e=E.postMessage;e({__emnapi__:{type:"async-thread-ready",payload:{}}})}}var Aa=Object.freeze({__proto__:null,_emnapi_after_uvthreadpool_ready:wa,_emnapi_async_send_js:ma,_emnapi_emit_async_thread_ready:Sa,_emnapi_tell_js_uvthreadpool:ba,_emnapi_worker_unref:Ea});function La(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(!t)return r.setLastError(1);var i=Number(a);if(i<0)return r.setLastError(1);var s=h.buffer.byteLength,c=s+i;if(c=c+(65536-c%65536)%65536,h.grow(c-s+65535>>16)===-1)return r.setLastError(9);if(o.feature.supportBigInt){var l=new DataView(h.buffer);l.setBigInt64(t,BigInt(h.buffer.byteLength),!0)}else Pr(t,h.buffer.byteLength);return r.clearLastError()}var Ia=Object.freeze({__proto__:null,napi_adjust_external_memory:La}),ne={idGen:{},values:[void 0],queued:new Set,pending:[],init:function(){var e={nextId:1,list:[],generate:function(){var a;return e.list.length?a=e.list.shift():(a=e.nextId,e.nextId++),a},reuse:function(a){e.list.push(a)}};ne.idGen=e,ne.values=[void 0],ne.queued=new Set,ne.pending=[]},create:function(e,a,t,r,i,s){var c=0,l=0;if(g){var _=g.node.emitAsyncInit(a,t,-1);c=_.asyncId,l=_.triggerAsyncId}var v=ne.idGen.generate();return ne.values[v]={env:e,id:v,resource:a,asyncId:c,triggerAsyncId:l,status:0,execute:r,complete:i,data:s},v},callComplete:function(e,a){var t=e.complete,r=e.env,i=e.data,s=function(){if(t){var c=o.envStore.get(r),l=o.openScope(c);try{c.callbackIntoModule(!0,function(){T.get(t)(r,a,i)})}finally{o.closeScope(c,l)}}};g?g.node.makeCallback(e.resource,s,[],{asyncId:e.asyncId,triggerAsyncId:e.triggerAsyncId}):s()},queue:function(e){var a=ne.values[e];if(a&&a.status===0){if(a.status=1,ne.queued.size>=(Math.abs(U)||4)){ne.pending.push(e);return}ne.queued.add(e);var t=a.env,r=a.data,i=a.execute;a.status=2,o.feature.setImmediate(function(){if(T.get(i)(t,r),ne.queued.delete(e),a.status=3,o.feature.setImmediate(function(){ne.callComplete(a,0)}),ne.pending.length>0){var s=ne.pending.shift();ne.values[s].status=0,ne.queue(s)}})}},cancel:function(e){var a=ne.pending.indexOf(e);if(a!==-1){var t=ne.values[e];return t&&t.status===1?(t.status=4,ne.pending.splice(a,1),o.feature.setImmediate(function(){ne.callComplete(t,11)}),0):9}return 9},remove:function(e){var a=ne.values[e];a&&(g&&g.node.emitAsyncDestroy({asyncId:a.asyncId,triggerAsyncId:a.triggerAsyncId}),ne.values[e]=void 0,ne.idGen.reuse(e))}};function Mr(e,a,t,r){if(g){var i=o.handleStore.get(e).value,s=o.handleStore.get(a).value,c=g.node.emitAsyncInit(i,s,t),l=c.asyncId,_=c.triggerAsyncId;if(r){var v=new DataView(h.buffer);v.setFloat64(r,l,!0),v.setFloat64(r+8,_,!0)}}}function xr(e,a){g&&g.node.emitAsyncDestroy({asyncId:e,triggerAsyncId:a})}function Ta(e,a,t,r,i,s,c,l){var _=0,v;if(g){var A=o.handleStore.get(a).value,S=o.handleStore.get(t).value;i=i>>>0;for(var N=Array(i),M=new DataView(h.buffer);_<i;_++){var j=M.getUint32(r+_*4,!0);N[_]=o.handleStore.get(j).value}var $=g.node.makeCallback(A,S,N,{asyncId:s,triggerAsyncId:c});if(l){var Z=o.envStore.get(e);v=Z.ensureHandleId($),M.setUint32(l,v,!0)}}}function Ca(e,a,t){if(!g)return 9;var r;e&&(r=Object(o.handleStore.get(e).value));var i=o.handleStore.get(a).value,s=g.napi.asyncInit(r,i);if(s.status!==0)return s.status;var c=s.value;c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)||(c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var l=Number(c&BigInt(4294967295)),_=Number(c>>BigInt(32)),v=new DataView(h.buffer);return v.setInt32(t,l,!0),v.setInt32(t+4,_,!0),0}function ka(e){if(!g)return 9;var a=new DataView(h.buffer),t=a.getInt32(e,!0),r=a.getInt32(e+4,!0),i=BigInt(t>>>0)|BigInt(r)<<BigInt(32),s=g.napi.asyncDestroy(i);return s.status!==0?s.status:0}function Da(e,a,t,r){throw new Error("napi_open_callback_scope has not been implemented yet")}function Oa(e,a){throw new Error("napi_close_callback_scope has not been implemented yet")}function Ba(e,a,t,r,i,s,c){var l=0,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!g)return v.setLastError(9);if(!t||i>0&&!s)return v.setLastError(1);var A=Object(o.handleStore.get(t).value),S=o.handleStore.get(r).value;if(typeof S!="function")return v.setLastError(1);var N=new DataView(h.buffer),M=N.getInt32(a,!0),j=N.getInt32(a+4,!0),$=BigInt(M>>>0)|BigInt(j)<<BigInt(32);i=i>>>0;for(var Z=Array(i);l<i;l++){var ae=N.getUint32(s+l*4,!0);Z[l]=o.handleStore.get(ae).value}var fe=g.napi.makeCallback($,A,S,Z);if(fe.error)throw fe.error;return fe.status!==0?v.setLastError(fe.status):(c&&(_=v.ensureHandleId(fe.value),N.setUint32(c,_,!0)),v.getReturnStatus())}catch(re){return v.tryCatch.setError(re),v.setLastError(10)}}function Ua(e){var a=o.envStore.get(e);a.checkGCAccess()}var Ra=Object.freeze({__proto__:null,_emnapi_async_destroy_js:ka,_emnapi_async_init_js:Ca,_emnapi_env_check_gc_access:Ua,_emnapi_node_emit_async_destroy:xr,_emnapi_node_emit_async_init:Mr,_emnapi_node_make_callback:Ta,napi_close_callback_scope:Oa,napi_make_callback:Ba,napi_open_callback_scope:Da}),I={offset:{resource:0,async_id:8,trigger_async_id:16,queue_size:24,queue:28,thread_count:32,is_closing:36,dispatch_state:40,context:44,max_queue_size:48,ref:52,env:56,finalize_data:60,finalize_cb:64,call_js_cb:68,handles_closing:72,async_ref:76,mutex:80,cond:84,end:88},init:function(){if(typeof F<"u"){F.unusedWorkers.forEach(I.addListener),F.runningWorkers.forEach(I.addListener);var e=F.getNewWorker;F.getNewWorker=function(){var a=e.apply(this,arguments);return I.addListener(a),a}}},addListener:function(e){if(!e)return!1;if(e._emnapiTSFNListener)return!0;var a=function(r){var i=f?r:r.data,s=i.__emnapi__;if(s){var c=s.type,l=s.payload;c==="tsfn-send"&&I.dispatch(l.tsfn)}},t=function(){f?e.off("message",a):e.removeEventListener("message",a,!1),delete e._emnapiTSFNListener};return e._emnapiTSFNListener={handler:a,dispose:t},f?e.on("message",a):e.addEventListener("message",a,!1),!0},initQueue:function(e){var a=8,t=R(a);return t?(new Uint8Array(h.buffer,t,a).fill(0),I.storeSizeTypeValue(e+I.offset.queue,t,!1),!0):!1},destroyQueue:function(e){var a=I.loadSizeTypeValue(e+I.offset.queue,!1);a&&x(a)},pushQueue:function(e,a){var t=I.loadSizeTypeValue(e+I.offset.queue,!1),r=I.loadSizeTypeValue(t,!1),i=I.loadSizeTypeValue(t+4,!1),s=8,c=R(s);if(!c)throw new Error("OOM");I.storeSizeTypeValue(c,a,!1),I.storeSizeTypeValue(c+4,0,!1),r===0&&i===0?(I.storeSizeTypeValue(t,c,!1),I.storeSizeTypeValue(t+4,c,!1)):(I.storeSizeTypeValue(i+4,c,!1),I.storeSizeTypeValue(t+4,c,!1)),I.addQueueSize(e)},shiftQueue:function(e){var a=I.loadSizeTypeValue(e+I.offset.queue,!1),t=I.loadSizeTypeValue(a,!1);if(t===0)return 0;var r=t,i=I.loadSizeTypeValue(t+4,!1);I.storeSizeTypeValue(a,i,!1),i===0&&I.storeSizeTypeValue(a+4,0,!1),I.storeSizeTypeValue(r+4,0,!1);var s=I.loadSizeTypeValue(r,!1);return x(r),I.subQueueSize(e),s},push:function(e,a,t){var r=I.getMutex(e),i=I.getCond(e),s=function(){var l=I.getQueueSize(e),_=I.getMaxQueueSize(e),v=I.getIsClosing(e);return l>=_&&_>0&&!v},c=typeof window<"u"&&typeof document<"u"&&!f;return r.execute(function(){for(;s();){if(t===0)return 15;if(c)return 21;i.wait()}return I.getIsClosing(e)?I.getThreadCount(e)===0?1:(I.subThreadCount(e),16):(I.pushQueue(e,a),I.send(e),0)})},getMutex:function(e){var a=e+I.offset.mutex,t={lock:function(){var r=typeof window<"u"&&typeof document<"u"&&!f,i=new Int32Array(h.buffer,a,1);if(r)for(;;){var s=Atomics.compareExchange(i,0,0,1);if(s===0)return}else for(;;){var s=Atomics.compareExchange(i,0,0,1);if(s===0)return;Atomics.wait(i,0,1)}},unlock:function(){var r=new Int32Array(h.buffer,a,1),i=Atomics.compareExchange(r,0,1,0);if(i!==1)throw new Error("Tried to unlock while not holding the mutex");Atomics.notify(r,0,1)},execute:function(r){t.lock();try{return r()}finally{t.unlock()}}};return t},getCond:function(e){var a=e+I.offset.cond,t=I.getMutex(e),r={wait:function(){var i=new Int32Array(h.buffer,a,1),s=Atomics.load(i,0);t.unlock(),Atomics.wait(i,0,s),t.lock()},signal:function(){var i=new Int32Array(h.buffer,a,1);Atomics.add(i,0,1),Atomics.notify(i,0,1)}};return r},getQueueSize:function(e){return I.loadSizeTypeValue(e+I.offset.queue_size,!0)},addQueueSize:function(e){var a=I.offset.queue_size,t,r;t=new Uint32Array(h.buffer),r=e+a>>2,Atomics.add(t,r,1)},subQueueSize:function(e){var a=I.offset.queue_size,t,r;t=new Uint32Array(h.buffer),r=e+a>>2,Atomics.sub(t,r,1)},getThreadCount:function(e){return I.loadSizeTypeValue(e+I.offset.thread_count,!0)},addThreadCount:function(e){var a=I.offset.thread_count,t,r;t=new Uint32Array(h.buffer),r=e+a>>2,Atomics.add(t,r,1)},subThreadCount:function(e){var a=I.offset.thread_count,t,r;t=new Uint32Array(h.buffer),r=e+a>>2,Atomics.sub(t,r,1)},getIsClosing:function(e){return Atomics.load(new Int32Array(h.buffer),e+I.offset.is_closing>>2)},setIsClosing:function(e,a){Atomics.store(new Int32Array(h.buffer),e+I.offset.is_closing>>2,a)},getHandlesClosing:function(e){return Atomics.load(new Int32Array(h.buffer),e+I.offset.handles_closing>>2)},setHandlesClosing:function(e,a){Atomics.store(new Int32Array(h.buffer),e+I.offset.handles_closing>>2,a)},getDispatchState:function(e){return Atomics.load(new Uint32Array(h.buffer),e+I.offset.dispatch_state>>2)},getContext:function(e){return I.loadSizeTypeValue(e+I.offset.context,!1)},getMaxQueueSize:function(e){return I.loadSizeTypeValue(e+I.offset.max_queue_size,!0)},getEnv:function(e){return I.loadSizeTypeValue(e+I.offset.env,!1)},getCallJSCb:function(e){return I.loadSizeTypeValue(e+I.offset.call_js_cb,!1)},getRef:function(e){return I.loadSizeTypeValue(e+I.offset.ref,!1)},getResource:function(e){return I.loadSizeTypeValue(e+I.offset.resource,!1)},getFinalizeCb:function(e){return I.loadSizeTypeValue(e+I.offset.finalize_cb,!1)},getFinalizeData:function(e){return I.loadSizeTypeValue(e+I.offset.finalize_data,!1)},loadSizeTypeValue:function(e,a){var t,r;return a?(r=new Uint32Array(h.buffer),t=Atomics.load(r,e>>2),t):(r=new Int32Array(h.buffer),t=Atomics.load(r,e>>2),t)},storeSizeTypeValue:function(e,a,t){var r;if(t){r=new Uint32Array(h.buffer),Atomics.store(r,e>>2,a);return}else{r=new Int32Array(h.buffer),Atomics.store(r,e>>2,a>>>0);return}},destroy:function(e){I.destroyQueue(e);var a=I.getEnv(e),t=o.envStore.get(a),r=I.getRef(e);r&&o.refStore.get(r).dispose(),o.removeCleanupHook(t,I.cleanup,e),t.unref();var i=e+I.offset.async_ref>>2,s=new Int32Array(h.buffer);Atomics.load(s,i)&&(Atomics.store(s,i,0),o.decreaseWaitingRequestCounter());var c=I.getResource(e);if(o.refStore.get(c).dispose(),g){var l=new DataView(h.buffer),_=l.getFloat64(e+I.offset.async_id,!0),v=l.getFloat64(e+I.offset.trigger_async_id,!0);xr(_,v)}x(e)},emptyQueueAndDelete:function(e){for(var a=I.getCallJSCb(e),t=I.getContext(e),r;I.getQueueSize(e)>0;)r=I.shiftQueue(e),a&&T.get(a)(0,0,t,r);I.destroy(e)},finalize:function(e){var a=I.getEnv(e),t=o.envStore.get(a);o.openScope(t);var r=I.getFinalizeCb(e),i=I.getFinalizeData(e),s=I.getContext(e),c=function(){t.callFinalizerInternal(0,r,i,s)};try{if(r)if(g){var l=I.getResource(e),_=o.refStore.get(l).get(),v=o.handleStore.get(_).value,A=new DataView(h.buffer),S=A.getFloat64(e+I.offset.async_id,!0),N=A.getFloat64(e+I.offset.trigger_async_id,!0);g.node.makeCallback(v,c,[],{asyncId:S,triggerAsyncId:N})}else c();I.emptyQueueAndDelete(e)}finally{o.closeScope(t)}},cleanup:function(e){I.closeHandlesAndMaybeDelete(e,1)},closeHandlesAndMaybeDelete:function(e,a){var t=I.getEnv(e),r=o.envStore.get(t);o.openScope(r);try{if(a&&I.getMutex(e).execute(function(){I.setIsClosing(e,1),I.getMaxQueueSize(e)>0&&I.getCond(e).signal()}),I.getHandlesClosing(e))return;I.setHandlesClosing(e,1),o.feature.setImmediate(function(){I.finalize(e)})}finally{o.closeScope(r)}},dispatchOne:function(e){var a=0,t=!1,r=!1,i=I.getMutex(e),s=I.getCond(e);if(i.execute(function(){if(I.getIsClosing(e))I.closeHandlesAndMaybeDelete(e,0);else{var M=I.getQueueSize(e);if(M>0){a=I.shiftQueue(e),t=!0;var j=I.getMaxQueueSize(e);M===j&&j>0&&s.signal(),M--}M===0?I.getThreadCount(e)===0&&(I.setIsClosing(e,1),I.getMaxQueueSize(e)>0&&s.signal(),I.closeHandlesAndMaybeDelete(e,0)):r=!0}}),t){var c=I.getEnv(e),l=o.envStore.get(c);o.openScope(l);var _=function(){l.callbackIntoModule(!1,function(){var M=I.getCallJSCb(e),j=I.getRef(e),$=j?o.refStore.get(j).get():0;if(M){var Z=I.getContext(e);T.get(M)(c,$,Z,a)}else{var ae=$?o.handleStore.get($).value:null;typeof ae=="function"&&ae()}})};try{if(g){var v=I.getResource(e),A=o.refStore.get(v).get(),S=o.handleStore.get(A).value,N=new DataView(h.buffer);g.node.makeCallback(S,_,[],{asyncId:N.getFloat64(e+I.offset.async_id,!0),triggerAsyncId:N.getFloat64(e+I.offset.trigger_async_id,!0)})}else _()}finally{o.closeScope(l)}}return r},dispatch:function(e){for(var a=!0,t=1e3,r=new Uint32Array(h.buffer),i=e+I.offset.dispatch_state>>2;a&&--t!==0;)Atomics.store(r,i,1),a=I.dispatchOne(e),Atomics.exchange(r,i,0)!==1&&(a=!0);a&&I.send(e)},send:function(e){var a=Atomics.or(new Uint32Array(h.buffer),e+I.offset.dispatch_state>>2,2);(a&1)!==1&&(typeof d<"u"&&d?postMessage({__emnapi__:{type:"tsfn-send",payload:{tsfn:e}}}):o.feature.setImmediate(function(){I.dispatch(e)}))}};function Fa(e,a,t,r,i,s,c,l,_,v,A){if(!e)return 1;var S=o.envStore.get(e);if(S.checkGCAccess(),!r||(i=i>>>0,s=s>>>0,s===0)||!A)return S.setLastError(1);var N=0;if(a){var M=o.handleStore.get(a).value;if(typeof M!="function")return S.setLastError(1);N=o.createReference(S,a,1,1).id}else if(!v)return S.setLastError(1);var j;if(t){if(j=o.handleStore.get(t).value,j==null)return S.setLastError(2);j=Object(j)}else j={};var $=S.ensureHandleId(j),Z=o.handleStore.get(r).value;if(typeof Z=="symbol")return S.setLastError(3);Z=String(Z);var ae=S.ensureHandleId(Z),fe=I.offset.end,re=R(fe);if(!re)return S.setLastError(9);new Uint8Array(h.buffer).subarray(re,re+fe).fill(0);var de=o.createReference(S,$,1,1),Ee=de.id,_e=new DataView(h.buffer);return _e.setUint32(re,Ee,!0),I.initQueue(re)?(Mr($,ae,-1,re+I.offset.async_id),_e.setUint32(re+I.offset.thread_count,s,!0),_e.setUint32(re+I.offset.context,_,!0),_e.setUint32(re+I.offset.max_queue_size,i,!0),_e.setUint32(re+I.offset.ref,N,!0),_e.setUint32(re+I.offset.env,e,!0),_e.setUint32(re+I.offset.finalize_data,c,!0),_e.setUint32(re+I.offset.finalize_cb,l,!0),_e.setUint32(re+I.offset.call_js_cb,v,!0),o.addCleanupHook(S,I.cleanup,re),S.ref(),o.increaseWaitingRequestCounter(),_e.setInt32(re+I.offset.async_ref,1,!0),_e.setUint32(A,re,!0),S.clearLastError()):(x(re),de.dispose(),S.setLastError(9))}function Na(e,a){if(!e||!a)return z(),1;var t=I.getContext(e),r=new DataView(h.buffer);return r.setUint32(a,t,!0),0}function Pa(e,a,t){return e?I.push(e,a,t):(z(),1)}function Ma(e){if(!e)return z(),1;var a=I.getMutex(e);return a.execute(function(){return I.getIsClosing(e)?16:(I.addThreadCount(e),0)})}function xa(e,a){if(!e)return z(),1;var t=I.getMutex(e),r=I.getCond(e);return t.execute(function(){if(I.getThreadCount(e)===0)return 1;if(I.subThreadCount(e),I.getThreadCount(e)===0||a===1){var i=I.getIsClosing(e);if(!i){var s=a===1?1:0;I.setIsClosing(e,s),s&&I.getMaxQueueSize(e)>0&&r.signal(),I.send(e)}}return 0})}function Va(e,a){if(!a)return z(),1;var t=a+I.offset.async_ref>>2,r=new Int32Array(h.buffer);return Atomics.load(r,t)&&(Atomics.store(r,t,0),o.decreaseWaitingRequestCounter()),0}function Wa(e,a){if(!a)return z(),1;var t=a+I.offset.async_ref>>2,r=new Int32Array(h.buffer);return Atomics.load(r,t)||(Atomics.store(r,t,1),o.increaseWaitingRequestCounter()),0}var G={unusedWorkers:[],runningWorkers:[],workQueue:[],workerReady:null,offset:{resource:0,async_id:8,trigger_async_id:16,env:24,data:28,execute:32,complete:36,end:40},init:function(){G.unusedWorkers=[],G.runningWorkers=[],G.workQueue=[],G.workerReady=null},addListener:function(e){if(!e)return!1;if(e._emnapiAWMTListener)return!0;var a=function(r){var i=f?r:r.data,s=i.__emnapi__;if(s){var c=s.type,l=s.payload;c==="async-work-complete"?(o.decreaseWaitingRequestCounter(),G.runningWorkers.splice(G.runningWorkers.indexOf(e),1),G.unusedWorkers.push(e),G.checkIdleWorker(),G.callComplete(l.work,0)):c==="async-work-queue"?G.scheduleWork(l.work):c==="async-work-cancel"&&G.cancelWork(l.work)}},t=function(){f?e.off("message",a):e.removeEventListener("message",a,!1),delete e._emnapiAWMTListener};return e._emnapiAWMTListener={handler:a,dispose:t},f?e.on("message",a):e.addEventListener("message",a,!1),!0},initWorkers:function(e){if(d)return G.workerReady||(G.workerReady=Promise.resolve());if(G.workerReady)return G.workerReady;if(typeof y!="function")throw new TypeError("`options.onCreateWorker` is not a function");var a=[],t=[];if(!("emnapi_async_worker_create"in m.exports))throw new TypeError("`emnapi_async_worker_create` is not exported, please try to add `--export=emnapi_async_worker_create` to linker flags");for(var r=0;r<e;++r)t.push(m.exports.emnapi_async_worker_create());try{for(var i=function(c){var l=y({type:"async-work",name:"emnapi-async-worker"}),_=F.loadWasmModuleToWorker(l);G.addListener(l),a.push(_.then(function(){typeof l.unref=="function"&&l.unref()})),G.unusedWorkers.push(l);var v=t[c];l.threadBlockBase=v,l.postMessage({__emnapi__:{type:"async-worker-init",payload:{arg:v}}})},r=0;r<e;++r)i(r)}catch(c){for(var r=0;r<e;++r){var s=t[r];x(s)}throw c}return G.workerReady=Promise.all(a),G.workerReady},checkIdleWorker:function(){if(G.unusedWorkers.length>0&&G.workQueue.length>0){var e=G.unusedWorkers.shift(),a=G.workQueue.shift();G.runningWorkers.push(e),e.postMessage({__emnapi__:{type:"async-work-execute",payload:{work:a}}})}},getResource:function(e){return I.loadSizeTypeValue(e+G.offset.resource,!1)},getExecute:function(e){return I.loadSizeTypeValue(e+G.offset.execute,!1)},getComplete:function(e){return I.loadSizeTypeValue(e+G.offset.complete,!1)},getEnv:function(e){return I.loadSizeTypeValue(e+G.offset.env,!1)},getData:function(e){return I.loadSizeTypeValue(e+G.offset.data,!1)},scheduleWork:function(e){var a;if(d){var t=E.postMessage;t({__emnapi__:{type:"async-work-queue",payload:{work:e}}});return}if(o.increaseWaitingRequestCounter(),G.workQueue.push(e),!((a=G.workerReady)===null||a===void 0)&&a.ready)G.checkIdleWorker();else{var r=function(i){throw o.decreaseWaitingRequestCounter(),i};try{G.initWorkers(B()).then(function(){G.workerReady.ready=!0,G.checkIdleWorker()},r)}catch(i){r(i)}}},cancelWork:function(e){if(d){var a=E.postMessage;return a({__emnapi__:{type:"async-work-cancel",payload:{work:e}}}),0}var t=G.workQueue.indexOf(e);return t!==-1?(G.workQueue.splice(t,1),o.feature.setImmediate(function(){o.decreaseWaitingRequestCounter(),G.checkIdleWorker(),G.callComplete(e,11)}),0):9},callComplete:function(e,a){var t=G.getComplete(e),r=G.getEnv(e),i=G.getData(e),s=o.envStore.get(r),c=o.openScope(s),l=function(){t&&s.callbackIntoModule(!0,function(){T.get(t)(r,a,i)})};try{if(g){var _=G.getResource(e),v=o.refStore.get(_).get(),A=o.handleStore.get(v).value,S=new DataView(h.buffer),N=S.getFloat64(e+G.offset.async_id,!0),M=S.getFloat64(e+G.offset.trigger_async_id,!0);g.node.makeCallback(A,l,[],{asyncId:N,triggerAsyncId:M})}else l()}finally{o.closeScope(s,c)}}},ja=O?function(e,a,t,r,i,s,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!r||!c)return l.setLastError(1);var _;if(a?_=Object(o.handleStore.get(a).value):_={},!t)return l.setLastError(1);var v=String(o.handleStore.get(t).value),A=ne.create(e,_,v,r,i,s),S=new DataView(h.buffer);return S.setUint32(c,A,!0),l.clearLastError()}:function(e,a,t,r,i,s,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!r||!c)return l.setLastError(1);var _;if(a?_=Object(o.handleStore.get(a).value):_={},!t)return l.setLastError(1);var v=G.offset.end,A=R(v);if(!A)return l.setLastError(9);new Uint8Array(h.buffer).subarray(A,A+v).fill(0);var S=l.ensureHandleId(_),N=o.createReference(l,S,1,1),M=N.id,j=new DataView(h.buffer);return j.setUint32(A,M,!0),Mr(S,t,-1,A+G.offset.async_id),j.setUint32(A+G.offset.env,e,!0),j.setUint32(A+G.offset.execute,r,!0),j.setUint32(A+G.offset.complete,i,!0),j.setUint32(A+G.offset.data,s,!0),j.setUint32(c,A,!0),l.clearLastError()},za=O?function(e,a){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),a?(ne.remove(a),t.clearLastError()):t.setLastError(1)}:function(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=G.getResource(a);if(o.refStore.get(r).dispose(),g){var i=new DataView(h.buffer),s=i.getFloat64(a+G.offset.async_id,!0),c=i.getFloat64(a+G.offset.trigger_async_id,!0);xr(s,c)}return x(a),t.clearLastError()},Ha=O?function(e,a){if(!e)return 1;var t=o.envStore.get(e);return a?(ne.queue(a),t.clearLastError()):t.setLastError(1)}:function(e,a){if(!e)return 1;var t=o.envStore.get(e);return a?(G.scheduleWork(a),t.clearLastError()):t.setLastError(1)},Ga=O?function(e,a){if(!e)return 1;var t=o.envStore.get(e);if(!a)return t.setLastError(1);var r=ne.cancel(a);return r===0?t.clearLastError():t.setLastError(r)}:function(e,a){if(!e)return 1;var t=o.envStore.get(e);if(!a)return t.setLastError(1);var r=G.cancelWork(a);return r===0?t.clearLastError():t.setLastError(r)};function qa(e){if(E.childThread){if(typeof m.exports.emnapi_async_worker_init!="function")throw new TypeError("`emnapi_async_worker_init` is not exported, please try to add `--export=emnapi_async_worker_init` to linker flags");m.exports.emnapi_async_worker_init(e)}else throw new Error("startThread is only available in child threads")}function Ja(e){if(d){var a=G.getExecute(e),t=G.getEnv(e),r=G.getData(e);T.get(a)(t,r);var i=E.postMessage;i({__emnapi__:{type:"async-work-complete",payload:{work:e}}})}}E.initWorker=qa,E.executeAsyncWork=Ja;var $a=Object.freeze({__proto__:null,napi_cancel_async_work:Ga,napi_create_async_work:ja,napi_delete_async_work:za,napi_queue_async_work:Ha}),Y={registry:typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){x(e)}):void 0,table:new WeakMap,wasmMemoryViewTable:new WeakMap,init:function(){Y.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(e){x(e)}):void 0,Y.table=new WeakMap,Y.wasmMemoryViewTable=new WeakMap},isDetachedArrayBuffer:function(e){if(e.byteLength===0)try{new Uint8Array(e)}catch{return!0}return!1},getArrayBufferPointer:function(e,a){var t,r={address:0,ownership:0,runtimeAllocated:0};if(e===h.buffer)return r;var i=Y.isDetachedArrayBuffer(e);if(Y.table.has(e)){var s=Y.table.get(e);return i?(s.address=0,s):(a&&s.ownership===0&&s.runtimeAllocated===1&&new Uint8Array(h.buffer).set(new Uint8Array(e),s.address),s)}if(i||e.byteLength===0||!a)return r;var c=R(e.byteLength);if(!c)throw new Error("Out of memory");return new Uint8Array(h.buffer).set(new Uint8Array(e),c),r.address=c,r.ownership=Y.registry?0:1,r.runtimeAllocated=1,Y.table.set(e,r),(t=Y.registry)===null||t===void 0||t.register(e,c),r},getOrUpdateMemoryView:function(e){if(e.buffer===h.buffer)return Y.wasmMemoryViewTable.has(e)||Y.wasmMemoryViewTable.set(e,{Ctor:e.constructor,address:e.byteOffset,length:e instanceof DataView?e.byteLength:e.length,ownership:1,runtimeAllocated:0}),e;var a=Y.isDetachedArrayBuffer(e.buffer)||typeof SharedArrayBuffer=="function"&&e.buffer instanceof SharedArrayBuffer;if(a&&Y.wasmMemoryViewTable.has(e)){var t=Y.wasmMemoryViewTable.get(e),r=t.Ctor,i=void 0,s=o.feature.Buffer;return typeof s=="function"&&r===s?i=s.from(h.buffer,t.address,t.length):i=new r(h.buffer,t.address,t.length),Y.wasmMemoryViewTable.set(i,t),i}return e},getViewPointer:function(e,a){if(e=Y.getOrUpdateMemoryView(e),e.buffer===h.buffer){if(Y.wasmMemoryViewTable.has(e)){var t=Y.wasmMemoryViewTable.get(e),r=t.address,i=t.ownership,s=t.runtimeAllocated;return{address:r,ownership:i,runtimeAllocated:s,view:e}}return{address:e.byteOffset,ownership:1,runtimeAllocated:0,view:e}}var c=Y.getArrayBufferPointer(e.buffer,a),l=c.address,_=c.ownership,v=c.runtimeAllocated;return{address:l===0?0:l+e.byteOffset,ownership:_,runtimeAllocated:v,view:e}}},ee={utf8Decoder:void 0,utf16Decoder:void 0,init:function(){var e={decode:function(i){for(var s=0,c=Math.min(4096,i.length+1),l=new Uint16Array(c),_=[],v=0;;){var A=s<i.length;if(!A||v>=c-1){var S=l.subarray(0,v),N=S;if(_.push(String.fromCharCode.apply(null,N)),!A)return _.join("");i=i.subarray(s),s=0,v=0}var M=i[s++];if((M&128)===0)l[v++]=M;else if((M&224)===192){var j=i[s++]&63;l[v++]=(M&31)<<6|j}else if((M&240)===224){var j=i[s++]&63,$=i[s++]&63;l[v++]=(M&31)<<12|j<<6|$}else if((M&248)===240){var j=i[s++]&63,$=i[s++]&63,Z=i[s++]&63,ae=(M&7)<<18|j<<12|$<<6|Z;ae>65535&&(ae-=65536,l[v++]=ae>>>10&1023|55296,ae=56320|ae&1023),l[v++]=ae}}}},a;a=typeof TextDecoder=="function"?new TextDecoder:e,ee.utf8Decoder=a;var t={decode:function(i){var s=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2);if(s.length<=4096)return String.fromCharCode.apply(null,s);for(var c=[],l=0,_=0;l<s.length;l+=_)_=Math.min(4096,s.length-l),c.push(String.fromCharCode.apply(null,s.subarray(l,l+_)));return c.join("")}},r;r=typeof TextDecoder=="function"?new TextDecoder("utf-16le"):t,ee.utf16Decoder=r},lengthBytesUTF8:function(e){for(var a,t=0,r=0;r<e.length;++r)a=e.charCodeAt(r),a<=127?t++:a<=2047?t+=2:a>=55296&&a<=57343?(t+=4,++r):t+=3;return t},UTF8ToString:function(e,a){if(!e||!a)return"";e>>>=0;var t=new Uint8Array(h.buffer),r=e;if(a===-1)for(;t[r];)++r;else r=e+(a>>>0);if(a=r-e,a<=16){for(var i=e,s="";i<r;){var c=t[i++];if(!(c&128)){s+=String.fromCharCode(c);continue}var l=t[i++]&63;if((c&224)===192){s+=String.fromCharCode((c&31)<<6|l);continue}var _=t[i++]&63;if((c&240)===224?c=(c&15)<<12|l<<6|_:c=(c&7)<<18|l<<12|_<<6|t[i++]&63,c<65536)s+=String.fromCharCode(c);else{var v=c-65536;s+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return s}return ee.utf8Decoder.decode(typeof SharedArrayBuffer=="function"&&t.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(t.buffer)==="[object SharedArrayBuffer]"?t.slice(e,r):t.subarray(e,r))},stringToUTF8:function(e,a,t){var r=new Uint8Array(h.buffer),i=a;if(i>>>=0,!(t>0))return 0;for(var s=i,c=i+t-1,l=0;l<e.length;++l){var _=e.charCodeAt(l);if(_>=55296&&_<=57343){var v=e.charCodeAt(++l);_=65536+((_&1023)<<10)|v&1023}if(_<=127){if(i>=c)break;r[i++]=_}else if(_<=2047){if(i+1>=c)break;r[i++]=192|_>>6,r[i++]=128|_&63}else if(_<=65535){if(i+2>=c)break;r[i++]=224|_>>12,r[i++]=128|_>>6&63,r[i++]=128|_&63}else{if(i+3>=c)break;r[i++]=240|_>>18,r[i++]=128|_>>12&63,r[i++]=128|_>>6&63,r[i++]=128|_&63}}return r[i]=0,i-s},UTF16ToString:function(e,a){if(!e||!a)return"";e>>>=0;var t=e;if(a===-1){for(var r=t>>1,i=new Uint16Array(h.buffer);i[r];)++r;t=r<<1}else t=e+(a>>>0)*2;if(a=t-e,a<=32)return String.fromCharCode.apply(null,new Uint16Array(h.buffer,e,a/2));var s=new Uint8Array(h.buffer);return ee.utf16Decoder.decode(typeof SharedArrayBuffer=="function"&&s.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(s.buffer)==="[object SharedArrayBuffer]"?s.slice(e,t):s.subarray(e,t))},stringToUTF16:function(e,a,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var r=a,i=t<e.length*2?t/2:e.length,s=new DataView(h.buffer),c=0;c<i;++c){var l=e.charCodeAt(c);s.setInt16(a,l,!0),a+=2}return s.setInt16(a,0,!0),a-r},newString:function(e,a,t,r,i){if(!e)return 1;var s=o.envStore.get(e);s.checkGCAccess();var c=t===-1,l=t>>>0;if(t!==0&&!a||!r||!(c||l<=2147483647))return s.setLastError(1);var _=i(a,c,l),v=o.addToCurrentScope(_).id,A=new DataView(h.buffer);return A.setUint32(r,v,!0),s.clearLastError()},newExternalString:function(e,a,t,r,i,s,c,l,_){if(!e)return 1;var v=o.envStore.get(e);v.checkGCAccess();var A=t===-1,S=t>>>0;if(t!==0&&!a||!s||!(A||S<=2147483647))return v.setLastError(1);var N=l(e,a,t,s);if(N===0){if(c){var M=new DataView(h.buffer);M.setInt8(c,1,!0)}r&&v.callFinalizer(r,a,i)}return N}};function Ka(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(!i.isArray())return r.setLastError(8);var s=i.value.length>>>0,c=new DataView(h.buffer);return c.setUint32(t,s,!0),r.getReturnStatus()}catch(l){return r.tryCatch.setError(l),r.setLastError(10)}}function Qa(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!a)return i.setLastError(1);var s=o.handleStore.get(a);if(!s.isArrayBuffer())return i.setLastError(1);var c=new DataView(h.buffer);if(t){var l=Y.getArrayBufferPointer(s.value,!0).address;c.setUint32(t,l,!0)}return r&&c.setUint32(r,s.value.byteLength,!0),i.clearLastError()}function Ya(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(i.value==null)throw new TypeError("Cannot convert undefined or null to object");var s=void 0;try{s=i.isObject()||i.isFunction()?i.value:Object(i.value)}catch{return r.setLastError(2)}var c=r.ensureHandleId(Object.getPrototypeOf(s)),l=new DataView(h.buffer);return l.setUint32(t,c,!0),r.getReturnStatus()}catch(_){return r.tryCatch.setError(_),r.setLastError(10)}}function Ht(e,a,t,r,i,s,c){if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!a)return l.setLastError(1);var _=o.handleStore.get(a);if(!_.isTypedArray())return l.setLastError(1);var v=_.value,A=new DataView(h.buffer);if(t){var S=void 0;if(v instanceof Int8Array)S=0;else if(v instanceof Uint8Array)S=1;else if(v instanceof Uint8ClampedArray)S=2;else if(v instanceof Int16Array)S=3;else if(v instanceof Uint16Array)S=4;else if(v instanceof Int32Array)S=5;else if(v instanceof Uint32Array)S=6;else if(v instanceof Float32Array)S=7;else if(v instanceof Float64Array)S=8;else if(v instanceof BigInt64Array)S=9;else if(v instanceof BigUint64Array)S=10;else return l.setLastError(9);A.setInt32(t,S,!0)}r&&A.setUint32(r,v.length,!0);var N;if(i||s){if(N=v.buffer,i){var M=Y.getViewPointer(v,!0).address;A.setUint32(i,M,!0)}if(s){var j=l.ensureHandleId(N);A.setUint32(s,j,!0)}}return c&&A.setUint32(c,v.byteOffset,!0),l.clearLastError()}function Xa(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!a)return i.setLastError(1);var s=o.handleStore.get(a);return s.isBuffer(o.feature.Buffer)?s.isDataView()?Gt(e,a,r,t,0,0):Ht(e,a,0,r,t,0,0):i.setLastError(1)}function Gt(e,a,t,r,i,s){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!a)return c.setLastError(1);var l=o.handleStore.get(a);if(!l.isDataView())return c.setLastError(1);var _=l.value,v=new DataView(h.buffer);t&&v.setUint32(t,_.byteLength,!0);var A;if(r||i){if(A=_.buffer,r){var S=Y.getViewPointer(_,!0).address;v.setUint32(r,S,!0)}if(i){var N=c.ensureHandleId(A);v.setUint32(i,N,!0)}}return s&&v.setUint32(s,_.byteOffset,!0),c.clearLastError()}function Za(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!a||!t)return i.setLastError(1);var s=o.handleStore.get(a);if(!s.isDate())return i.setLastError(1);r=s.value.valueOf();var c=new DataView(h.buffer);return c.setFloat64(t,r,!0),i.getReturnStatus()}catch(l){return i.tryCatch.setError(l),i.setLastError(10)}}function es(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(typeof i.value!="boolean")return r.setLastError(7);var s=i.value?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function rs(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(typeof i.value!="number")return r.setLastError(6);var s=i.value,c=new DataView(h.buffer);return c.setFloat64(t,s,!0),r.clearLastError()}function ts(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!o.feature.supportBigInt)return i.setLastError(9);if(!a||!t||!r)return i.setLastError(1);var s=o.handleStore.get(a),c=s.value;if(typeof c!="bigint")return i.setLastError(6);var l=new DataView(h.buffer);c>=BigInt(-1)*(BigInt(1)<<BigInt(63))&&c<BigInt(1)<<BigInt(63)?l.setInt8(r,1,!0):(l.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1),c>=BigInt(1)<<BigInt(63)&&(c=c-(BigInt(1)<<BigInt(64))));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return l.setInt32(t,_,!0),l.setInt32(t+4,v,!0),i.clearLastError()}function ns(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!o.feature.supportBigInt)return i.setLastError(9);if(!a||!t||!r)return i.setLastError(1);var s=o.handleStore.get(a),c=s.value;if(typeof c!="bigint")return i.setLastError(6);var l=new DataView(h.buffer);c>=BigInt(0)&&c<BigInt(1)<<BigInt(64)?l.setInt8(r,1,!0):(l.setInt8(r,0,!0),c=c&(BigInt(1)<<BigInt(64))-BigInt(1));var _=Number(c&BigInt(4294967295)),v=Number(c>>BigInt(32));return l.setUint32(t,_,!0),l.setUint32(t+4,v,!0),i.clearLastError()}function is(e,a,t,r,i){if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!o.feature.supportBigInt)return s.setLastError(9);if(!a||!r)return s.setLastError(1);var c=o.handleStore.get(a);if(!c.isBigInt())return s.setLastError(17);for(var l=c.value<BigInt(0),_=new DataView(h.buffer),v=_.getUint32(r,!0),A=0,S=l?c.value*BigInt(-1):c.value;S!==BigInt(0);)A++,S=S>>BigInt(64);if(S=l?c.value*BigInt(-1):c.value,!t&&!i)v=A,_.setUint32(r,v,!0);else{if(!t||!i)return s.setLastError(1);for(var N=[];S!==BigInt(0);){var M=S&(BigInt(1)<<BigInt(64))-BigInt(1);N.push(M),S=S>>BigInt(64)}for(var j=Math.min(v,N.length),$=0;$<j;$++){var Z=Number(N[$]&BigInt(4294967295)),ae=Number(N[$]>>BigInt(32));_.setUint32(i+$*8,Z,!0),_.setUint32(i+($*8+4),ae,!0)}_.setInt32(t,l?1:0,!0),_.setUint32(r,j,!0)}return s.clearLastError()}function as(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(!i.isExternal())return r.setLastError(1);var s=i.data(),c=new DataView(h.buffer);return c.setUint32(t,s,!0),r.clearLastError()}function ss(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(typeof i.value!="number")return r.setLastError(6);var s=new Int32Array([i.value])[0],c=new DataView(h.buffer);return c.setInt32(t,s,!0),r.clearLastError()}function os(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(typeof i.value!="number")return r.setLastError(6);var s=i.value,c=new DataView(h.buffer);return s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY||isNaN(s)?(c.setInt32(t,0,!0),c.setInt32(t+4,0,!0)):s<-9223372036854776e3?(c.setInt32(t,0,!0),c.setInt32(t+4,2147483648,!0)):s>=9223372036854776e3?(c.setUint32(t,4294967295,!0),c.setUint32(t+4,2147483647,!0)):Pr(t,Math.trunc(s)),r.clearLastError()}function us(e,a,t,r,i){if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!a)return s.setLastError(1);r=r>>>0;var c=o.handleStore.get(a);if(typeof c.value!="string")return s.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){for(var _=0,v=void 0,A=0;A<r-1;++A)v=c.value.charCodeAt(A)&255,l.setUint8(t+A,v,!0),_++;l.setUint8(t+_,0,!0),i&&l.setUint32(i,_,!0)}else i&&l.setUint32(i,0,!0);else{if(!i)return s.setLastError(1);l.setUint32(i,c.value.length,!0)}return s.clearLastError()}function cs(e,a,t,r,i){if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!a)return s.setLastError(1);r=r>>>0;var c=o.handleStore.get(a);if(typeof c.value!="string")return s.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){var v=ee.stringToUTF8(c.value,t,r);i&&l.setUint32(i,v,!0)}else i&&l.setUint32(i,0,!0);else{if(!i)return s.setLastError(1);var _=ee.lengthBytesUTF8(c.value);l.setUint32(i,_,!0)}return s.clearLastError()}function fs(e,a,t,r,i){if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!a)return s.setLastError(1);r=r>>>0;var c=o.handleStore.get(a);if(typeof c.value!="string")return s.setLastError(3);var l=new DataView(h.buffer);if(t)if(r!==0){var _=ee.stringToUTF16(c.value,t,r*2);i&&l.setUint32(i,_/2,!0)}else i&&l.setUint32(i,0,!0);else{if(!i)return s.setLastError(1);l.setUint32(i,c.value.length,!0)}return s.clearLastError()}function ls(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a);if(typeof i.value!="number")return r.setLastError(6);var s=new Uint32Array([i.value])[0],c=new DataView(h.buffer);return c.setUint32(t,s,!0),r.clearLastError()}var ds=Object.freeze({__proto__:null,napi_get_array_length:Ka,napi_get_arraybuffer_info:Qa,napi_get_buffer_info:Xa,napi_get_dataview_info:Gt,napi_get_date_value:Za,napi_get_prototype:Ya,napi_get_typedarray_info:Ht,napi_get_value_bigint_int64:ts,napi_get_value_bigint_uint64:ns,napi_get_value_bigint_words:is,napi_get_value_bool:es,napi_get_value_double:rs,napi_get_value_external:as,napi_get_value_int32:ss,napi_get_value_int64:os,napi_get_value_string_latin1:us,napi_get_value_string_utf16:fs,napi_get_value_string_utf8:cs,napi_get_value_uint32:ls});function ps(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var i=o.addToCurrentScope(a).id,s=new DataView(h.buffer);return s.setUint32(t,i,!0),r.clearLastError()}function hs(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var i=o.addToCurrentScope(a>>>0).id,s=new DataView(h.buffer);return s.setUint32(t,i,!0),r.clearLastError()}function _s(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);i.checkGCAccess();var s;if(!t)return i.setLastError(1);s=Number(a);var c=o.addToCurrentScope(s).id,l=new DataView(h.buffer);return l.setUint32(t,c,!0),i.clearLastError()}function vs(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var i=o.addToCurrentScope(a).id,s=new DataView(h.buffer);return s.setUint32(t,i,!0),r.clearLastError()}function Vr(e,a,t,r){return ee.newString(e,a,t,r,function(i,s,c){var l="",_=0,v=new DataView(h.buffer);if(s)for(;;){var A=v.getUint8(i,!0);if(!A)break;l+=String.fromCharCode(A),i++}else for(;_<c;){var A=v.getUint8(i,!0);if(!A)break;l+=String.fromCharCode(A),_++,i++}return l})}function Wr(e,a,t,r){return ee.newString(e,a,t,r,function(i){return ee.UTF16ToString(i,t)})}function qt(e,a,t,r){return ee.newString(e,a,t,r,function(i){return ee.UTF8ToString(i,t)})}function gs(e,a,t,r,i,s,c){return ee.newExternalString(e,a,t,r,i,s,c,Vr,void 0)}function ys(e,a,t,r,i,s,c){return ee.newExternalString(e,a,t,r,i,s,c,Wr,void 0)}function Es(e,a,t,r){return Vr(e,a,t,r)}function ms(e,a,t,r){return qt(e,a,t,r)}function ws(e,a,t,r){return Wr(e,a,t,r)}function bs(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!o.feature.supportBigInt)return i.setLastError(9);var s;if(!t)return i.setLastError(1);s=a;var c=o.addToCurrentScope(s).id,l=new DataView(h.buffer);return l.setUint32(t,c,!0),i.clearLastError()}function Ss(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!o.feature.supportBigInt)return i.setLastError(9);var s;if(!t)return i.setLastError(1);s=a&(BigInt(1)<<BigInt(64))-BigInt(1);var c=o.addToCurrentScope(s).id,l=new DataView(h.buffer);return l.setUint32(t,c,!0),i.clearLastError()}function As(e,a,t,r,i){var s,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!o.feature.supportBigInt)return l.setLastError(9);if(!i||(t=t>>>0,t>2147483647))return l.setLastError(1);if(t>16384)throw new RangeError("Maximum BigInt size exceeded");var _=BigInt(0),v=new DataView(h.buffer);for(c=0;c<t;c++){var A=v.getUint32(r+c*8,!0),S=v.getUint32(r+(c*8+4),!0),N=BigInt(A)|BigInt(S)<<BigInt(32);_+=N<<BigInt(64*c)}return _*=BigInt(a)%BigInt(2)===BigInt(0)?BigInt(1):BigInt(-1),s=o.addToCurrentScope(_).id,v.setUint32(i,s,!0),l.getReturnStatus()}catch(M){return l.tryCatch.setError(M),l.setLastError(10)}}var Ls=Object.freeze({__proto__:null,napi_create_bigint_int64:bs,napi_create_bigint_uint64:Ss,napi_create_bigint_words:As,napi_create_double:vs,napi_create_int32:ps,napi_create_int64:_s,napi_create_string_latin1:Vr,napi_create_string_utf16:Wr,napi_create_string_utf8:qt,napi_create_uint32:hs,node_api_create_external_string_latin1:gs,node_api_create_external_string_utf16:ys,node_api_create_property_key_latin1:Es,node_api_create_property_key_utf16:ws,node_api_create_property_key_utf8:ms});function Ke(e,a,t,r,i){var s=!a||!t?"":ee.UTF8ToString(a,t),c,l=T.get(r),_=function(S){return l(S.id,S.ctx.scopeStore.currentScope.id)},v=function(S,N){return function(){var M=S.ctx.openScope(S),j=M.callbackInfo;j.data=i,j.args=arguments,j.thiz=this,j.fn=c;try{var $=S.callIntoModule(N);return $?S.ctx.handleStore.get($).value:void 0}finally{j.data=0,j.args=void 0,j.thiz=void 0,j.fn=void 0,S.ctx.closeScope(S,M)}}};if(s==="")return c=v(e,_),{status:0,f:c};if(!/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(s))return{status:1,f:void 0};if(o.feature.supportNewFunction){var A=v(e,_);try{c=new Function("_","return function "+s+'(){"use strict";return _.apply(this,arguments);};')(A)}catch{c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:s})}}else c=v(e,_),o.feature.canSetFunctionName&&Object.defineProperty(c,"name",{value:s});return{status:0,f:c}}function jr(e,a,t,r,i,s,c,l,_){if(i||s){var v=void 0,A=void 0;i&&(v=Ke(e,0,0,i,_).f),s&&(A=Ke(e,0,0,s,_).f);var S={configurable:(l&4)!==0,enumerable:(l&2)!==0,get:v,set:A};Object.defineProperty(a,t,S)}else if(r){var N=Ke(e,0,0,r,_).f,S={configurable:(l&4)!==0,enumerable:(l&2)!==0,writable:(l&1)!==0,value:N};Object.defineProperty(a,t,S)}else{var S={configurable:(l&4)!==0,enumerable:(l&2)!==0,writable:(l&1)!==0,value:o.handleStore.get(c).value};Object.defineProperty(a,t,S)}}function Jt(e){var a=o.handleStore.get(e);return a.isObject()||a.isFunction()?(typeof Y<"u"&&ArrayBuffer.isView(a.value)&&Y.wasmMemoryViewTable.has(a.value)&&(a=o.addToCurrentScope(Y.wasmMemoryViewTable.get(a.value))),{status:0,handle:a}):{status:1}}function Is(e,a,t,r,i,s){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!o.feature.supportFinalizer){if(r)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "finalize_cb" must be 0(NULL)');if(s)throw o.createNotSupportWeakRefError("napi_wrap",'Parameter "result" must be 0(NULL)')}if(!a)return l.setLastError(1);var _=Jt(a);if(_.status!==0)return l.setLastError(_.status);var v=_.handle;if(l.getObjectBinding(v.value).wrapped!==0)return l.setLastError(1);var A=void 0;if(s){if(!r)return l.setLastError(1);A=o.createReferenceWithFinalizer(l,v.id,0,1,r,t,i),c=A.id;var S=new DataView(h.buffer);S.setUint32(s,c,!0)}else r?A=o.createReferenceWithFinalizer(l,v.id,0,0,r,t,i):A=o.createReferenceWithData(l,v.id,0,0,t);return l.getObjectBinding(v.value).wrapped=A.id,l.getReturnStatus()}catch(N){return l.tryCatch.setError(N),l.setLastError(10)}}function $t(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a||r===0&&!t)return s.setLastError(1);var c=o.handleStore.get(a);if(!(c.isObject()||c.isFunction()))return s.setLastError(1);var l=s.getObjectBinding(c.value),_=l.wrapped,v=o.refStore.get(_);if(!v)return s.setLastError(1);if(t){i=v.data();var A=new DataView(h.buffer);A.setUint32(t,i,!0)}return r===1&&(l.wrapped=0,v.ownership()===1?v.resetFinalizer():v.dispose()),s.getReturnStatus()}catch(S){return s.tryCatch.setError(S),s.setLastError(10)}}function Ts(e,a,t,r,i,s,c,l){var _,v,A;if(!e)return 1;var S=o.envStore.get(e);if(S.checkGCAccess(),!S.tryCatch.isEmpty())return S.setLastError(10);if(!S.canCallIntoJs())return S.setLastError(S.moduleApiVersion>=10?23:10);S.clearLastError();try{if(!l||!r||(s=s>>>0,s>0&&!c)||t<-1||t>2147483647||!a)return S.setLastError(1);var N=Ke(S,a,t,r,i);if(N.status!==0)return S.setLastError(N.status);for(var M=N.f,j=void 0,$=new DataView(h.buffer),Z=0;Z<s;Z++){_=c+Z*32;var ae=$.getUint32(_,!0),fe=$.getUint32(_+4,!0),re=$.getUint32(_+8,!0),de=$.getUint32(_+12,!0),Ee=$.getUint32(_+16,!0),_e=$.getUint32(_+20,!0);A=$.getInt32(_+24,!0);var be=$.getUint32(_+28,!0);if(ae)j=ee.UTF8ToString(ae,-1);else if(!fe||(j=o.handleStore.get(fe).value,typeof j!="string"&&typeof j!="symbol"))return S.setLastError(4);if((A&1024)!==0){jr(S,M,j,re,de,Ee,_e,A,be);continue}jr(S,M.prototype,j,re,de,Ee,_e,A,be)}var Re=o.addToCurrentScope(M);return v=Re.id,$.setUint32(l,v,!0),S.getReturnStatus()}catch(qr){return S.tryCatch.setError(qr),S.setLastError(10)}}function Cs(e,a,t,r,i,s){return Is(e,a,t,r,i,s)}function ks(e,a,t){return $t(e,a,t,0)}function Ds(e,a,t){return $t(e,a,t,1)}function Os(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a)return r.setLastError(r.tryCatch.hasCaught()?10:1);var i=o.handleStore.get(a);if(!(i.isObject()||i.isFunction()))return r.setLastError(r.tryCatch.hasCaught()?10:2);if(!t)return r.setLastError(r.tryCatch.hasCaught()?10:1);var s=r.getObjectBinding(i.value);if(s.tag!==null)return r.setLastError(r.tryCatch.hasCaught()?10:1);var c=new Uint8Array(16);return c.set(new Uint8Array(h.buffer,t,16)),s.tag=new Uint32Array(c.buffer),r.getReturnStatus()}catch(l){return r.tryCatch.setError(l),r.setLastError(10)}}function Bs(e,a,t,r){var i=!0;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a)return s.setLastError(s.tryCatch.hasCaught()?10:1);var c=o.handleStore.get(a);if(!(c.isObject()||c.isFunction()))return s.setLastError(s.tryCatch.hasCaught()?10:2);if(!t||!r)return s.setLastError(s.tryCatch.hasCaught()?10:1);var l=s.getObjectBinding(c.value);if(l.tag!==null){var _=l.tag,v=new Uint32Array(h.buffer,t,4);i=_[0]===v[0]&&_[1]===v[1]&&_[2]===v[2]&&_[3]===v[3]}else i=!1;var A=new DataView(h.buffer);return A.setInt8(r,i?1:0,!0),s.getReturnStatus()}catch(S){return s.tryCatch.setError(S),s.setLastError(10)}}function zr(e,a,t,r,i,s){if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!o.feature.supportFinalizer)return c.setLastError(9);if(!a||!r)return c.setLastError(1);var l=Jt(a);if(l.status!==0)return c.setLastError(l.status);var _=l.handle,v=s?1:0,A=o.createReferenceWithFinalizer(c,_.id,0,v,r,t,i);if(s){var S=A.id,N=new DataView(h.buffer);N.setUint32(s,S,!0)}return c.clearLastError()}function Us(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);return i.enqueueFinalizer(o.createTrackedFinalizer(i,a,t,r)),i.clearLastError()}var Rs=Object.freeze({__proto__:null,napi_add_finalizer:zr,napi_check_object_type_tag:Bs,napi_define_class:Ts,napi_remove_wrap:Ds,napi_type_tag_object:Os,napi_unwrap:ks,napi_wrap:Cs,node_api_post_finalizer:Us});function Kt(e,a,t,r,i,s,c){var l;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!c)return _.setLastError(1);if(r=r>>>0,t||(r=0),r>2147483647)throw new RangeError("Cannot create a memory view larger than 2147483647 bytes");if(t+r>h.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&i)throw o.createNotSupportWeakRefError("emnapi_create_memory_view",'Parameter "finalize_cb" must be 0(NULL)');var v=void 0;switch(a){case 0:v={Ctor:Int8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 1:v={Ctor:Uint8Array,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 2:v={Ctor:Uint8ClampedArray,address:t,length:r,ownership:1,runtimeAllocated:0};break;case 3:v={Ctor:Int16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 4:v={Ctor:Uint16Array,address:t,length:r>>1,ownership:1,runtimeAllocated:0};break;case 5:v={Ctor:Int32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 6:v={Ctor:Uint32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 7:v={Ctor:Float32Array,address:t,length:r>>2,ownership:1,runtimeAllocated:0};break;case 8:v={Ctor:Float64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 9:v={Ctor:BigInt64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case 10:v={Ctor:BigUint64Array,address:t,length:r>>3,ownership:1,runtimeAllocated:0};break;case-1:v={Ctor:DataView,address:t,length:r,ownership:1,runtimeAllocated:0};break;case-2:{if(!o.feature.Buffer)throw o.createNotSupportBufferError("emnapi_create_memory_view","");v={Ctor:o.feature.Buffer,address:t,length:r,ownership:1,runtimeAllocated:0};break}default:return _.setLastError(1)}var A=v.Ctor,S=a===-2?o.feature.Buffer.from(h.buffer,v.address,v.length):new A(h.buffer,v.address,v.length),N=o.addToCurrentScope(S);if(Y.wasmMemoryViewTable.set(S,v),i){var M=zr(e,N.id,t,i,s,0);if(M===10){var j=_.tryCatch.extractException();throw _.clearLastError(),j}else if(M!==0)return _.setLastError(M)}l=N.id;var $=new DataView(h.buffer);return $.setUint32(c,l,!0),_.getReturnStatus()}catch(Z){return _.tryCatch.setError(Z),_.setLastError(10)}}function Fs(){return o.feature.supportFinalizer?1:0}function Ns(){return o.feature.supportBigInt?1:0}function Ps(){return g?1:0}function Hr(e,a,t,r){t=t??0,t=t>>>0;var i;if(a instanceof ArrayBuffer){var s=Y.getArrayBufferPointer(a,!1).address;if(!s)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=a.byteLength-t),r=r>>>0,r===0)return a;i=new Uint8Array(a,t,r);var c=new Uint8Array(h.buffer);return e?c.set(i,s):i.set(c.subarray(s,s+r)),a}if(ArrayBuffer.isView(a)){var l=Y.getViewPointer(a,!1),_=l.view,s=l.address;if(!s)throw new Error("Unknown ArrayBuffer address");if((typeof r!="number"||r===-1)&&(r=_.byteLength-t),r=r>>>0,r===0)return _;i=new Uint8Array(_.buffer,_.byteOffset+t,r);var c=new Uint8Array(h.buffer);return e?c.set(i,s):i.set(c.subarray(s,s+r)),_}throw new TypeError("emnapiSyncMemory expect ArrayBuffer or ArrayBufferView as first parameter")}function Ms(e,a,t,r,i){var s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t)return c.setLastError(1);var l=new DataView(h.buffer),_=l.getUint32(t,!0),v=c.ctx.handleStore.get(_);if(!v.isArrayBuffer()&&!v.isTypedArray()&&!v.isDataView())return c.setLastError(1);var A=Hr(!!a,v.value,r,i);return v.value!==A&&(s=c.ensureHandleId(A),l.setUint32(t,s,!0)),c.getReturnStatus()}catch(S){return c.tryCatch.setError(S),c.setLastError(10)}}function Gr(e){var a=e instanceof ArrayBuffer,t=e instanceof DataView,r=ArrayBuffer.isView(e)&&!t;if(!a&&!r&&!t)throw new TypeError("emnapiGetMemoryAddress expect ArrayBuffer or ArrayBufferView as first parameter");var i;return a?i=Y.getArrayBufferPointer(e,!1):i=Y.getViewPointer(e,!1),{address:i.address,ownership:i.ownership,runtimeAllocated:i.runtimeAllocated}}function xs(e,a,t,r,i){var s,c,l,_;if(!e)return 1;var v=o.envStore.get(e);if(v.checkGCAccess(),!v.tryCatch.isEmpty())return v.setLastError(10);if(!v.canCallIntoJs())return v.setLastError(v.moduleApiVersion>=10?23:10);v.clearLastError();try{if(!a||!t&&!r&&!i)return v.setLastError(1);var A=v.ctx.handleStore.get(a);_=Gr(A.value),s=_.address;var S=new DataView(h.buffer);return t&&S.setUint32(t,s,!0),r&&(l=_.ownership,S.setInt32(r,l,!0)),i&&(c=_.runtimeAllocated,S.setInt8(i,c,!0)),v.getReturnStatus()}catch(N){return v.tryCatch.setError(N),v.setLastError(10)}}function Vs(e,a){if(!e)return 1;var t=o.envStore.get(e);if(!a)return t.setLastError(1);var r;try{r=o.getRuntimeVersions().version}catch{return t.setLastError(9)}var i=r.split(".").map(function(c){return Number(c)}),s=new DataView(h.buffer);return s.setUint32(a,i[0],!0),s.setUint32(a+4,i[1],!0),s.setUint32(a+8,i[2],!0),t.clearLastError()}var Ws=Object.freeze({__proto__:null,$emnapiGetMemoryAddress:Gr,$emnapiSyncMemory:Hr,emnapi_create_memory_view:Kt,emnapi_get_memory_address:xs,emnapi_get_runtime_version:Vs,emnapi_is_node_binding_available:Ps,emnapi_is_support_bigint:Ns,emnapi_is_support_weakref:Fs,emnapi_sync_memory:Ms});function js(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=o.addToCurrentScope([]).id,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}function zs(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);a=a>>>0;var i=o.addToCurrentScope(new Array(a)).id,s=new DataView(h.buffer);return s.setUint32(t,i,!0),r.clearLastError()}function Qt(e,a){e=e>>>0;var t=new ArrayBuffer(e);if(a){var r=Y.getArrayBufferPointer(t,!0).address,i=new DataView(h.buffer);i.setUint32(a,r,!0)}return t}function Hs(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!r)return s.setLastError(1);var c=Qt(a,t);i=o.addToCurrentScope(c).id;var l=new DataView(h.buffer);return l.setUint32(r,i,!0),s.getReturnStatus()}catch(_){return s.tryCatch.setError(_),s.setLastError(10)}}function Gs(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!t)return i.setLastError(1);r=o.addToCurrentScope(new Date(a)).id;var s=new DataView(h.buffer);return s.setUint32(t,r,!0),i.getReturnStatus()}catch(c){return i.tryCatch.setError(c),i.setLastError(10)}}function qs(e,a,t,r,i){var s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!i)return c.setLastError(1);if(!o.feature.supportFinalizer&&t)throw o.createNotSupportWeakRefError("napi_create_external",'Parameter "finalize_cb" must be 0(NULL)');var l=o.getCurrentScope().addExternal(a);t&&o.createReferenceWithFinalizer(c,l.id,0,0,t,a,r),s=l.id;var _=new DataView(h.buffer);return _.setUint32(i,s,!0),c.clearLastError()}catch(v){return c.tryCatch.setError(v),c.setLastError(10)}}function Js(e,a,t,r,i,s){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!s)return l.setLastError(1);if(t=t>>>0,a||(t=0),a+t>h.buffer.byteLength)throw new RangeError("Memory out of range");if(!o.feature.supportFinalizer&&r)throw o.createNotSupportWeakRefError("napi_create_external_arraybuffer",'Parameter "finalize_cb" must be 0(NULL)');var _=new ArrayBuffer(t);if(t===0)try{var v=o.feature.MessageChannel,A=new v;A.port1.postMessage(_,[_])}catch{}else{var S=new Uint8Array(_);S.set(new Uint8Array(h.buffer).subarray(a,a+t)),Y.table.set(_,{address:a,ownership:1,runtimeAllocated:0})}var N=o.addToCurrentScope(_);if(r){var M=zr(e,N.id,a,r,i,0);if(M===10){var j=l.tryCatch.extractException();throw l.clearLastError(),j}else if(M!==0)return l.setLastError(M)}c=N.id;var $=new DataView(h.buffer);return $.setUint32(s,c,!0),l.getReturnStatus()}catch(Z){return l.tryCatch.setError(Z),l.setLastError(10)}}function $s(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=o.addToCurrentScope({}).id,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}function Ks(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var i=new DataView(h.buffer);if(a){var c=o.handleStore.get(a),l=c.value;if(typeof l!="string")return r.setLastError(3);var _=o.addToCurrentScope(Symbol(l)).id;i.setUint32(t,_,!0)}else{var s=o.addToCurrentScope(Symbol()).id;i.setUint32(t,s,!0)}return r.clearLastError()}function Qs(e,a,t,r,i,s){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!r||!s)return l.setLastError(1);var _=o.handleStore.get(r);if(!_.isArrayBuffer())return l.setLastError(1);var v=_.value,A=function(S,N,M,j,$,Z){var ae;if($=$>>>0,Z=Z>>>0,M>1&&$%M!==0){var fe=new RangeError("start offset of ".concat((ae=N.name)!==null&&ae!==void 0?ae:""," should be a multiple of ").concat(M));return fe.code="ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT",S.tryCatch.setError(fe),S.setLastError(9)}if(Z*M+$>j.byteLength){var fe=new RangeError("Invalid typed array length");return fe.code="ERR_NAPI_INVALID_TYPEDARRAY_LENGTH",S.tryCatch.setError(fe),S.setLastError(9)}var re=new N(j,$,Z);j===h.buffer&&(Y.wasmMemoryViewTable.has(re)||Y.wasmMemoryViewTable.set(re,{Ctor:N,address:$,length:Z,ownership:1,runtimeAllocated:0})),c=o.addToCurrentScope(re).id;var de=new DataView(h.buffer);return de.setUint32(s,c,!0),S.getReturnStatus()};switch(a){case 0:return A(l,Int8Array,1,v,i,t);case 1:return A(l,Uint8Array,1,v,i,t);case 2:return A(l,Uint8ClampedArray,1,v,i,t);case 3:return A(l,Int16Array,2,v,i,t);case 4:return A(l,Uint16Array,2,v,i,t);case 5:return A(l,Int32Array,4,v,i,t);case 6:return A(l,Uint32Array,4,v,i,t);case 7:return A(l,Float32Array,4,v,i,t);case 8:return A(l,Float64Array,8,v,i,t);case 9:return A(l,BigInt64Array,8,v,i,t);case 10:return A(l,BigUint64Array,8,v,i,t);default:return l.setLastError(1)}}catch(S){return l.tryCatch.setError(S),l.setLastError(10)}}function Ys(e,a,t,r){var i,s,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!r)return l.setLastError(1);var _=o.feature.Buffer;if(!_)throw o.createNotSupportBufferError("napi_create_buffer","");var v=void 0;a=a>>>0;var A=new DataView(h.buffer);if(!t||a===0)v=_.alloc(a),s=o.addToCurrentScope(v).id,A.setUint32(r,s,!0);else{if(c=R(a),!c)throw new Error("Out of memory");new Uint8Array(h.buffer).subarray(c,c+a).fill(0);var S=_.from(h.buffer,c,a),N={Ctor:_,address:c,length:a,ownership:Y.registry?0:1,runtimeAllocated:1};Y.wasmMemoryViewTable.set(S,N),(i=Y.registry)===null||i===void 0||i.register(N,c),s=o.addToCurrentScope(S).id,A.setUint32(r,s,!0),A.setUint32(t,c,!0)}return l.getReturnStatus()}catch(M){return l.tryCatch.setError(M),l.setLastError(10)}}function Xs(e,a,t,r,i){var s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!i)return c.setLastError(1);var l=o.feature.Buffer;if(!l)throw o.createNotSupportBufferError("napi_create_buffer_copy","");var _=Qt(a,r),v=l.from(_);v.set(new Uint8Array(h.buffer).subarray(t,t+a)),s=o.addToCurrentScope(v).id;var A=new DataView(h.buffer);return A.setUint32(i,s,!0),c.getReturnStatus()}catch(S){return c.tryCatch.setError(S),c.setLastError(10)}}function Zs(e,a,t,r,i,s){return Kt(e,-2,t,a,r,i,s)}function eo(e,a,t,r,i){var s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!a||!i)return c.setLastError(1);t=t>>>0,r=r>>>0;var l=o.handleStore.get(a);if(!l.isArrayBuffer())return c.setLastError(1);var _=l.value;if(r+t>_.byteLength){var v=new RangeError("The byte offset + length is out of range");throw v.code="ERR_OUT_OF_RANGE",v}var A=o.feature.Buffer;if(!A)throw o.createNotSupportBufferError("node_api_create_buffer_from_arraybuffer","");var S=A.from(_,t,r);_===h.buffer&&(Y.wasmMemoryViewTable.has(S)||Y.wasmMemoryViewTable.set(S,{Ctor:A,address:t,length:r,ownership:1,runtimeAllocated:0})),s=o.addToCurrentScope(S).id;var N=new DataView(h.buffer);return N.setUint32(i,s,!0),c.getReturnStatus()}catch(M){return c.tryCatch.setError(M),c.setLastError(10)}}function ro(e,a,t,r,i){var s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(!t||!i)return c.setLastError(1);a=a>>>0,r=r>>>0;var l=o.handleStore.get(t);if(!l.isArrayBuffer())return c.setLastError(1);var _=l.value;if(a+r>_.byteLength){var v=new RangeError("byte_offset + byte_length should be less than or equal to the size in bytes of the array passed in");throw v.code="ERR_NAPI_INVALID_DATAVIEW_ARGS",v}var A=new DataView(_,r,a);_===h.buffer&&(Y.wasmMemoryViewTable.has(A)||Y.wasmMemoryViewTable.set(A,{Ctor:DataView,address:r,length:a,ownership:1,runtimeAllocated:0})),s=o.addToCurrentScope(A).id;var S=new DataView(h.buffer);return S.setUint32(i,s,!0),c.getReturnStatus()}catch(N){return c.tryCatch.setError(N),c.setLastError(10)}}function to(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!r)return i.setLastError(1);var s=t===-1,c=t>>>0;if(t!==0&&!a||!(s||c<=2147483647))return i.setLastError(1);var l=ee.UTF8ToString(a,t),_=o.addToCurrentScope(Symbol.for(l)).id,v=new DataView(h.buffer);return v.setUint32(r,_,!0),i.clearLastError()}var no=Object.freeze({__proto__:null,napi_create_array:js,napi_create_array_with_length:zs,napi_create_arraybuffer:Hs,napi_create_buffer:Ys,napi_create_buffer_copy:Xs,napi_create_dataview:ro,napi_create_date:Gs,napi_create_external:qs,napi_create_external_arraybuffer:Js,napi_create_external_buffer:Zs,napi_create_object:$s,napi_create_symbol:Ks,napi_create_typedarray:Qs,node_api_create_buffer_from_arraybuffer:eo,node_api_symbol_for:to});function io(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!t)return r.setLastError(1);var i=a===0?3:4,s=new DataView(h.buffer);return s.setUint32(t,i,!0),r.clearLastError()}function ao(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=5,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}function so(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=2,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}function oo(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=1,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}var uo=Object.freeze({__proto__:null,napi_get_boolean:io,napi_get_global:ao,napi_get_null:so,napi_get_undefined:oo});function co(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);return i.setInstanceData(a,t,r),i.clearLastError()}function fo(e,a){if(!e)return 1;var t=o.envStore.get(e);if(!a)return t.setLastError(1);var r=t.getInstanceData(),i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}var lo=Object.freeze({__proto__:null,napi_get_instance_data:fo,napi_set_instance_data:co});function po(e,a,t,r){var i=o.envStore.get(e),s=i.lastError,c=s.errorCode,l=s.engineErrorCode>>>0,_=s.engineReserved,v=new DataView(h.buffer);v.setInt32(a,c,!0),v.setUint32(t,l,!0),v.setUint32(r,_,!0)}function ho(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{return a?(t.tryCatch.setError(o.handleStore.get(a).value),t.clearLastError()):t.setLastError(1)}catch(r){return t.tryCatch.setError(r),t.setLastError(10)}}function _o(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var i=new Error(ee.UTF8ToString(t,-1));return a&&(i.code=ee.UTF8ToString(a,-1)),r.tryCatch.setError(i),r.clearLastError()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function vo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var i=new TypeError(ee.UTF8ToString(t,-1));return a&&(i.code=ee.UTF8ToString(a,-1)),r.tryCatch.setError(i),r.clearLastError()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function go(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var i=new RangeError(ee.UTF8ToString(t,-1));return a&&(i.code=ee.UTF8ToString(a,-1)),r.tryCatch.setError(i),r.clearLastError()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function yo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!t)return r.setLastError(1);var i=new SyntaxError(ee.UTF8ToString(t,-1));return a&&(i.code=ee.UTF8ToString(a,-1)),r.tryCatch.setError(i),r.clearLastError()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function Eo(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=t.tryCatch.hasCaught(),i=new DataView(h.buffer);return i.setInt8(a,r?1:0,!0),t.clearLastError()}function mo(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!t||!r)return i.setLastError(1);var s=o.handleStore.get(t).value;if(typeof s!="string")return i.setLastError(3);var c=new Error(s);if(a){var l=o.handleStore.get(a).value;if(typeof l!="string")return i.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setUint32(r,_,!0),i.clearLastError()}function wo(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!t||!r)return i.setLastError(1);var s=o.handleStore.get(t).value;if(typeof s!="string")return i.setLastError(3);var c=new TypeError(s);if(a){var l=o.handleStore.get(a).value;if(typeof l!="string")return i.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setUint32(r,_,!0),i.clearLastError()}function bo(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!t||!r)return i.setLastError(1);var s=o.handleStore.get(t).value;if(typeof s!="string")return i.setLastError(3);var c=new RangeError(s);if(a){var l=o.handleStore.get(a).value;if(typeof l!="string")return i.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setUint32(r,_,!0),i.clearLastError()}function So(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!t||!r)return i.setLastError(1);var s=o.handleStore.get(t).value;if(typeof s!="string")return i.setLastError(3);var c=new SyntaxError(s);if(a){var l=o.handleStore.get(a).value;if(typeof l!="string")return i.setLastError(3);c.code=l}var _=o.addToCurrentScope(c).id,v=new DataView(h.buffer);return v.setUint32(r,_,!0),i.clearLastError()}function Ao(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=new DataView(h.buffer);if(t.tryCatch.hasCaught()){var i=t.tryCatch.exception(),s=t.ensureHandleId(i);r.setUint32(a,s,!0),t.tryCatch.reset()}else return r.setUint32(a,1,!0),t.clearLastError();return t.clearLastError()}function Lo(e,a,t,r){var i=ee.UTF8ToString(e,a),s=ee.UTF8ToString(t,r);g?g.napi.fatalError(i,s):z("FATAL ERROR: "+i+" "+s)}function Io(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!a)return t.setLastError(1);var r=t.ctx.handleStore.get(a);try{t.triggerFatalException(r.value)}catch{return t.setLastError(9)}return t.clearLastError()}catch(i){return t.tryCatch.setError(i),t.setLastError(10)}}var To=Object.freeze({__proto__:null,_emnapi_get_last_error_info:po,napi_create_error:mo,napi_create_range_error:bo,napi_create_type_error:wo,napi_fatal_error:Lo,napi_fatal_exception:Io,napi_get_and_clear_last_exception:Ao,napi_is_exception_pending:Eo,napi_throw:ho,napi_throw_error:_o,napi_throw_range_error:go,napi_throw_type_error:vo,node_api_create_syntax_error:So,node_api_throw_syntax_error:yo});function Co(e,a,t,r,i,s){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!s||!r)return l.setLastError(1);var _=Ke(l,a,t,r,i);if(_.status!==0)return l.setLastError(_.status);var v=_.f,A=o.addToCurrentScope(v);c=A.id;var S=new DataView(h.buffer);return S.setUint32(s,c,!0),l.getReturnStatus()}catch(N){return l.tryCatch.setError(N),l.setLastError(10)}}function ko(e,a,t,r,i,s){if(!e)return 1;var c=o.envStore.get(e);if(!a)return c.setLastError(1);var l=o.scopeStore.get(a).callbackInfo,_=new DataView(h.buffer);if(r){if(!t)return c.setLastError(1);for(var v=_.getUint32(t,!0),A=l.args.length,S=v<A?v:A,N=0;N<S;N++){var M=c.ensureHandleId(l.args[N]);_.setUint32(r+N*4,M,!0)}if(N<v)for(;N<v;N++)_.setUint32(r+N*4,1,!0)}if(t&&_.setUint32(t,l.args.length,!0),i){var j=c.ensureHandleId(l.thiz);_.setUint32(i,j,!0)}return s&&_.setUint32(s,l.data,!0),c.clearLastError()}function Do(e,a,t,r,i,s){var c=0,l;if(!e)return 1;var _=o.envStore.get(e);if(_.checkGCAccess(),!_.tryCatch.isEmpty())return _.setLastError(10);if(!_.canCallIntoJs())return _.setLastError(_.moduleApiVersion>=10?23:10);_.clearLastError();try{if(!a||(r=r>>>0,r>0&&!i))return _.setLastError(1);var v=o.handleStore.get(a).value;if(!t)return _.setLastError(1);var A=o.handleStore.get(t).value;if(typeof A!="function")return _.setLastError(1);for(var S=[],N=new DataView(h.buffer);c<r;c++){var M=N.getUint32(i+c*4,!0);S.push(o.handleStore.get(M).value)}var j=A.apply(v,S);return s&&(l=_.ensureHandleId(j),N.setUint32(s,l,!0)),_.clearLastError()}catch($){return _.tryCatch.setError($),_.setLastError(10)}}function Oo(e,a,t,r,i){var s,c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!a||(t=t>>>0,t>0&&!r)||!i)return l.setLastError(1);var _=o.handleStore.get(a).value;if(typeof _!="function")return l.setLastError(1);var v=void 0,A=new DataView(h.buffer);if(o.feature.supportReflect){var S=Array(t);for(s=0;s<t;s++){var N=A.getUint32(r+s*4,!0);S[s]=o.handleStore.get(N).value}v=Reflect.construct(_,S,_)}else{var M=Array(t+1);for(M[0]=void 0,s=0;s<t;s++){var N=A.getUint32(r+s*4,!0);M[s+1]=o.handleStore.get(N).value}var j=_.bind.apply(_,M);v=new j}return i&&(c=l.ensureHandleId(v),A.setUint32(i,c,!0)),l.getReturnStatus()}catch($){return l.tryCatch.setError($),l.setLastError(10)}}function Bo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.scopeStore.get(a).callbackInfo,s=i.thiz,c=i.fn,l=s==null||s.constructor==null?0:s instanceof c?r.ensureHandleId(s.constructor):0,_=new DataView(h.buffer);return _.setUint32(t,l,!0),r.clearLastError()}var Uo=Object.freeze({__proto__:null,napi_call_function:Do,napi_create_function:Co,napi_get_cb_info:ko,napi_get_new_target:Bo,napi_new_instance:Oo});function Ro(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=o.openScope(t),i=new DataView(h.buffer);return i.setUint32(a,r.id,!0),t.clearLastError()}function Fo(e,a){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),a?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function No(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=o.openScope(t),i=new DataView(h.buffer);return i.setUint32(a,r.id,!0),t.clearLastError()}function Po(e,a){if(!e)return 1;var t=o.envStore.get(e);return t.checkGCAccess(),a?t.openHandleScopes===0?13:(o.closeScope(t),t.clearLastError()):t.setLastError(1)}function Mo(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!a||!t||!r)return i.setLastError(1);var s=o.scopeStore.get(a);if(!s.escapeCalled()){var c=s.escape(t),l=c?c.id:0,_=new DataView(h.buffer);return _.setUint32(r,l,!0),i.clearLastError()}return i.setLastError(12)}function xo(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!a||!r)return i.setLastError(1);var s=o.handleStore.get(a);if(i.moduleApiVersion<10&&!(s.isObject()||s.isFunction()||s.isSymbol()))return i.setLastError(1);var c=o.createReference(i,s.id,t>>>0,1),l=new DataView(h.buffer);return l.setUint32(r,c.id,!0),i.clearLastError()}function Vo(e,a){if(!e)return 1;var t=o.envStore.get(e);return a?(o.refStore.get(a).dispose(),t.clearLastError()):t.setLastError(1)}function Wo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a)return r.setLastError(1);var i=o.refStore.get(a).ref();if(t){var s=new DataView(h.buffer);s.setUint32(t,i,!0)}return r.clearLastError()}function jo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a)return r.setLastError(1);var i=o.refStore.get(a),s=i.refcount();if(s===0)return r.setLastError(9);var c=i.unref();if(t){var l=new DataView(h.buffer);l.setUint32(t,c,!0)}return r.clearLastError()}function zo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.refStore.get(a),s=i.get(r),c=new DataView(h.buffer);return c.setUint32(t,s,!0),r.clearLastError()}function Ho(e,a,t){if(!e)return 1;var r=o.envStore.get(e);return a?(o.addCleanupHook(r,a,t),0):r.setLastError(1)}function Go(e,a,t){if(!e)return 1;var r=o.envStore.get(e);return a?(o.removeCleanupHook(r,a,t),0):r.setLastError(1)}function qo(e){var a=o.envStore.get(e);a.ref()}function Jo(e){var a=o.envStore.get(e);a.unref()}var $o=Object.freeze({__proto__:null,_emnapi_env_ref:qo,_emnapi_env_unref:Jo,napi_add_env_cleanup_hook:Ho,napi_close_escapable_handle_scope:Po,napi_close_handle_scope:Fo,napi_create_reference:xo,napi_delete_reference:Vo,napi_escape_handle:Mo,napi_get_reference_value:zo,napi_open_escapable_handle_scope:No,napi_open_handle_scope:Ro,napi_reference_ref:Wo,napi_reference_unref:jo,napi_remove_env_cleanup_hook:Go});function Ko(e,a,t){var r=o.envStore.get(e),i=r.filename;return a?ee.stringToUTF8(i,a,t):ee.lengthBytesUTF8(i)}var Qo=Object.freeze({__proto__:null,_emnapi_get_filename:Ko});function Yo(e,a,t){var r,i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a||!t)return s.setLastError(1);var c=new DataView(h.buffer),l=new Promise(function(_,v){var A=o.createDeferred({resolve:_,reject:v});r=A.id,c.setUint32(a,r,!0)});return i=o.addToCurrentScope(l).id,c.setUint32(t,i,!0),s.getReturnStatus()}catch(_){return s.tryCatch.setError(_),s.setLastError(10)}}function Xo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a||!t)return r.setLastError(1);var i=o.deferredStore.get(a);return i.resolve(o.handleStore.get(t).value),r.getReturnStatus()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function Zo(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a||!t)return r.setLastError(1);var i=o.deferredStore.get(a);return i.reject(o.handleStore.get(t).value),r.getReturnStatus()}catch(s){return r.tryCatch.setError(s),r.setLastError(10)}}function eu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isPromise()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}var ru=Object.freeze({__proto__:null,napi_create_promise:Yo,napi_is_promise:eu,napi_reject_deferred:Zo,napi_resolve_deferred:Xo});function Yt(e,a,t,r,i,s){var c;if(!e)return 1;var l=o.envStore.get(e);if(l.checkGCAccess(),!l.tryCatch.isEmpty())return l.setLastError(10);if(!l.canCallIntoJs())return l.setLastError(l.moduleApiVersion>=10?23:10);l.clearLastError();try{if(!s||!a)return l.setLastError(1);var _=o.handleStore.get(a);if(_.value==null)throw new TypeError("Cannot convert undefined or null to object");var v=void 0;try{v=_.isObject()||_.isFunction()?_.value:Object(_.value)}catch{return l.setLastError(2)}if(t!==0&&t!==1||i!==0&&i!==1)return l.setLastError(1);var A=[],S=void 0,N=void 0,M=void 0,j=!0,$=/^(0|[1-9][0-9]*)$/;do{for(S=Object.getOwnPropertyNames(v),N=Object.getOwnPropertySymbols(v),M=0;M<S.length;M++)A.push({name:$.test(S[M])?Number(S[M]):S[M],desc:Object.getOwnPropertyDescriptor(v,S[M]),own:j});for(M=0;M<N.length;M++)A.push({name:N[M],desc:Object.getOwnPropertyDescriptor(v,N[M]),own:j});if(t===1)break;v=Object.getPrototypeOf(v),j=!1}while(v);var Z=[],ae=function(be,Re,qr,Xt){if(be.indexOf(Re)===-1){if(Xt===0)be.push(Re);else if(Xt===1){var Jr=typeof Re=="number"?String(Re):Re;typeof Jr=="string"&&qr&8||be.push(Jr)}}};for(M=0;M<A.length;M++){var fe=A[M],re=fe.name,de=fe.desc;if(r===0)ae(Z,re,r,i);else{if(r&8&&typeof re=="string"||r&16&&typeof re=="symbol")continue;var Ee=!0;switch(r&7){case 1:{Ee=!!de.writable;break}case 2:{Ee=!!de.enumerable;break}case 3:{Ee=!!(de.writable&&de.enumerable);break}case 4:{Ee=!!de.configurable;break}case 5:{Ee=!!(de.configurable&&de.writable);break}case 6:{Ee=!!(de.configurable&&de.enumerable);break}case 7:{Ee=!!(de.configurable&&de.enumerable&&de.writable);break}}Ee&&ae(Z,re,r,i)}}c=o.addToCurrentScope(Z).id;var _e=new DataView(h.buffer);return _e.setUint32(s,c,!0),l.getReturnStatus()}catch(be){return l.tryCatch.setError(be),l.setLastError(10)}}function tu(e,a,t){return Yt(e,a,0,18,1,t)}function nu(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!t||!r||!a)return i.setLastError(1);var s=o.handleStore.get(a);return s.isObject()||s.isFunction()?(s.value[o.handleStore.get(t).value]=o.handleStore.get(r).value,i.getReturnStatus()):i.setLastError(2)}catch(c){return i.tryCatch.setError(c),i.setLastError(10)}}function iu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!t||!r||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=o.handleStore.get(t).value in l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function au(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!t||!r||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=s.ensureHandleId(l[o.handleStore.get(t).value]);var _=new DataView(h.buffer);return _.setUint32(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function su(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!t||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(!(c.isObject()||c.isFunction()))return s.setLastError(2);var l=o.handleStore.get(t).value;if(o.feature.supportReflect)i=Reflect.deleteProperty(c.value,l);else try{i=delete c.value[l]}catch{i=!1}if(r){var _=new DataView(h.buffer);_.setInt8(r,i?1:0,!0)}return s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function ou(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!t||!r||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}var _=o.handleStore.get(t).value;if(typeof _!="string"&&typeof _!="symbol")return s.setLastError(4);i=Object.prototype.hasOwnProperty.call(l,o.handleStore.get(t).value);var v=new DataView(h.buffer);return v.setInt8(r,i?1:0,!0),s.getReturnStatus()}catch(A){return s.tryCatch.setError(A),s.setLastError(10)}}function uu(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!r||!a)return i.setLastError(1);var s=o.handleStore.get(a);return s.isObject()||s.isFunction()?t?(o.handleStore.get(a).value[ee.UTF8ToString(t,-1)]=o.handleStore.get(r).value,i.getReturnStatus()):i.setLastError(1):i.setLastError(2)}catch(c){return i.tryCatch.setError(c),i.setLastError(10)}}function cu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!r||!a||!t)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=ee.UTF8ToString(t,-1)in l;var _=new DataView(h.buffer);return _.setInt8(r,i?1:0,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function fu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!r||!a||!t)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=s.ensureHandleId(l[ee.UTF8ToString(t,-1)]);var _=new DataView(h.buffer);return _.setUint32(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function lu(e,a,t,r){if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!r||!a)return i.setLastError(1);var s=o.handleStore.get(a);return s.isObject()||s.isFunction()?(s.value[t>>>0]=o.handleStore.get(r).value,i.getReturnStatus()):i.setLastError(2)}catch(c){return i.tryCatch.setError(c),i.setLastError(10)}}function du(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!r||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=t>>>0 in l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function pu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!r||!a)return s.setLastError(1);var c=o.handleStore.get(a);if(c.value==null)throw new TypeError("Cannot convert undefined or null to object");var l=void 0;try{l=c.isObject()||c.isFunction()?c.value:Object(c.value)}catch{return s.setLastError(2)}i=s.ensureHandleId(l[t>>>0]);var _=new DataView(h.buffer);return _.setUint32(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function hu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a)return s.setLastError(1);var c=o.handleStore.get(a);if(!(c.isObject()||c.isFunction()))return s.setLastError(2);if(o.feature.supportReflect)i=Reflect.deleteProperty(c.value,t>>>0);else try{i=delete c.value[t>>>0]}catch{i=!1}if(r){var l=new DataView(h.buffer);l.setInt8(r,i?1:0,!0)}return s.getReturnStatus()}catch(_){return s.tryCatch.setError(_),s.setLastError(10)}}function _u(e,a,t,r){var i,s;if(!e)return 1;var c=o.envStore.get(e);if(c.checkGCAccess(),!c.tryCatch.isEmpty())return c.setLastError(10);if(!c.canCallIntoJs())return c.setLastError(c.moduleApiVersion>=10?23:10);c.clearLastError();try{if(t=t>>>0,t>0&&!r||!a)return c.setLastError(1);var l=o.handleStore.get(a),_=l.value;if(!(l.isObject()||l.isFunction()))return c.setLastError(2);for(var v=void 0,A=new DataView(h.buffer),S=0;S<t;S++){i=r+S*32;var N=A.getUint32(i,!0),M=A.getUint32(i+4,!0),j=A.getUint32(i+8,!0),$=A.getUint32(i+12,!0),Z=A.getUint32(i+16,!0),ae=A.getUint32(i+20,!0);s=A.getInt32(i+24,!0);var fe=A.getUint32(i+28,!0);if(N)v=ee.UTF8ToString(N,-1);else if(!M||(v=o.handleStore.get(M).value,typeof v!="string"&&typeof v!="symbol"))return c.setLastError(4);jr(c,_,v,j,$,Z,ae,s,fe)}return c.getReturnStatus()}catch(re){return c.tryCatch.setError(re),c.setLastError(10)}}function vu(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!a)return t.setLastError(1);var r=o.handleStore.get(a),i=r.value;return r.isObject()||r.isFunction()?(Object.freeze(i),t.getReturnStatus()):t.setLastError(2)}catch(s){return t.tryCatch.setError(s),t.setLastError(10)}}function gu(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!t.tryCatch.isEmpty())return t.setLastError(10);if(!t.canCallIntoJs())return t.setLastError(t.moduleApiVersion>=10?23:10);t.clearLastError();try{if(!a)return t.setLastError(1);var r=o.handleStore.get(a),i=r.value;return r.isObject()||r.isFunction()?(Object.seal(i),t.getReturnStatus()):t.setLastError(2)}catch(s){return t.tryCatch.setError(s),t.setLastError(10)}}var yu=Object.freeze({__proto__:null,napi_define_properties:_u,napi_delete_element:hu,napi_delete_property:su,napi_get_all_property_names:Yt,napi_get_element:pu,napi_get_named_property:fu,napi_get_property:au,napi_get_property_names:tu,napi_has_element:du,napi_has_named_property:cu,napi_has_own_property:ou,napi_has_property:iu,napi_object_freeze:vu,napi_object_seal:gu,napi_set_element:lu,napi_set_named_property:uu,napi_set_property:nu});function Eu(e,a,t){var r,i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a||!t)return s.setLastError(1);var c=o.handleStore.get(a);if(!c.isString())return s.setLastError(3);var l=o.handleStore.get(5).value,_=l.eval(c.value);i=s.ensureHandleId(_);var v=new DataView(h.buffer);v.setUint32(t,i,!0),r=s.getReturnStatus()}catch(A){return s.tryCatch.setError(A),s.setLastError(10)}return r}var mu=Object.freeze({__proto__:null,napi_run_script:Eu});function wu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s;if(i.isNumber())s=3;else if(i.isBigInt())s=9;else if(i.isString())s=4;else if(i.isFunction())s=7;else if(i.isExternal())s=8;else if(i.isObject())s=6;else if(i.isBoolean())s=2;else if(i.isUndefined())s=0;else if(i.isSymbol())s=5;else if(i.isNull())s=1;else return r.setLastError(1);var c=new DataView(h.buffer);return c.setInt32(t,s,!0),r.clearLastError()}function bu(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!a||!t)return i.setLastError(1);var s=o.handleStore.get(a);r=s.value?4:3;var c=new DataView(h.buffer);return c.setUint32(t,r,!0),i.getReturnStatus()}catch(l){return i.tryCatch.setError(l),i.setLastError(10)}}function Su(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!a||!t)return i.setLastError(1);var s=o.handleStore.get(a);if(s.isBigInt())throw new TypeError("Cannot convert a BigInt value to a number");r=o.addToCurrentScope(Number(s.value)).id;var c=new DataView(h.buffer);return c.setUint32(t,r,!0),i.getReturnStatus()}catch(l){return i.tryCatch.setError(l),i.setLastError(10)}}function Au(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!a||!t)return i.setLastError(1);var s=o.handleStore.get(a);if(s.value==null)throw new TypeError("Cannot convert undefined or null to object");r=i.ensureHandleId(Object(s.value));var c=new DataView(h.buffer);return c.setUint32(t,r,!0),i.getReturnStatus()}catch(l){return i.tryCatch.setError(l),i.setLastError(10)}}function Lu(e,a,t){var r;if(!e)return 1;var i=o.envStore.get(e);if(i.checkGCAccess(),!i.tryCatch.isEmpty())return i.setLastError(10);if(!i.canCallIntoJs())return i.setLastError(i.moduleApiVersion>=10?23:10);i.clearLastError();try{if(!a||!t)return i.setLastError(1);var s=o.handleStore.get(a);if(s.isSymbol())throw new TypeError("Cannot convert a Symbol value to a string");r=o.addToCurrentScope(String(s.value)).id;var c=new DataView(h.buffer);return c.setUint32(t,r,!0),i.getReturnStatus()}catch(l){return i.tryCatch.setError(l),i.setLastError(10)}}function Iu(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a||!r||!t)return s.setLastError(1);var c=new DataView(h.buffer);c.setInt8(r,0,!0);var l=o.handleStore.get(t);if(!l.isFunction())return s.setLastError(5);var _=o.handleStore.get(a).value,v=_ instanceof l.value;return i=v?1:0,c.setInt8(r,i,!0),s.getReturnStatus()}catch(A){return s.tryCatch.setError(A),s.setLastError(10)}}function Tu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isArray()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Cu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isArrayBuffer()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function ku(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isDate()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Du(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a).value,s=i instanceof Error?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Ou(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isTypedArray()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Bu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isBuffer(o.feature.Buffer)?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Uu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=i.isDataView()?1:0,c=new DataView(h.buffer);return c.setInt8(t,s,!0),r.clearLastError()}function Ru(e,a,t,r){var i;if(!e)return 1;var s=o.envStore.get(e);if(s.checkGCAccess(),!s.tryCatch.isEmpty())return s.setLastError(10);if(!s.canCallIntoJs())return s.setLastError(s.moduleApiVersion>=10?23:10);s.clearLastError();try{if(!a||!t||!r)return s.setLastError(1);var c=o.handleStore.get(a).value,l=o.handleStore.get(t).value;i=c===l?1:0;var _=new DataView(h.buffer);return _.setInt8(r,i,!0),s.getReturnStatus()}catch(v){return s.tryCatch.setError(v),s.setLastError(10)}}function Fu(e,a){if(!e)return 1;var t=o.envStore.get(e);if(t.checkGCAccess(),!a)return t.setLastError(1);var r=o.handleStore.get(a).value;if(!(r instanceof ArrayBuffer))return typeof SharedArrayBuffer=="function"&&r instanceof SharedArrayBuffer?t.setLastError(20):t.setLastError(19);try{var i=o.feature.MessageChannel,s=new i;s.port1.postMessage(r,[r])}catch{return t.setLastError(9)}return t.clearLastError()}function Nu(e,a,t){if(!e)return 1;var r=o.envStore.get(e);if(r.checkGCAccess(),!r.tryCatch.isEmpty())return r.setLastError(10);if(!r.canCallIntoJs())return r.setLastError(r.moduleApiVersion>=10?23:10);r.clearLastError();try{if(!a||!t)return r.setLastError(1);var i=o.handleStore.get(a),s=new DataView(h.buffer);if(i.isArrayBuffer()&&i.value.byteLength===0)try{new Uint8Array(i.value)}catch{return s.setInt8(t,1,!0),r.getReturnStatus()}return s.setInt8(t,0,!0),r.getReturnStatus()}catch(c){return r.tryCatch.setError(c),r.setLastError(10)}}var Pu=Object.freeze({__proto__:null,napi_coerce_to_bool:bu,napi_coerce_to_number:Su,napi_coerce_to_object:Au,napi_coerce_to_string:Lu,napi_detach_arraybuffer:Fu,napi_instanceof:Iu,napi_is_array:Tu,napi_is_arraybuffer:Cu,napi_is_buffer:Bu,napi_is_dataview:Uu,napi_is_date:ku,napi_is_detached_arraybuffer:Nu,napi_is_error:Du,napi_is_typedarray:Ou,napi_strict_equals:Ru,napi_typeof:wu});function Mu(e,a){if(!e)return 1;var t=o.envStore.get(e);if(!a)return t.setLastError(1);var r=10,i=new DataView(h.buffer);return i.setUint32(a,r,!0),t.clearLastError()}var xu=Object.freeze({__proto__:null,napi_get_version:Mu});ne.init(),Y.init(),ee.init(),I.init(),F.init(),E.emnapi.syncMemory=Hr,E.emnapi.getMemoryAddress=Gr;function le(e){for(var a=Object.keys(e),t=0;t<a.length;++t){var r=a[t];r.indexOf("$")!==0&&(r.indexOf("emnapi_")===0?E.imports.emnapi[r]=e[r]:r.indexOf("_emnapi_")===0||r==="napi_set_last_error"||r==="napi_clear_last_error"?E.imports.env[r]=e[r]:E.imports.napi[r]=e[r])}}return le(Aa),le(Ia),le($a),le(ya),le(ds),le(Ls),le(no),le(uo),le(Rs),le(lo),le(Ws),le(To),le(Uo),le($o),le(Qo),le(Ra),le(ru),le(yu),le(mu),le(Pu),le(xu),E.imports.napi.napi_create_threadsafe_function=Fa,E.imports.napi.napi_get_threadsafe_function_context=Na,E.imports.napi.napi_call_threadsafe_function=Pa,E.imports.napi.napi_acquire_threadsafe_function=Ma,E.imports.napi.napi_release_threadsafe_function=xa,E.imports.napi.napi_unref_threadsafe_function=Va,E.imports.napi.napi_ref_threadsafe_function=Wa,E})();return n}function bn(u,n,f,d){d=d??{};var p=d.getMemory,m=d.getTable,h=d.beforeInit;if(p!=null&&typeof p!="function")throw new TypeError("options.getMemory is not a function");if(m!=null&&typeof m!="function")throw new TypeError("options.getTable is not a function");if(h!=null&&typeof h!="function")throw new TypeError("options.beforeInit is not a function");var T;T=wn(d);var R=d.wasi,x,z={env:T.imports.env,napi:T.imports.napi,emnapi:T.imports.emnapi};R&&(x=new gn(T.childThread?{wasi:R,childThread:!0,postMessage:T.postMessage}:{wasi:R,threadManager:T.PThread,waitThreadStart:T.waitThreadStart}),Object.assign(z,typeof R.getImportObject=="function"?R.getImportObject():{wasi_snapshot_preview1:R.wasiImport}),Object.assign(z,x.getImportObject()));var E=d.overwriteImports;if(typeof E=="function"){var o=E(z);typeof o=="object"&&o!==null&&(z=o)}return u(f,z,function(g,y){if(g)throw g;var w=y.instance,b=w,L=w.exports,k="memory"in L,U="memory"in z.env,O=p?p(L):k?L.memory:U?z.env.memory:void 0;if(!O)throw new Error("memory is neither exported nor imported");var B=m?m(L):L.__indirect_function_table;if(R&&!k){var P=Object.create(null);Object.assign(P,L,{memory:O}),b={exports:P}}var F=y.module;R?b=x.initialize(b,F,O):T.PThread.setup(F,O);var V=function(){h&&h({instance:w,module:F}),T.init({instance:b,module:F,memory:O,table:B});var W={instance:w,module:F,usedInstance:b};return W.napiModule=T,W};if(T.PThread.shouldPreloadWorkers()){var D=T.PThread.loadWasmModuleToAllWorkers();if(u===Sn)return D.then(V);throw new Error("Synchronous loading is not supported with worker pool (reuseWorker.size > 0)")}return V()})}function Sn(u,n,f){return je(u,n).then(function(d){return f(null,d)},function(d){return f(d)})}function An(u,n,f){var d;try{d=mn(u,n)}catch(p){return f(p)}return f(null,d)}function Ln(u,n){return bn(An,void 0,u,n)}var Er=new WeakMap;function pt(u){return Er.has(u)}var In=(function(){function u(n){Object.setPrototypeOf(this,null),Er.set(this,n)}return u.prototype=null,u})();function Tn(u){if(!pt(u))throw new TypeError("not external");return Er.get(u)}var ht=(function(){var u;try{u=new Function}catch{return!1}return typeof u=="function"})(),_t=(function(){if(typeof globalThis<"u")return globalThis;var u=(function(){return this})();if(!u&&ht)try{u=new Function("return this")()}catch{}if(!u){if(typeof __webpack_public_path__>"u"&&typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}return u})(),Cn=(function(){function u(){this._exception=void 0,this._caught=!1}return u.prototype.isEmpty=function(){return!this._caught},u.prototype.hasCaught=function(){return this._caught},u.prototype.exception=function(){return this._exception},u.prototype.setError=function(n){this._caught=!0,this._exception=n},u.prototype.reset=function(){this._caught=!1,this._exception=void 0},u.prototype.extractException=function(){var n=this._exception;return this.reset(),n},u})(),kn=(function(){var u;try{return!!(!((u=Object.getOwnPropertyDescriptor(Function.prototype,"name"))===null||u===void 0)&&u.configurable)}catch{return!1}})(),Dn=typeof Reflect=="object",ze=typeof FinalizationRegistry<"u"&&typeof WeakRef<"u",On=(function(){try{var u=Symbol();new WeakRef(u),new WeakMap().set(u,void 0)}catch{return!1}return!0})(),Bn=typeof BigInt<"u",vt=(function(){var u;return typeof __webpack_public_path__<"u"?u=(function(){return typeof __non_webpack_require__<"u"?__non_webpack_require__:void 0})():u=(function(){return typeof __webpack_public_path__<"u"?typeof __non_webpack_require__<"u"?__non_webpack_require__:void 0:typeof require<"u"?require:void 0})(),u})(),er=typeof MessageChannel=="function"?MessageChannel:(function(){try{return vt("worker_threads").MessageChannel}catch{}})(),gt=typeof setImmediate=="function"?setImmediate:function(u){if(typeof u!="function")throw new TypeError('The "callback" argument must be of type function');if(er){var n=new er;n.port1.onmessage=function(){n.port1.onmessage=null,n=void 0,u()},n.port2.postMessage(null)}else setTimeout(u,0)},yt=typeof Buffer=="function"?Buffer:(function(){try{return vt("buffer").Buffer}catch{}})(),Un="1.5.0",mr=10,rr=2147483647,tr=8,Et=(function(){function u(n,f){this.id=n,this.value=f}return u.prototype.data=function(){return Tn(this.value)},u.prototype.isNumber=function(){return typeof this.value=="number"},u.prototype.isBigInt=function(){return typeof this.value=="bigint"},u.prototype.isString=function(){return typeof this.value=="string"},u.prototype.isFunction=function(){return typeof this.value=="function"},u.prototype.isExternal=function(){return pt(this.value)},u.prototype.isObject=function(){return typeof this.value=="object"&&this.value!==null},u.prototype.isArray=function(){return Array.isArray(this.value)},u.prototype.isArrayBuffer=function(){return this.value instanceof ArrayBuffer},u.prototype.isTypedArray=function(){return ArrayBuffer.isView(this.value)&&!(this.value instanceof DataView)},u.prototype.isBuffer=function(n){return ArrayBuffer.isView(this.value)?!0:(n??(n=yt),typeof n=="function"&&n.isBuffer(this.value))},u.prototype.isDataView=function(){return this.value instanceof DataView},u.prototype.isDate=function(){return this.value instanceof Date},u.prototype.isPromise=function(){return this.value instanceof Promise},u.prototype.isBoolean=function(){return typeof this.value=="boolean"},u.prototype.isUndefined=function(){return this.value===void 0},u.prototype.isSymbol=function(){return typeof this.value=="symbol"},u.prototype.isNull=function(){return this.value===null},u.prototype.dispose=function(){this.value=void 0},u})(),He=(function(u){Le(n,u);function n(f,d){return u.call(this,f,d)||this}return n.prototype.dispose=function(){},n})(Et),Be=(function(){function u(){this._values=[void 0,u.UNDEFINED,u.NULL,u.FALSE,u.TRUE,u.GLOBAL],this._next=u.MIN_ID}return u.prototype.push=function(n){var f,d=this._next,p=this._values;return d<p.length?(f=p[d],f.value=n):(f=new Et(d,n),p[d]=f),this._next++,f},u.prototype.erase=function(n,f){this._next=n;for(var d=this._values,p=n;p<f;++p)d[p].dispose()},u.prototype.get=function(n){return this._values[n]},u.prototype.swap=function(n,f){var d=this._values,p=d[n];d[n]=d[f],d[n].id=Number(n),d[f]=p,p.id=Number(f)},u.prototype.dispose=function(){this._values.length=u.MIN_ID,this._next=u.MIN_ID},u.UNDEFINED=new He(1,void 0),u.NULL=new He(2,null),u.FALSE=new He(3,!1),u.TRUE=new He(4,!0),u.GLOBAL=new He(5,_t),u.MIN_ID=6,u})(),mt=(function(){function u(n,f,d,p,m){m===void 0&&(m=p),this.handleStore=n,this.id=f,this.parent=d,this.child=null,d!==null&&(d.child=this),this.start=p,this.end=m,this._escapeCalled=!1,this.callbackInfo={thiz:void 0,data:0,args:void 0,fn:void 0}}return u.prototype.add=function(n){var f=this.handleStore.push(n);return this.end++,f},u.prototype.addExternal=function(n){return this.add(new In(n))},u.prototype.dispose=function(){this._escapeCalled&&(this._escapeCalled=!1),this.start!==this.end&&this.handleStore.erase(this.start,this.end)},u.prototype.escape=function(n){if(this._escapeCalled||(this._escapeCalled=!0,n<this.start||n>=this.end))return null;this.handleStore.swap(n,this.start);var f=this.handleStore.get(this.start);return this.start++,this.parent.end++,f},u.prototype.escapeCalled=function(){return this._escapeCalled},u})(),Rn=(function(){function u(){this._rootScope=new mt(null,0,null,1,Be.MIN_ID),this.currentScope=this._rootScope,this._values=[void 0]}return u.prototype.get=function(n){return this._values[n]},u.prototype.openScope=function(n){var f=this.currentScope,d=f.child;if(d!==null)d.start=d.end=f.end;else{var p=f.id+1;d=new mt(n,p,f,f.end),this._values[p]=d}return this.currentScope=d,d},u.prototype.closeScope=function(){var n=this.currentScope;this.currentScope=n.parent,n.dispose()},u.prototype.dispose=function(){this.currentScope=this._rootScope,this._values.length=1},u})(),Fe=(function(){function u(){this._next=null,this._prev=null}return u.prototype.dispose=function(){},u.prototype.finalize=function(){},u.prototype.link=function(n){this._prev=n,this._next=n._next,this._next!==null&&(this._next._prev=this),n._next=this},u.prototype.unlink=function(){this._prev!==null&&(this._prev._next=this._next),this._next!==null&&(this._next._prev=this._prev),this._prev=null,this._next=null},u.finalizeAll=function(n){for(;n._next!==null;)n._next.finalize()},u})(),wt=(function(){function u(n,f,d,p){f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),this.envObject=n,this._finalizeCallback=f,this._finalizeData=d,this._finalizeHint=p,this._makeDynCall_vppp=n.makeDynCall_vppp}return u.prototype.callback=function(){return this._finalizeCallback},u.prototype.data=function(){return this._finalizeData},u.prototype.hint=function(){return this._finalizeHint},u.prototype.resetEnv=function(){this.envObject=void 0},u.prototype.resetFinalizer=function(){this._finalizeCallback=0,this._finalizeData=0,this._finalizeHint=0},u.prototype.callFinalizer=function(){var n=this._finalizeCallback,f=this._finalizeData,d=this._finalizeHint;if(this.resetFinalizer(),!!n){var p=Number(n);this.envObject?this.envObject.callFinalizer(p,f,d):this._makeDynCall_vppp(p)(0,f,d)}},u.prototype.dispose=function(){this.envObject=void 0,this._makeDynCall_vppp=void 0},u})(),bt=(function(u){Le(n,u);function n(f,d,p,m){var h=u.call(this)||this;return h._finalizer=new wt(f,d,p,m),h}return n.create=function(f,d,p,m){var h=new n(f,d,p,m);return h.link(f.finalizing_reflist),h},n.prototype.data=function(){return this._finalizer.data()},n.prototype.dispose=function(){this._finalizer&&(this.unlink(),this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),this._finalizer=void 0,u.prototype.dispose.call(this))},n.prototype.finalize=function(){this.unlink();var f,d=!1;try{this._finalizer.callFinalizer()}catch(p){d=!0,f=p}if(this.dispose(),d)throw f},n})(Fe);function Fn(u,n){var f="".concat(u," requires Node-API version ").concat(n,", but this version of Node.js only supports version ").concat(mr," add-ons.");throw new Error(f)}function Nn(u,n){if(!u.terminatedOrTerminating())throw n}var Pn=(function(){function u(n,f,d,p,m){this.ctx=n,this.moduleApiVersion=f,this.makeDynCall_vppp=d,this.makeDynCall_vp=p,this.abort=m,this.openHandleScopes=0,this.instanceData=null,this.tryCatch=new Cn,this.refs=1,this.reflist=new Fe,this.finalizing_reflist=new Fe,this.pendingFinalizers=[],this.lastError={errorCode:0,engineErrorCode:0,engineReserved:0},this.inGcFinalizer=!1,this._bindingMap=new WeakMap,this.id=0}return u.prototype.canCallIntoJs=function(){return!0},u.prototype.terminatedOrTerminating=function(){return!this.canCallIntoJs()},u.prototype.ref=function(){this.refs++},u.prototype.unref=function(){this.refs--,this.refs===0&&this.dispose()},u.prototype.ensureHandle=function(n){return this.ctx.ensureHandle(n)},u.prototype.ensureHandleId=function(n){return this.ensureHandle(n).id},u.prototype.clearLastError=function(){var n=this.lastError;return n.errorCode!==0&&(n.errorCode=0),n.engineErrorCode!==0&&(n.engineErrorCode=0),n.engineReserved!==0&&(n.engineReserved=0),0},u.prototype.setLastError=function(n,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var p=this.lastError;return p.errorCode!==n&&(p.errorCode=n),p.engineErrorCode!==f&&(p.engineErrorCode=f),p.engineReserved!==d&&(p.engineReserved=d),n},u.prototype.getReturnStatus=function(){return this.tryCatch.hasCaught()?this.setLastError(10):0},u.prototype.callIntoModule=function(n,f){f===void 0&&(f=Nn);var d=this.openHandleScopes;this.clearLastError();var p=n(this);if(d!==this.openHandleScopes&&this.abort("open_handle_scopes != open_handle_scopes_before"),this.tryCatch.hasCaught()){var m=this.tryCatch.extractException();f(this,m)}return p},u.prototype.invokeFinalizerFromGC=function(n){if(this.moduleApiVersion!==rr)this.enqueueFinalizer(n);else{var f=this.inGcFinalizer;this.inGcFinalizer=!0;try{n.finalize()}finally{this.inGcFinalizer=f}}},u.prototype.checkGCAccess=function(){this.moduleApiVersion===rr&&this.inGcFinalizer&&this.abort(`Finalizer is calling a function that may affect GC state.
The finalizers are run directly from GC and must not affect GC state.
Use \`node_api_post_finalizer\` from inside of the finalizer to work around this issue.
It schedules the call as a new task in the event loop.`)},u.prototype.enqueueFinalizer=function(n){this.pendingFinalizers.indexOf(n)===-1&&this.pendingFinalizers.push(n)},u.prototype.dequeueFinalizer=function(n){var f=this.pendingFinalizers.indexOf(n);f!==-1&&this.pendingFinalizers.splice(f,1)},u.prototype.deleteMe=function(){Fe.finalizeAll(this.finalizing_reflist),Fe.finalizeAll(this.reflist),this.tryCatch.extractException(),this.ctx.envStore.remove(this.id)},u.prototype.dispose=function(){this.id!==0&&(this.deleteMe(),this.finalizing_reflist.dispose(),this.reflist.dispose(),this.id=0)},u.prototype.initObjectBinding=function(n){var f={wrapped:0,tag:null};return this._bindingMap.set(n,f),f},u.prototype.getObjectBinding=function(n){return this._bindingMap.has(n)?this._bindingMap.get(n):this.initObjectBinding(n)},u.prototype.setInstanceData=function(n,f,d){this.instanceData&&this.instanceData.dispose(),this.instanceData=bt.create(this,f,n,d)},u.prototype.getInstanceData=function(){return this.instanceData?this.instanceData.data():0},u})(),Mn=(function(u){Le(n,u);function n(f,d,p,m,h,T,R){var x=u.call(this,f,p,m,h,T)||this;return x.filename=d,x.nodeBinding=R,x.destructing=!1,x.finalizationScheduled=!1,x}return n.prototype.deleteMe=function(){this.destructing=!0,this.drainFinalizerQueue(),u.prototype.deleteMe.call(this)},n.prototype.canCallIntoJs=function(){return u.prototype.canCallIntoJs.call(this)&&this.ctx.canCallIntoJs()},n.prototype.triggerFatalException=function(f){if(this.nodeBinding)this.nodeBinding.napi.fatalException(f);else if(typeof process=="object"&&process!==null&&typeof process._fatalException=="function"){var d=process._fatalException(f);d||(console.error(f),process.exit(1))}else throw f},n.prototype.callbackIntoModule=function(f,d){return this.callIntoModule(d,function(p,m){if(!p.terminatedOrTerminating()){var h=typeof process=="object"&&process!==null,T=h?!!(process.execArgv&&process.execArgv.indexOf("--force-node-api-uncaught-exceptions-policy")!==-1):!1;if(p.moduleApiVersion<10&&!T&&!f){var R=h&&typeof process.emitWarning=="function"?process.emitWarning:function(x,z,E){if(x instanceof Error)console.warn(x.toString());else{var o=E?"[".concat(E,"] "):"";console.warn("".concat(o).concat(z||"Warning",": ").concat(x))}};R("Uncaught N-API callback exception detected, please run node with option --force-node-api-uncaught-exceptions-policy=true to handle those exceptions properly.","DeprecationWarning","DEP0168");return}p.triggerFatalException(m)}})},n.prototype.callFinalizer=function(f,d,p){this.callFinalizerInternal(1,f,d,p)},n.prototype.callFinalizerInternal=function(f,d,p,m){var h=this.makeDynCall_vppp(d),T=this.id,R=this.ctx.openScope(this);try{this.callbackIntoModule(!!f,function(){h(T,p,m)})}finally{this.ctx.closeScope(this,R)}},n.prototype.enqueueFinalizer=function(f){var d=this;u.prototype.enqueueFinalizer.call(this,f),!this.finalizationScheduled&&!this.destructing&&(this.finalizationScheduled=!0,this.ref(),gt(function(){d.finalizationScheduled=!1,d.unref(),d.drainFinalizerQueue()}))},n.prototype.drainFinalizerQueue=function(){for(;this.pendingFinalizers.length>0;){var f=this.pendingFinalizers.shift();f.finalize()}},n})(Pn);function xn(u,n,f,d,p,m,h){f=typeof f!="number"?tr:f,f<tr?f=tr:f>mr&&f!==rr&&Fn(n,f);var T=new Mn(u,n,f,d,p,m,h);return u.envStore.add(T),u.addCleanupHook(T,function(){T.unref()},0),T}var wr=(function(u){Le(n,u);function n(f){var d=this.constructor,p=u.call(this,f)||this,m=d,h=m.prototype;if(!(p instanceof n)){var T=Object.setPrototypeOf;typeof T=="function"?T.call(Object,p,h):p.__proto__=h,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(p,m)}return p}return n})(Error);Object.defineProperty(wr.prototype,"name",{configurable:!0,writable:!0,value:"EmnapiError"});var St=(function(u){Le(n,u);function n(f,d){return u.call(this,"".concat(f,': The current runtime does not support "FinalizationRegistry" and "WeakRef".').concat(d?" ".concat(d):""))||this}return n})(wr);Object.defineProperty(St.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportWeakRefError"});var At=(function(u){Le(n,u);function n(f,d){return u.call(this,"".concat(f,': The current runtime does not support "Buffer". Consider using buffer polyfill to make sure `globalThis.Buffer` is defined.').concat(d?" ".concat(d):""))||this}return n})(wr);Object.defineProperty(At.prototype,"name",{configurable:!0,writable:!0,value:"NotSupportBufferError"});var br=(function(){function u(n){this._value=n}return u.prototype.deref=function(){return this._value},u.prototype.dispose=function(){this._value=void 0},u})(),Vn=(function(){function u(n){this._ref=new br(n)}return u.prototype.setWeak=function(n,f){if(!(!ze||this._ref===void 0||this._ref instanceof WeakRef)){var d=this._ref.deref();try{u._registry.register(d,this,this);var p=new WeakRef(d);this._ref.dispose(),this._ref=p,this._param=n,this._callback=f}catch(m){if(typeof d!="symbol")throw m}}},u.prototype.clearWeak=function(){if(!(!ze||this._ref===void 0)&&this._ref instanceof WeakRef){try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0;var n=this._ref.deref();n===void 0?this._ref=n:this._ref=new br(n)}},u.prototype.reset=function(){if(ze)try{u._registry.unregister(this)}catch{}this._param=void 0,this._callback=void 0,this._ref instanceof br&&this._ref.dispose(),this._ref=void 0},u.prototype.isEmpty=function(){return this._ref===void 0},u.prototype.deref=function(){if(this._ref!==void 0)return this._ref.deref()},u._registry=ze?new FinalizationRegistry(function(n){n._ref=void 0;var f=n._callback,d=n._param;n._callback=void 0,n._param=void 0,typeof f=="function"&&f(d)}):void 0,u})(),Sr;(function(u){u[u.kRuntime=0]="kRuntime",u[u.kUserland=1]="kUserland"})(Sr||(Sr={}));function Wn(u){return u.isObject()||u.isFunction()||u.isSymbol()}var Ar=(function(u){Le(n,u);function n(f,d,p,m){var h=u.call(this)||this;h.envObject=f,h._refcount=p,h._ownership=m;var T=f.ctx.handleStore.get(d);return h.canBeWeak=Wn(T),h.persistent=new Vn(T.value),h.id=0,p===0&&h._setWeak(),h}return n.weakCallback=function(f){f.persistent.reset(),f.invokeFinalizerFromGC()},n.create=function(f,d,p,m,h,T,R){var x=new n(f,d,p,m);return f.ctx.refStore.add(x),x.link(f.reflist),x},n.prototype.ref=function(){return this.persistent.isEmpty()?0:(++this._refcount===1&&this.canBeWeak&&this.persistent.clearWeak(),this._refcount)},n.prototype.unref=function(){return this.persistent.isEmpty()||this._refcount===0?0:(--this._refcount===0&&this._setWeak(),this._refcount)},n.prototype.get=function(f){if(f===void 0&&(f=this.envObject),this.persistent.isEmpty())return 0;var d=this.persistent.deref(),p=f.ensureHandle(d);return p.id},n.prototype.resetFinalizer=function(){},n.prototype.data=function(){return 0},n.prototype.refcount=function(){return this._refcount},n.prototype.ownership=function(){return this._ownership},n.prototype.callUserFinalizer=function(){},n.prototype.invokeFinalizerFromGC=function(){this.finalize()},n.prototype._setWeak=function(){this.canBeWeak?this.persistent.setWeak(this,n.weakCallback):this.persistent.reset()},n.prototype.finalize=function(){this.persistent.reset();var f=this._ownership===Sr.kRuntime;this.unlink(),this.callUserFinalizer(),f&&this.dispose()},n.prototype.dispose=function(){this.id!==0&&(this.unlink(),this.persistent.reset(),this.envObject.ctx.refStore.remove(this.id),u.prototype.dispose.call(this),this.envObject=void 0,this.id=0)},n})(Fe),jn=(function(u){Le(n,u);function n(f,d,p,m,h){var T=u.call(this,f,d,p,m)||this;return T._data=h,T}return n.create=function(f,d,p,m,h){var T=new n(f,d,p,m,h);return f.ctx.refStore.add(T),T.link(f.reflist),T},n.prototype.data=function(){return this._data},n})(Ar),zn=(function(u){Le(n,u);function n(f,d,p,m,h,T,R){var x=u.call(this,f,d,p,m)||this;return x._finalizer=new wt(f,h,T,R),x}return n.create=function(f,d,p,m,h,T,R){var x=new n(f,d,p,m,h,T,R);return f.ctx.refStore.add(x),x.link(f.finalizing_reflist),x},n.prototype.resetFinalizer=function(){this._finalizer.resetFinalizer()},n.prototype.data=function(){return this._finalizer.data()},n.prototype.callUserFinalizer=function(){this._finalizer.callFinalizer()},n.prototype.invokeFinalizerFromGC=function(){this._finalizer.envObject.invokeFinalizerFromGC(this)},n.prototype.dispose=function(){this._finalizer&&(this._finalizer.envObject.dequeueFinalizer(this),this._finalizer.dispose(),u.prototype.dispose.call(this),this._finalizer=void 0)},n})(Ar),Hn=(function(){function u(n,f){this.id=0,this.ctx=n,this.value=f}return u.create=function(n,f){var d=new u(n,f);return n.deferredStore.add(d),d},u.prototype.resolve=function(n){this.value.resolve(n),this.dispose()},u.prototype.reject=function(n){this.value.reject(n),this.dispose()},u.prototype.dispose=function(){this.ctx.deferredStore.remove(this.id),this.id=0,this.value=null,this.ctx=null},u})(),Lr=(function(){function u(){this._values=[void 0],this._values.length=4,this._size=1,this._freeList=[]}return u.prototype.add=function(n){var f;if(this._freeList.length)f=this._freeList.shift();else{f=this._size,this._size++;var d=this._values.length;f>=d&&(this._values.length=d+(d>>1)+16)}n.id=f,this._values[f]=n},u.prototype.get=function(n){return this._values[n]},u.prototype.has=function(n){return this._values[n]!==void 0},u.prototype.remove=function(n){var f=this._values[n];f&&(f.id=0,this._values[n]=void 0,this._freeList.push(Number(n)))},u.prototype.dispose=function(){for(var n=1;n<this._size;++n){var f=this._values[n];f?.dispose()}this._values=[void 0],this._size=1,this._freeList=[]},u})(),Gn=(function(){function u(n,f,d,p){this.envObject=n,this.fn=f,this.arg=d,this.order=p}return u})(),qn=(function(){function u(){this._cleanupHooks=[],this._cleanupHookCounter=0}return u.prototype.empty=function(){return this._cleanupHooks.length===0},u.prototype.add=function(n,f,d){if(this._cleanupHooks.filter(function(p){return p.envObject===n&&p.fn===f&&p.arg===d}).length>0)throw new Error("Can not add same fn and arg twice");this._cleanupHooks.push(new Gn(n,f,d,this._cleanupHookCounter++))},u.prototype.remove=function(n,f,d){for(var p=0;p<this._cleanupHooks.length;++p){var m=this._cleanupHooks[p];if(m.envObject===n&&m.fn===f&&m.arg===d){this._cleanupHooks.splice(p,1);return}}},u.prototype.drain=function(){var n=this._cleanupHooks.slice();n.sort(function(p,m){return m.order-p.order});for(var f=0;f<n.length;++f){var d=n[f];typeof d.fn=="number"?d.envObject.makeDynCall_vp(d.fn)(d.arg):d.fn(d.arg),this._cleanupHooks.splice(this._cleanupHooks.indexOf(d),1)}},u.prototype.dispose=function(){this._cleanupHooks.length=0,this._cleanupHookCounter=0},u})(),Jn=(function(){function u(){this.refHandle=new er().port1,this.count=0}return u.prototype.increase=function(){this.count===0&&this.refHandle.ref&&this.refHandle.ref(),this.count++},u.prototype.decrease=function(){this.count!==0&&(this.count===1&&this.refHandle.unref&&this.refHandle.unref(),this.count--)},u})(),$n=(function(){function u(){var n=this;this._isStopping=!1,this._canCallIntoJs=!0,this._suppressDestroy=!1,this.envStore=new Lr,this.scopeStore=new Rn,this.refStore=new Lr,this.deferredStore=new Lr,this.handleStore=new Be,this.feature={supportReflect:Dn,supportFinalizer:ze,supportWeakSymbol:On,supportBigInt:Bn,supportNewFunction:ht,canSetFunctionName:kn,setImmediate:gt,Buffer:yt,MessageChannel:er},this.cleanupQueue=new qn,typeof process=="object"&&process!==null&&typeof process.once=="function"&&(this.refCounter=new Jn,process.once("beforeExit",function(){n._suppressDestroy||n.destroy()}))}return u.prototype.suppressDestroy=function(){this._suppressDestroy=!0},u.prototype.getRuntimeVersions=function(){return{version:Un,NODE_API_SUPPORTED_VERSION_MAX:mr,NAPI_VERSION_EXPERIMENTAL:rr,NODE_API_DEFAULT_MODULE_API_VERSION:tr}},u.prototype.createNotSupportWeakRefError=function(n,f){return new St(n,f)},u.prototype.createNotSupportBufferError=function(n,f){return new At(n,f)},u.prototype.createReference=function(n,f,d,p){return Ar.create(n,f,d,p)},u.prototype.createReferenceWithData=function(n,f,d,p,m){return jn.create(n,f,d,p,m)},u.prototype.createReferenceWithFinalizer=function(n,f,d,p,m,h,T){return m===void 0&&(m=0),h===void 0&&(h=0),T===void 0&&(T=0),zn.create(n,f,d,p,m,h,T)},u.prototype.createDeferred=function(n){return Hn.create(this,n)},u.prototype.createEnv=function(n,f,d,p,m,h){return xn(this,n,f,d,p,m,h)},u.prototype.createTrackedFinalizer=function(n,f,d,p){return bt.create(n,f,d,p)},u.prototype.getCurrentScope=function(){return this.scopeStore.currentScope},u.prototype.addToCurrentScope=function(n){return this.scopeStore.currentScope.add(n)},u.prototype.openScope=function(n){var f=this.scopeStore.openScope(this.handleStore);return n&&n.openHandleScopes++,f},u.prototype.closeScope=function(n,f){n&&n.openHandleScopes===0||(this.scopeStore.closeScope(),n&&n.openHandleScopes--)},u.prototype.ensureHandle=function(n){switch(n){case void 0:return Be.UNDEFINED;case null:return Be.NULL;case!0:return Be.TRUE;case!1:return Be.FALSE;case _t:return Be.GLOBAL}return this.addToCurrentScope(n)},u.prototype.addCleanupHook=function(n,f,d){this.cleanupQueue.add(n,f,d)},u.prototype.removeCleanupHook=function(n,f,d){this.cleanupQueue.remove(n,f,d)},u.prototype.runCleanup=function(){for(;!this.cleanupQueue.empty();)this.cleanupQueue.drain()},u.prototype.increaseWaitingRequestCounter=function(){var n;(n=this.refCounter)===null||n===void 0||n.increase()},u.prototype.decreaseWaitingRequestCounter=function(){var n;(n=this.refCounter)===null||n===void 0||n.decrease()},u.prototype.setCanCallIntoJs=function(n){this._canCallIntoJs=n},u.prototype.setStopping=function(n){this._isStopping=n},u.prototype.canCallIntoJs=function(){return this._canCallIntoJs&&!this._isStopping},u.prototype.destroy=function(){this.setStopping(!0),this.setCanCallIntoJs(!1),this.runCleanup()},u})(),Ir;function Kn(){return new $n}function Qn(){return Ir||(Ir=Kn()),Ir}var Yn={};const Ge=typeof WebAssembly<"u"?WebAssembly:typeof WXWebAssembly<"u"?WXWebAssembly:void 0;if(!Ge)throw new Error("WebAssembly is not supported in this environment");function Ne(u,n){if(u===null||typeof u!="object")throw new TypeError(`${n} must be an object. Received ${u===null?"null":typeof u}`)}function Xn(u,n){if(!Array.isArray(u))throw new TypeError(`${n} must be an array. Received ${u===null?"null":typeof u}`)}function Zn(u,n){if(typeof u!="boolean")throw new TypeError(`${n} must be a boolean. Received ${u===null?"null":typeof u}`)}function Lt(u,n){if(typeof u!="string")throw new TypeError(`${n} must be a string. Received ${u===null?"null":typeof u}`)}function nr(u,n){if(typeof u!="function")throw new TypeError(`${n} must be a function. Received ${u===null?"null":typeof u}`)}function It(u,n){if(u!==void 0)throw new TypeError(`${n} must be undefined. Received ${u===null?"null":typeof u}`)}function ei(u){return!!(u&&(typeof u=="object"||typeof u=="function")&&typeof u.then=="function")}function se(u,n,f){return typeof SharedArrayBuffer=="function"&&u.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(u.buffer.constructor)==="[object SharedArrayBuffer]"?u.slice(n,f):u.subarray(n,f)}const Tr=46,Cr=47;function ri(u){return u===Cr}function ti(u,n,f,d){let p="",m=0,h=-1,T=0,R=0;for(let x=0;x<=u.length;++x){if(x<u.length)R=u.charCodeAt(x);else{if(d(R))break;R=Cr}if(d(R)){if(!(h===x-1||T===1))if(T===2){if(p.length<2||m!==2||p.charCodeAt(p.length-1)!==Tr||p.charCodeAt(p.length-2)!==Tr){if(p.length>2){const z=p.indexOf(f);z===-1?(p="",m=0):(p=p.slice(0,z),m=p.length-1-p.indexOf(f)),h=x,T=0;continue}else if(p.length!==0){p="",m=0,h=x,T=0;continue}}n&&(p+=p.length>0?`${f}..`:"..",m=2)}else p.length>0?p+=`${f}${u.slice(h+1,x)}`:p=u.slice(h+1,x),m=x-h-1;h=x,T=0}else R===Tr&&T!==-1?++T:T=-1}return p}function ce(...u){let n="",f=!1;for(let d=u.length-1;d>=-1&&!f;d--){const p=d>=0?u[d]:"/";Lt(p,"path"),p.length!==0&&(n=`${p}/${n}`,f=p.charCodeAt(0)===Cr)}return n=ti(n,!f,"/",ri),f?`/${n}`:n.length>0?n:"."}const ni=BigInt(1)<<BigInt(0),ii=BigInt(1)<<BigInt(1),ai=BigInt(1)<<BigInt(2),si=BigInt(1)<<BigInt(3),oi=BigInt(1)<<BigInt(4),ui=BigInt(1)<<BigInt(5),ci=BigInt(1)<<BigInt(6),fi=BigInt(1)<<BigInt(7),li=BigInt(1)<<BigInt(8),di=BigInt(1)<<BigInt(9),pi=BigInt(1)<<BigInt(10),hi=BigInt(1)<<BigInt(11),_i=BigInt(1)<<BigInt(12),vi=BigInt(1)<<BigInt(13),gi=BigInt(1)<<BigInt(14),yi=BigInt(1)<<BigInt(15),Ei=BigInt(1)<<BigInt(16),mi=BigInt(1)<<BigInt(17),wi=BigInt(1)<<BigInt(18),bi=BigInt(1)<<BigInt(19),Si=BigInt(1)<<BigInt(20),Ai=BigInt(1)<<BigInt(21),Li=BigInt(1)<<BigInt(22),Ii=BigInt(1)<<BigInt(23),Ti=BigInt(1)<<BigInt(24),Ci=BigInt(1)<<BigInt(25),ki=BigInt(1)<<BigInt(26),Di=BigInt(1)<<BigInt(27),Oi=BigInt(1)<<BigInt(28),Bi=BigInt(1)<<BigInt(29),C={FD_DATASYNC:ni,FD_READ:ii,FD_SEEK:ai,FD_FDSTAT_SET_FLAGS:si,FD_SYNC:oi,FD_TELL:ui,FD_WRITE:ci,FD_ADVISE:fi,FD_ALLOCATE:li,PATH_CREATE_DIRECTORY:di,PATH_CREATE_FILE:pi,PATH_LINK_SOURCE:hi,PATH_LINK_TARGET:_i,PATH_OPEN:vi,FD_READDIR:gi,PATH_READLINK:yi,PATH_RENAME_SOURCE:Ei,PATH_RENAME_TARGET:mi,PATH_FILESTAT_GET:wi,PATH_FILESTAT_SET_SIZE:bi,PATH_FILESTAT_SET_TIMES:Si,FD_FILESTAT_GET:Ai,FD_FILESTAT_SET_SIZE:Li,FD_FILESTAT_SET_TIMES:Ii,PATH_SYMLINK:Ti,PATH_REMOVE_DIRECTORY:Ci,PATH_UNLINK_FILE:ki,POLL_FD_READWRITE:Di,SOCK_SHUTDOWN:Oi,SOCK_ACCEPT:Bi};function Ui(u){switch(u){case 0:return"Success";case 1:return"Argument list too long";case 2:return"Permission denied";case 3:return"Address in use";case 4:return"Address not available";case 5:return"Address family not supported by protocol";case 6:return"Resource temporarily unavailable";case 7:return"Operation already in progress";case 8:return"Bad file descriptor";case 9:return"Bad message";case 10:return"Resource busy";case 11:return"Operation canceled";case 12:return"No child process";case 13:return"Connection aborted";case 14:return"Connection refused";case 15:return"Connection reset by peer";case 16:return"Resource deadlock would occur";case 17:return"Destination address required";case 18:return"Domain error";case 19:return"Quota exceeded";case 20:return"File exists";case 21:return"Bad address";case 22:return"File too large";case 23:return"Host is unreachable";case 24:return"Identifier removed";case 25:return"Illegal byte sequence";case 26:return"Operation in progress";case 27:return"Interrupted system call";case 28:return"Invalid argument";case 29:return"I/O error";case 30:return"Socket is connected";case 31:return"Is a directory";case 32:return"Symbolic link loop";case 33:return"No file descriptors available";case 34:return"Too many links";case 35:return"Message too large";case 36:return"Multihop attempted";case 37:return"Filename too long";case 38:return"Network is down";case 39:return"Connection reset by network";case 40:return"Network unreachable";case 41:return"Too many files open in system";case 42:return"No buffer space available";case 43:return"No such device";case 44:return"No such file or directory";case 45:return"Exec format error";case 46:return"No locks available";case 47:return"Link has been severed";case 48:return"Out of memory";case 49:return"No message of the desired type";case 50:return"Protocol not available";case 51:return"No space left on device";case 52:return"Function not implemented";case 53:return"Socket not connected";case 54:return"Not a directory";case 55:return"Directory not empty";case 56:return"State not recoverable";case 57:return"Not a socket";case 58:return"Not supported";case 59:return"Not a tty";case 60:return"No such device or address";case 61:return"Value too large for data type";case 62:return"Previous owner died";case 63:return"Operation not permitted";case 64:return"Broken pipe";case 65:return"Protocol error";case 66:return"Protocol not supported";case 67:return"Protocol wrong type for socket";case 68:return"Result not representable";case 69:return"Read-only file system";case 70:return"Invalid seek";case 71:return"No such process";case 72:return"Stale file handle";case 73:return"Operation timed out";case 74:return"Text file busy";case 75:return"Cross-device link";case 76:return"Capabilities insufficient";default:return"Unknown error"}}class pe extends Error{constructor(n,f){super(n),this.errno=f}getErrorMessage(){return Ui(this.errno)}}Object.defineProperty(pe.prototype,"name",{configurable:!0,writable:!0,value:"WasiError"});const qe=C.FD_DATASYNC|C.FD_READ|C.FD_SEEK|C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_TELL|C.FD_WRITE|C.FD_ADVISE|C.FD_ALLOCATE|C.PATH_CREATE_DIRECTORY|C.PATH_CREATE_FILE|C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET|C.PATH_OPEN|C.FD_READDIR|C.PATH_READLINK|C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET|C.PATH_FILESTAT_GET|C.PATH_FILESTAT_SET_SIZE|C.PATH_FILESTAT_SET_TIMES|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_TIMES|C.FD_FILESTAT_SET_SIZE|C.PATH_SYMLINK|C.PATH_UNLINK_FILE|C.PATH_REMOVE_DIRECTORY|C.POLL_FD_READWRITE|C.SOCK_SHUTDOWN|C.SOCK_ACCEPT,Ri=qe,Fi=qe,Ni=qe,Pi=qe,Tt=C.FD_DATASYNC|C.FD_READ|C.FD_SEEK|C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_TELL|C.FD_WRITE|C.FD_ADVISE|C.FD_ALLOCATE|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_SIZE|C.FD_FILESTAT_SET_TIMES|C.POLL_FD_READWRITE,Mi=BigInt(0),Ct=C.FD_FDSTAT_SET_FLAGS|C.FD_SYNC|C.FD_ADVISE|C.PATH_CREATE_DIRECTORY|C.PATH_CREATE_FILE|C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET|C.PATH_OPEN|C.FD_READDIR|C.PATH_READLINK|C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET|C.PATH_FILESTAT_GET|C.PATH_FILESTAT_SET_SIZE|C.PATH_FILESTAT_SET_TIMES|C.FD_FILESTAT_GET|C.FD_FILESTAT_SET_TIMES|C.PATH_SYMLINK|C.PATH_UNLINK_FILE|C.PATH_REMOVE_DIRECTORY|C.POLL_FD_READWRITE,xi=Ct|Tt,Vi=C.FD_READ|C.FD_FDSTAT_SET_FLAGS|C.FD_WRITE|C.FD_FILESTAT_GET|C.POLL_FD_READWRITE|C.SOCK_SHUTDOWN,Wi=qe,ji=C.FD_READ|C.FD_FDSTAT_SET_FLAGS|C.FD_WRITE|C.FD_FILESTAT_GET|C.POLL_FD_READWRITE,zi=BigInt(0);function Je(u,n,f,d){const p={base:BigInt(0),inheriting:BigInt(0)};if(d===0)throw new pe("Unknown file type",28);switch(d){case 4:p.base=Tt,p.inheriting=Mi;break;case 3:p.base=Ct,p.inheriting=xi;break;case 6:case 5:p.base=Vi,p.inheriting=Wi;break;case 2:u.indexOf(n)!==-1?(p.base=ji,p.inheriting=zi):(p.base=Ni,p.inheriting=Pi);break;case 1:p.base=Ri,p.inheriting=Fi;break;default:p.base=BigInt(0),p.inheriting=BigInt(0)}const m=f&3;return m===0?p.base&=~C.FD_WRITE:m===1&&(p.base&=~C.FD_READ),p}function $e(u,n){let f=0;for(let m=0;m<u.length;m++){const h=u[m];f+=h.length}let d=0;const p=new Uint8Array(f);for(let m=0;m<u.length;m++){const h=u[m];p.set(h,d),d+=h.length}return p}class kt{constructor(n,f,d,p,m,h,T,R){this.id=n,this.fd=f,this.path=d,this.realPath=p,this.type=m,this.rightsBase=h,this.rightsInheriting=T,this.preopen=R,this.pos=BigInt(0),this.size=BigInt(0)}seek(n,f){if(f===0)this.pos=BigInt(n);else if(f===1)this.pos+=BigInt(n);else if(f===2)this.pos=BigInt(this.size)-BigInt(n);else throw new pe("Unknown whence",29);return this.pos}}class Dt extends kt{constructor(n,f,d,p,m,h,T,R,x){super(f,d,p,m,h,T,R,x),this._log=n,this._buf=null}write(n){const f=n;if(this._buf&&(n=$e([this._buf,n]),this._buf=null),n.indexOf(10)===-1)return this._buf=n,f.byteLength;let d=0,p=0,m;for(;(m=n.indexOf(10,d))!==-1;){const h=new TextDecoder().decode(n.subarray(p,m));this._log(h),d+=m-p+1,p=m+1}return d<n.length&&(this._buf=n.slice(d)),f.byteLength}}function kr(u){return u.isBlockDevice()?1:u.isCharacterDevice()?2:u.isDirectory()?3:u.isSocket()?6:u.isFile()?4:u.isSymbolicLink()?7:0}function ir(u,n,f){u.setBigUint64(n,f.dev,!0),u.setBigUint64(n+8,f.ino,!0),u.setBigUint64(n+16,BigInt(kr(f)),!0),u.setBigUint64(n+24,f.nlink,!0),u.setBigUint64(n+32,f.size,!0),u.setBigUint64(n+40,f.atimeMs*BigInt(1e6),!0),u.setBigUint64(n+48,f.mtimeMs*BigInt(1e6),!0),u.setBigUint64(n+56,f.ctimeMs*BigInt(1e6),!0)}class Ot{constructor(n){this.used=0,this.size=n.size,this.fds=Array(n.size),this.stdio=[n.in,n.out,n.err],this.print=n.print,this.printErr=n.printErr,this.insertStdio(n.in,0,"<stdin>"),this.insertStdio(n.out,1,"<stdout>"),this.insertStdio(n.err,2,"<stderr>")}insertStdio(n,f,d){const{base:m,inheriting:h}=Je(this.stdio,n,2,2),T=this.insert(n,d,d,2,m,h,0);if(T.id!==f)throw new pe(`id: ${T.id} !== expected: ${f}`,8);return T}insert(n,f,d,p,m,h,T){var R,x;let z=-1;if(this.used>=this.size){const o=this.size*2;this.fds.length=o,z=this.size,this.size=o}else for(let o=0;o<this.size;++o)if(this.fds[o]==null){z=o;break}let E;return f==="<stdout>"?E=new Dt((R=this.print)!==null&&R!==void 0?R:console.log,z,n,f,d,p,m,h,T):f==="<stderr>"?E=new Dt((x=this.printErr)!==null&&x!==void 0?x:console.error,z,n,f,d,p,m,h,T):E=new kt(z,n,f,d,p,m,h,T),this.fds[z]=E,this.used++,E}get(n,f,d){if(n>=this.size)throw new pe("Invalid fd",8);const p=this.fds[n];if(!p||p.id!==n)throw new pe("Bad file descriptor",8);if((~p.rightsBase&f)!==BigInt(0)||(~p.rightsInheriting&d)!==BigInt(0))throw new pe("Capabilities insufficient",76);return p}remove(n){if(n>=this.size)throw new pe("Invalid fd",8);const f=this.fds[n];if(!f||f.id!==n)throw new pe("Bad file descriptor",8);this.fds[n]=void 0,this.used--}}class Hi extends Ot{constructor(n){super(n),this.fs=n.fs}getFileTypeByFd(n){const f=this.fs.fstatSync(n,{bigint:!0});return kr(f)}insertPreopen(n,f,d){const p=this.getFileTypeByFd(n);if(p!==3)throw new pe(`Preopen not dir: ["${f}", "${d}"]`,54);const m=Je(this.stdio,n,0,p);return this.insert(n,f,d,p,m.base,m.inheriting,1)}renumber(n,f){if(n===f)return;if(n>=this.size||f>=this.size)throw new pe("Invalid fd",8);const d=this.fds[n],p=this.fds[f];if(!d||!p||d.id!==n||p.id!==f)throw new pe("Invalid fd",8);this.fs.closeSync(d.fd),this.fds[n]=this.fds[f],this.fds[n].id=n,this.fds[f]=void 0,this.used--}}class Gi extends Ot{constructor(n){super(n)}async getFileTypeByFd(n){const f=await n.stat({bigint:!0});return kr(f)}async insertPreopen(n,f,d){const p=await this.getFileTypeByFd(n);if(p!==3)throw new pe(`Preopen not dir: ["${f}", "${d}"]`,54);const m=Je(this.stdio,n.fd,0,p);return this.insert(n,f,d,p,m.base,m.inheriting,1)}async renumber(n,f){if(n===f)return;if(n>=this.size||f>=this.size)throw new pe("Invalid fd",8);const d=this.fds[n],p=this.fds[f];if(!d||!p||d.id!==n||p.id!==f)throw new pe("Invalid fd",8);await d.fd.close(),this.fds[n]=this.fds[f],this.fds[n].id=n,this.fds[f]=void 0,this.used--}}const qi=(function(){return Ge.Memory})();class Ji extends qi{constructor(n){super(n)}get HEAP8(){return new Int8Array(super.buffer)}get HEAPU8(){return new Uint8Array(super.buffer)}get HEAP16(){return new Int16Array(super.buffer)}get HEAPU16(){return new Uint16Array(super.buffer)}get HEAP32(){return new Int32Array(super.buffer)}get HEAPU32(){return new Uint32Array(super.buffer)}get HEAP64(){return new BigInt64Array(super.buffer)}get HEAPU64(){return new BigUint64Array(super.buffer)}get HEAPF32(){return new Float32Array(super.buffer)}get HEAPF64(){return new Float64Array(super.buffer)}get view(){return new DataView(super.buffer)}}function $i(u){return Object.getPrototypeOf(u)===Ge.Memory.prototype&&Object.setPrototypeOf(u,Ji.prototype),u}function Ki(){const u=Ge.Function;if(typeof u!="function")throw new Error('WebAssembly.Function is not supported in this environment. If you are using V8 based browser like Chrome, try to specify --js-flags="--wasm-staging --experimental-wasm-stack-switching"');return u}function Qi(u,n,f){const d=Ki();if(typeof u!="function")throw new TypeError("Function required");const p=n.slice(0);return p.unshift("externref"),new d({parameters:p,results:f},u,{suspending:"first"})}function Pe(u,n){if(u.length===0||n.length===0)return 0;let f=0,d=n.length-f;for(let p=0;p<u.length;++p){const m=u[p];if(d<m.length)return m.set(n.subarray(f,f+d),0),f+=d,d=0,f;m.set(n.subarray(f,f+m.length),0),f+=m.length,d-=m.length}return f}const Bt=new WeakMap,J=new WeakMap,Ut=new WeakMap;function K(u){return Bt.get(u)}function te(u){const n=Ut.get(u);if(!n)throw new Error("filesystem is unavailable");return n}function Rt(u){if(u instanceof pe)return u.errno;switch(u.code){case"ENOENT":return 44;case"EBADF":return 8;case"EINVAL":return 28;case"EPERM":return 63;case"EPROTO":return 65;case"EEXIST":return 20;case"ENOTDIR":return 54;case"EMFILE":return 33;case"EACCES":return 2;case"EISDIR":return 31;case"ENOTEMPTY":return 55;case"ENOSYS":return 52}throw u}function Yi(u,n){return Object.defineProperty(n,"name",{value:u}),n}function ie(u,n,f){return Yi(n,function(){if(Yn.NODE_DEBUG_NATIVE==="wasi"){const p=Array.prototype.slice.call(arguments);let m=[`${n}(${Array.from({length:arguments.length}).map(()=>"%d").join(", ")})`];m=m.concat(p),console.debug.apply(console,m)}let d;try{d=f.apply(u,arguments)}catch(p){return Rt(p)}return ei(d)?d.then(p=>p,Rt):d})}function Dr(u,n,f,d){let p=ce(n.realPath,f);if((d&1)===1)try{p=u.readlinkSync(p)}catch(m){if(m.code!=="EINVAL"&&m.code!=="ENOENT")throw m}return p}async function Or(u,n,f,d){let p=ce(n.realPath,f);if((d&1)===1)try{p=await u.promises.readlink(p)}catch(m){if(m.code!=="EINVAL"&&m.code!=="ENOENT")throw m}return p}const we=new TextEncoder,oe=new TextDecoder,ar=(BigInt(1)<<BigInt(63))-BigInt(1);function Ft(){const u=window.prompt();return u===null?new Uint8Array:new TextEncoder().encode(u+`
`)}function sr(u){return!!(u&-16)||(u&3)===3||(u&12)===12}class Me{constructor(n,f,d,p,m,h){this.args_get=ie(this,"args_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{HEAPU8:g,view:y}=K(this),b=J.get(this).args;for(let L=0;L<b.length;++L){const k=b[L];y.setInt32(E,o,!0),E+=4;const U=we.encode(k+"\0");g.set(U,o),o+=U.length}return 0}),this.args_sizes_get=ie(this,"args_sizes_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{view:g}=K(this),w=J.get(this).args;return g.setUint32(E,w.length,!0),g.setUint32(o,we.encode(w.join("\0")+"\0").length,!0),0}),this.environ_get=ie(this,"environ_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{HEAPU8:g,view:y}=K(this),b=J.get(this).env;for(let L=0;L<b.length;++L){const k=b[L];y.setInt32(E,o,!0),E+=4;const U=we.encode(k+"\0");g.set(U,o),o+=U.length}return 0}),this.environ_sizes_get=ie(this,"environ_sizes_get",function(E,o){if(E=Number(E),o=Number(o),E===0||o===0)return 28;const{view:g}=K(this),y=J.get(this);return g.setUint32(E,y.env.length,!0),g.setUint32(o,we.encode(y.env.join("\0")+"\0").length,!0),0}),this.clock_res_get=ie(this,"clock_res_get",function(E,o){if(o=Number(o),o===0)return 28;const{view:g}=K(this);switch(E){case 0:return g.setBigUint64(o,BigInt(1e6),!0),0;case 1:case 2:case 3:return g.setBigUint64(o,BigInt(1e3),!0),0;default:return 28}}),this.clock_time_get=ie(this,"clock_time_get",function(E,o,g){if(g=Number(g),g===0)return 28;const{view:y}=K(this);switch(E){case 0:return y.setBigUint64(g,BigInt(Date.now())*BigInt(1e6),!0),0;case 1:case 2:case 3:{const w=performance.now()/1e3,b=Math.trunc(w),L=Math.floor((w-b)*1e3),k=BigInt(b)*BigInt(1e9)+BigInt(L)*BigInt(1e6);return y.setBigUint64(g,k,!0),0}default:return 28}}),this.fd_advise=ie(this,"fd_advise",function(E,o,g,y){return 52}),this.fd_fdstat_get=ie(this,"fd_fdstat_get",function(E,o){if(o=Number(o),o===0)return 28;const y=J.get(this).fds.get(E,BigInt(0),BigInt(0)),{view:w}=K(this);return w.setUint16(o,y.type,!0),w.setUint16(o+2,0,!0),w.setBigUint64(o+8,y.rightsBase,!0),w.setBigUint64(o+16,y.rightsInheriting,!0),0}),this.fd_fdstat_set_flags=ie(this,"fd_fdstat_set_flags",function(E,o){return 52}),this.fd_fdstat_set_rights=ie(this,"fd_fdstat_set_rights",function(E,o,g){const w=J.get(this).fds.get(E,BigInt(0),BigInt(0));return(o|w.rightsBase)>w.rightsBase||(g|w.rightsInheriting)>w.rightsInheriting?76:(w.rightsBase=o,w.rightsInheriting=g,0)}),this.fd_prestat_get=ie(this,"fd_prestat_get",function(E,o){if(o=Number(o),o===0)return 28;const g=J.get(this);let y;try{y=g.fds.get(E,BigInt(0),BigInt(0))}catch(b){if(b instanceof pe)return b.errno;throw b}if(y.preopen!==1)return 28;const{view:w}=K(this);return w.setUint32(o,0,!0),w.setUint32(o+4,we.encode(y.path).length,!0),0}),this.fd_prestat_dir_name=ie(this,"fd_prestat_dir_name",function(E,o,g){if(o=Number(o),g=Number(g),o===0)return 28;const w=J.get(this).fds.get(E,BigInt(0),BigInt(0));if(w.preopen!==1)return 8;const b=we.encode(w.path);if(b.length>g)return 42;const{HEAPU8:k}=K(this);return k.set(b,o),0}),this.fd_seek=ie(this,"fd_seek",function(E,o,g,y){if(y=Number(y),y===0)return 28;if(E===0||E===1||E===2)return 0;const L=J.get(this).fds.get(E,C.FD_SEEK,BigInt(0)).seek(o,g),{view:k}=K(this);return k.setBigUint64(y,L,!0),0}),this.fd_tell=ie(this,"fd_tell",function(E,o){const y=J.get(this).fds.get(E,C.FD_TELL,BigInt(0)),w=BigInt(y.pos),{view:b}=K(this);return b.setBigUint64(Number(o),w,!0),0}),this.poll_oneoff=ie(this,"poll_oneoff",function(E,o,g,y){if(E=Number(E),o=Number(o),y=Number(y),g=Number(g),g=g>>>0,E===0||o===0||g===0||y===0)return 28;const{view:w}=K(this);w.setUint32(y,0,!0);let b=0,L=BigInt(0),k=BigInt(0),U=0,O=BigInt(0),B;const P=Array(g);for(b=0;b<g;b++){B=E+b*48;const V=w.getBigUint64(B,!0),D=w.getUint8(B+8),W=w.getUint32(B+16,!0),H=w.getBigUint64(B+24,!0),q=w.getBigUint64(B+32,!0),Q=w.getUint16(B+40,!0);P[b]={userdata:V,type:D,u:{clock:{clock_id:W,timeout:H,precision:q,flags:Q},fd_readwrite:{fd:W}}}}const F=[];for(b=0;b<g;b++)switch(B=P[b],B.type){case 0:{if(B.u.clock.flags===1){const V=BigInt(Date.now())*BigInt(1e6);k=B.u.clock.timeout-V}else k=B.u.clock.timeout;(U===0||k<O)&&(O=k,L=B.userdata,U=1);break}case 1:case 2:F.push(B);break;default:return 28}if(F.length>0){for(b=0;b<F.length;b++){const V=F[b],D=o+32*b;w.setBigUint64(D,V.userdata,!0),w.setUint32(D+8,52,!0),w.setUint32(D+12,V.type,!0),w.setBigUint64(D+16,BigInt(0),!0),w.setUint16(D+24,0,!0),w.setUint32(y,1,!0)}return w.setUint32(y,F.length,!0),0}if(U){Number(O/BigInt(1e6));const V=o;w.setBigUint64(V,L,!0),w.setUint32(V+8,0,!0),w.setUint32(V+12,0,!0),w.setUint32(y,1,!0)}return 0}),this.proc_exit=ie(this,"proc_exit",function(E){return typeof process=="object"&&process!==null&&typeof process.exit=="function"&&process.exit(E),0}),this.proc_raise=ie(this,"proc_raise",function(E){return 52}),this.sched_yield=ie(this,"sched_yield",function(){return 0}),this.random_get=typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?ie(this,"random_get",function(E,o){if(E=Number(E),E===0)return 28;o=Number(o);const{HEAPU8:g,view:y}=K(this);if(typeof SharedArrayBuffer=="function"&&g.buffer instanceof SharedArrayBuffer||Object.prototype.toString.call(g.buffer)==="[object SharedArrayBuffer]"){for(let L=E;L<E+o;++L)y.setUint8(L,Math.floor(Math.random()*256));return 0}let w;const b=65536;for(w=0;w+b<o;w+=b)crypto.getRandomValues(g.subarray(E+w,E+w+b));return crypto.getRandomValues(g.subarray(E+w,E+o)),0}):ie(this,"random_get",function(E,o){if(E=Number(E),E===0)return 28;o=Number(o);const{view:g}=K(this);for(let y=E;y<E+o;++y)g.setUint8(y,Math.floor(Math.random()*256));return 0}),this.sock_recv=ie(this,"sock_recv",function(){return 58}),this.sock_send=ie(this,"sock_send",function(){return 58}),this.sock_shutdown=ie(this,"sock_shutdown",function(){return 58}),this.sock_accept=ie(this,"sock_accept",function(){return 58}),J.set(this,{fds:d,args:n,env:f}),m&&Ut.set(this,m);const T=this;function R(E,o,g,y,w){p?h?T[E]=h.wrapImportFunction(ie(T,E,g)):T[E]=Qi(ie(T,E,g),y,w):T[E]=ie(T,E,o)}R("fd_allocate",function(o,g,y){const w=J.get(this),b=te(this),L=w.fds.get(o,C.FD_ALLOCATE,BigInt(0));return b.fstatSync(L.fd,{bigint:!0}).size<g+y&&b.ftruncateSync(L.fd,Number(g+y)),0},async function(o,g,y){const L=J.get(this).fds.get(o,C.FD_ALLOCATE,BigInt(0)).fd;return(await L.stat({bigint:!0})).size<g+y&&await L.truncate(Number(g+y)),0},["i32","i64","f64"],["i32"]),R("fd_close",function(o){const g=J.get(this),y=g.fds.get(o,BigInt(0),BigInt(0));return te(this).closeSync(y.fd),g.fds.remove(o),0},async function(o){const g=J.get(this);return await g.fds.get(o,BigInt(0),BigInt(0)).fd.close(),g.fds.remove(o),0},["i32"],["i32"]),R("fd_datasync",function(o){const y=J.get(this).fds.get(o,C.FD_DATASYNC,BigInt(0));return te(this).fdatasyncSync(y.fd),0},async function(o){return await J.get(this).fds.get(o,C.FD_DATASYNC,BigInt(0)).fd.datasync(),0},["i32"],["i32"]),R("fd_filestat_get",function(o,g){if(g=Number(g),g===0)return 28;const w=J.get(this).fds.get(o,C.FD_FILESTAT_GET,BigInt(0)),L=te(this).fstatSync(w.fd,{bigint:!0}),{view:k}=K(this);return ir(k,g,L),0},async function(o,g){if(g=Number(g),g===0)return 28;const L=await J.get(this).fds.get(o,C.FD_FILESTAT_GET,BigInt(0)).fd.stat({bigint:!0}),{view:k}=K(this);return ir(k,g,L),0},["i32","i32"],["i32"]),R("fd_filestat_set_size",function(o,g){const w=J.get(this).fds.get(o,C.FD_FILESTAT_SET_SIZE,BigInt(0));return te(this).ftruncateSync(w.fd,Number(g)),0},async function(o,g){return await J.get(this).fds.get(o,C.FD_FILESTAT_SET_SIZE,BigInt(0)).fd.truncate(Number(g)),0},["i32","i64"],["i32"]);function x(E,o,g,y){const b=J.get(this).fds.get(E,C.FD_FILESTAT_SET_TIMES,BigInt(0));return(y&2)===2&&(o=BigInt(Date.now()*1e6)),(y&8)===8&&(g=BigInt(Date.now()*1e6)),{fileDescriptor:b,atim:o,mtim:g}}R("fd_filestat_set_times",function(o,g,y,w){if(sr(w))return 28;const{fileDescriptor:b,atim:L,mtim:k}=x.call(this,o,g,y,w);return te(this).futimesSync(b.fd,Number(L),Number(k)),0},async function(o,g,y,w){if(sr(w))return 28;const{fileDescriptor:b,atim:L,mtim:k}=x.call(this,o,g,y,w);return await b.fd.utimes(Number(L),Number(k)),0},["i32","i64","i64","i32"],["i32"]),R("fd_pread",function(o,g,y,w,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||w>ar)return 28;const{HEAPU8:L,view:k}=K(this),O=J.get(this).fds.get(o,C.FD_READ|C.FD_SEEK,BigInt(0));if(!y)return k.setUint32(b,0,!0),0;let B=0;const P=Array.from({length:Number(y)},(H,q)=>{const Q=g+q*8,X=k.getInt32(Q,!0),ue=k.getUint32(Q+4,!0);return B+=ue,L.subarray(X,X+ue)});let F=0;const V=(()=>{try{return new Uint8Array(new SharedArrayBuffer(B))}catch{return new Uint8Array(B)}})();V._isBuffer=!0;const W=te(this).readSync(O.fd,V,0,V.length,Number(w));return F=V?Pe(P,V.subarray(0,W)):0,k.setUint32(b,F,!0),0},async function(E,o,g,y,w){if(o=Number(o),w=Number(w),o===0&&g||w===0||y>ar)return 28;const{HEAPU8:b,view:L}=K(this),U=J.get(this).fds.get(E,C.FD_READ|C.FD_SEEK,BigInt(0));if(!g)return L.setUint32(w,0,!0),0;let O=0;const B=Array.from({length:Number(g)},(D,W)=>{const H=o+W*8,q=L.getInt32(H,!0),Q=L.getUint32(H+4,!0);return O+=Q,b.subarray(q,q+Q)});let P=0;const F=new Uint8Array(O);F._isBuffer=!0;const{bytesRead:V}=await U.fd.read(F,0,F.length,Number(y));return P=F?Pe(B,F.subarray(0,V)):0,L.setUint32(w,P,!0),0},["i32","i32","i32","i64","i32"],["i32"]),R("fd_pwrite",function(o,g,y,w,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||w>ar)return 28;const{HEAPU8:L,view:k}=K(this),O=J.get(this).fds.get(o,C.FD_WRITE|C.FD_SEEK,BigInt(0));if(!y)return k.setUint32(b,0,!0),0;const B=$e(Array.from({length:Number(y)},(V,D)=>{const W=g+D*8,H=k.getInt32(W,!0),q=k.getUint32(W+4,!0);return L.subarray(H,H+q)})),F=te(this).writeSync(O.fd,B,0,B.length,Number(w));return k.setUint32(b,F,!0),0},async function(o,g,y,w,b){if(g=Number(g),b=Number(b),g===0&&y||b===0||w>ar)return 28;const{HEAPU8:L,view:k}=K(this),O=J.get(this).fds.get(o,C.FD_WRITE|C.FD_SEEK,BigInt(0));if(!y)return k.setUint32(b,0,!0),0;const B=$e(Array.from({length:Number(y)},(F,V)=>{const D=g+V*8,W=k.getInt32(D,!0),H=k.getUint32(D+4,!0);return L.subarray(W,W+H)})),{bytesWritten:P}=await O.fd.write(B,0,B.length,Number(w));return k.setUint32(b,P,!0),0},["i32","i32","i32","i64","i32"],["i32"]),R("fd_read",function(o,g,y,w){if(g=Number(g),w=Number(w),g===0&&y||w===0)return 28;const{HEAPU8:b,view:L}=K(this),U=J.get(this).fds.get(o,C.FD_READ,BigInt(0));if(!y)return L.setUint32(w,0,!0),0;let O=0;const B=Array.from({length:Number(y)},(V,D)=>{const W=g+D*8,H=L.getInt32(W,!0),q=L.getUint32(W+4,!0);return O+=q,b.subarray(H,H+q)});let P,F=0;if(o===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;P=Ft(),F=P?Pe(B,P):0}else{P=(()=>{try{return new Uint8Array(new SharedArrayBuffer(O))}catch{return new Uint8Array(O)}})(),P._isBuffer=!0;const D=te(this).readSync(U.fd,P,0,P.length,Number(U.pos));F=P?Pe(B,P.subarray(0,D)):0,U.pos+=BigInt(F)}return L.setUint32(w,F,!0),0},async function(o,g,y,w){if(g=Number(g),w=Number(w),g===0&&y||w===0)return 28;const{HEAPU8:b,view:L}=K(this),U=J.get(this).fds.get(o,C.FD_READ,BigInt(0));if(!y)return L.setUint32(w,0,!0),0;let O=0;const B=Array.from({length:Number(y)},(V,D)=>{const W=g+D*8,H=L.getInt32(W,!0),q=L.getUint32(W+4,!0);return O+=q,b.subarray(H,H+q)});let P,F=0;if(o===0){if(typeof window>"u"||typeof window.prompt!="function")return 58;P=Ft(),F=P?Pe(B,P):0}else{P=new Uint8Array(O),P._isBuffer=!0;const{bytesRead:V}=await U.fd.read(P,0,P.length,Number(U.pos));F=P?Pe(B,P.subarray(0,V)):0,U.pos+=BigInt(F)}return L.setUint32(w,F,!0),0},["i32","i32","i32","i32"],["i32"]),R("fd_readdir",function(o,g,y,w,b){if(g=Number(g),y=Number(y),b=Number(b),g===0||b===0)return 0;const k=J.get(this).fds.get(o,C.FD_READDIR,BigInt(0)),U=te(this),O=U.readdirSync(k.realPath,{withFileTypes:!0}),{HEAPU8:B,view:P}=K(this);let F=0;for(let V=Number(w);V<O.length;V++){const D=we.encode(O[V].name),W=U.statSync(ce(k.realPath,O[V].name),{bigint:!0}),H=new Uint8Array(24+D.byteLength),q=new DataView(H.buffer);q.setBigUint64(0,BigInt(V+1),!0),q.setBigUint64(8,BigInt(W.ino?W.ino:0),!0),q.setUint32(16,D.byteLength,!0);let Q;O[V].isFile()?Q=4:O[V].isDirectory()?Q=3:O[V].isSymbolicLink()?Q=7:O[V].isCharacterDevice()?Q=2:O[V].isBlockDevice()?Q=1:O[V].isSocket()?Q=6:Q=0,q.setUint8(20,Q),H.set(D,24);const X=H.slice(0,Math.min(H.length,y-F));B.set(X,g+F),F+=X.byteLength}return P.setUint32(b,F,!0),0},async function(o,g,y,w,b){if(g=Number(g),y=Number(y),b=Number(b),g===0||b===0)return 0;const k=J.get(this).fds.get(o,C.FD_READDIR,BigInt(0)),U=te(this),O=await U.promises.readdir(k.realPath,{withFileTypes:!0}),{HEAPU8:B,view:P}=K(this);let F=0;for(let V=Number(w);V<O.length;V++){const D=we.encode(O[V].name),W=await U.promises.stat(ce(k.realPath,O[V].name),{bigint:!0}),H=new Uint8Array(24+D.byteLength),q=new DataView(H.buffer);q.setBigUint64(0,BigInt(V+1),!0),q.setBigUint64(8,BigInt(W.ino?W.ino:0),!0),q.setUint32(16,D.byteLength,!0);let Q;O[V].isFile()?Q=4:O[V].isDirectory()?Q=3:O[V].isSymbolicLink()?Q=7:O[V].isCharacterDevice()?Q=2:O[V].isBlockDevice()?Q=1:O[V].isSocket()?Q=6:Q=0,q.setUint8(20,Q),H.set(D,24);const X=H.slice(0,Math.min(H.length,y-F));B.set(X,g+F),F+=X.byteLength}return P.setUint32(b,F,!0),0},["i32","i32","i32","i64","i32"],["i32"]),R("fd_renumber",function(o,g){return J.get(this).fds.renumber(g,o),0},async function(o,g){return await J.get(this).fds.renumber(g,o),0},["i32","i32"],["i32"]),R("fd_sync",function(o){const y=J.get(this).fds.get(o,C.FD_SYNC,BigInt(0));return te(this).fsyncSync(y.fd),0},async function(o){return await J.get(this).fds.get(o,C.FD_SYNC,BigInt(0)).fd.sync(),0},["i32"],["i32"]),R("fd_write",function(o,g,y,w){if(g=Number(g),w=Number(w),g===0&&y||w===0)return 28;const{HEAPU8:b,view:L}=K(this),U=J.get(this).fds.get(o,C.FD_WRITE,BigInt(0));if(!y)return L.setUint32(w,0,!0),0;const O=$e(Array.from({length:Number(y)},(P,F)=>{const V=g+F*8,D=L.getInt32(V,!0),W=L.getUint32(V+4,!0);return b.subarray(D,D+W)}));let B;return o===1||o===2?B=U.write(O):(B=te(this).writeSync(U.fd,O,0,O.length,Number(U.pos)),U.pos+=BigInt(B)),L.setUint32(w,B,!0),0},async function(o,g,y,w){if(g=Number(g),w=Number(w),g===0&&y||w===0)return 28;const{HEAPU8:b,view:L}=K(this),U=J.get(this).fds.get(o,C.FD_WRITE,BigInt(0));if(!y)return L.setUint32(w,0,!0),0;const O=$e(Array.from({length:Number(y)},(P,F)=>{const V=g+F*8,D=L.getInt32(V,!0),W=L.getUint32(V+4,!0);return b.subarray(D,D+W)}));let B;return o===1||o===2?B=U.write(O):(B=await(await U.fd.write(O,0,O.length,Number(U.pos))).bytesWritten,U.pos+=BigInt(B)),L.setUint32(w,B,!0),0},["i32","i32","i32","i32"],["i32"]),R("path_create_directory",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_CREATE_DIRECTORY,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),te(this).mkdirSync(k),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_CREATE_DIRECTORY,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),await te(this).promises.mkdir(k),0},["i32","i32","i32"],["i32"]),R("path_filestat_get",function(o,g,y,w,b){if(y=Number(y),w=Number(w),b=Number(b),y===0||b===0)return 28;const{HEAPU8:L,view:k}=K(this),O=J.get(this).fds.get(o,C.PATH_FILESTAT_GET,BigInt(0));let B=oe.decode(se(L,y,y+w));const P=te(this);B=ce(O.realPath,B);let F;return(g&1)===1?F=P.statSync(B,{bigint:!0}):F=P.lstatSync(B,{bigint:!0}),ir(k,b,F),0},async function(o,g,y,w,b){if(y=Number(y),w=Number(w),b=Number(b),y===0||b===0)return 28;const{HEAPU8:L,view:k}=K(this),O=J.get(this).fds.get(o,C.PATH_FILESTAT_GET,BigInt(0));let B=oe.decode(se(L,y,y+w));const P=te(this);B=ce(O.realPath,B);let F;return(g&1)===1?F=await P.promises.stat(B,{bigint:!0}):F=await P.promises.lstat(B,{bigint:!0}),ir(k,b,F),0},["i32","i32","i32","i32","i32"],["i32"]),R("path_filestat_set_times",function(o,g,y,w,b,L,k){if(y=Number(y),w=Number(w),y===0)return 28;const{HEAPU8:U}=K(this),B=J.get(this).fds.get(o,C.PATH_FILESTAT_SET_TIMES,BigInt(0));if(sr(k))return 28;const P=te(this),F=Dr(P,B,oe.decode(se(U,y,y+w)),g);return(k&2)===2&&(b=BigInt(Date.now()*1e6)),(k&8)===8&&(L=BigInt(Date.now()*1e6)),P.utimesSync(F,Number(b),Number(L)),0},async function(o,g,y,w,b,L,k){if(y=Number(y),w=Number(w),y===0)return 28;const{HEAPU8:U}=K(this),B=J.get(this).fds.get(o,C.PATH_FILESTAT_SET_TIMES,BigInt(0));if(sr(k))return 28;const P=te(this),F=await Or(P,B,oe.decode(se(U,y,y+w)),g);return(k&2)===2&&(b=BigInt(Date.now()*1e6)),(k&8)===8&&(L=BigInt(Date.now()*1e6)),await P.promises.utimes(F,Number(b),Number(L)),0},["i32","i32","i32","i32","i64","i64","i32"],["i32"]),R("path_link",function(o,g,y,w,b,L,k){if(y=Number(y),w=Number(w),L=Number(L),k=Number(k),y===0||L===0)return 28;const U=J.get(this);let O,B;o===b?O=B=U.fds.get(o,C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET,BigInt(0)):(O=U.fds.get(o,C.PATH_LINK_SOURCE,BigInt(0)),B=U.fds.get(b,C.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:P}=K(this),F=te(this),V=Dr(F,O,oe.decode(se(P,y,y+w)),g),D=ce(B.realPath,oe.decode(se(P,L,L+k)));return F.linkSync(V,D),0},async function(o,g,y,w,b,L,k){if(y=Number(y),w=Number(w),L=Number(L),k=Number(k),y===0||L===0)return 28;const U=J.get(this);let O,B;o===b?O=B=U.fds.get(o,C.PATH_LINK_SOURCE|C.PATH_LINK_TARGET,BigInt(0)):(O=U.fds.get(o,C.PATH_LINK_SOURCE,BigInt(0)),B=U.fds.get(b,C.PATH_LINK_TARGET,BigInt(0)));const{HEAPU8:P}=K(this),F=te(this),V=await Or(F,O,oe.decode(se(P,y,y+w)),g),D=ce(B.realPath,oe.decode(se(P,L,L+k)));return await F.promises.link(V,D),0},["i32","i32","i32","i32","i32","i32","i32"],["i32"]);function z(E,o,g,y){const w=(o&(C.FD_READ|C.FD_READDIR))!==BigInt(0),b=(o&(C.FD_DATASYNC|C.FD_WRITE|C.FD_ALLOCATE|C.FD_FILESTAT_SET_SIZE))!==BigInt(0);let L=b?w?2:1:0,k=C.PATH_OPEN,U=o|g;return(E&1)!==0&&(L|=64,k|=C.PATH_CREATE_FILE),(E&2)!==0&&(L|=65536),(E&4)!==0&&(L|=128),(E&8)!==0&&(L|=512,k|=C.PATH_FILESTAT_SET_SIZE),(y&1)!==0&&(L|=1024),(y&2)!==0&&(U|=C.FD_DATASYNC),(y&4)!==0&&(L|=2048),(y&8)!==0&&(L|=1052672,U|=C.FD_SYNC),(y&16)!==0&&(L|=1052672,U|=C.FD_SYNC),b&&(L&1536)===0&&(U|=C.FD_SEEK),{flags:L,needed_base:k,needed_inheriting:U}}R("path_open",function(o,g,y,w,b,L,k,U,O){if(y=Number(y),O=Number(O),y===0||O===0)return 28;w=Number(w),L=BigInt(L),k=BigInt(k);const{flags:B,needed_base:P,needed_inheriting:F}=z(b,L,k,U),V=J.get(this),D=V.fds.get(o,P,F),W=K(this),H=W.HEAPU8,q=oe.decode(se(H,y,y+w)),Q=te(this),X=Dr(Q,D,q,g),ue=Q.openSync(X,B,438),me=V.fds.getFileTypeByFd(ue);if(me!==3&&((b&2)!==0||X.endsWith("/")))return 54;const{base:Ue,inheriting:Ie}=Je(V.fds.stdio,ue,B,me),he=V.fds.insert(ue,X,X,me,L&Ue,k&Ie,0),ye=Q.fstatSync(ue,{bigint:!0});return ye.isFile()&&(he.size=ye.size,(B&1024)!==0&&(he.pos=ye.size)),W.view.setInt32(O,he.id,!0),0},async function(o,g,y,w,b,L,k,U,O){if(y=Number(y),O=Number(O),y===0||O===0)return 28;w=Number(w),L=BigInt(L),k=BigInt(k);const{flags:B,needed_base:P,needed_inheriting:F}=z(b,L,k,U),V=J.get(this),D=V.fds.get(o,P,F),W=K(this),H=W.HEAPU8,q=oe.decode(se(H,y,y+w)),Q=te(this),X=await Or(Q,D,q,g),ue=await Q.promises.open(X,B,438),me=await V.fds.getFileTypeByFd(ue);if((b&2)!==0&&me!==3)return 54;const{base:Ue,inheriting:Ie}=Je(V.fds.stdio,ue.fd,B,me),he=V.fds.insert(ue,X,X,me,L&Ue,k&Ie,0),ye=await ue.stat({bigint:!0});return ye.isFile()&&(he.size=ye.size,(B&1024)!==0&&(he.pos=ye.size)),W.view.setInt32(O,he.id,!0),0},["i32","i32","i32","i32","i32","i64","i64","i32","i32"],["i32"]),R("path_readlink",function(o,g,y,w,b,L){if(g=Number(g),y=Number(y),w=Number(w),b=Number(b),L=Number(L),g===0||w===0||L===0)return 28;const{HEAPU8:k,view:U}=K(this),B=J.get(this).fds.get(o,C.PATH_READLINK,BigInt(0));let P=oe.decode(se(k,g,g+y));P=ce(B.realPath,P);const V=te(this).readlinkSync(P),D=we.encode(V),W=Math.min(D.length,b);return W>=b?42:(k.set(D.subarray(0,W),w),k[w+W]=0,U.setUint32(L,W,!0),0)},async function(o,g,y,w,b,L){if(g=Number(g),y=Number(y),w=Number(w),b=Number(b),L=Number(L),g===0||w===0||L===0)return 28;const{HEAPU8:k,view:U}=K(this),B=J.get(this).fds.get(o,C.PATH_READLINK,BigInt(0));let P=oe.decode(se(k,g,g+y));P=ce(B.realPath,P);const V=await te(this).promises.readlink(P),D=we.encode(V),W=Math.min(D.length,b);return W>=b?42:(k.set(D.subarray(0,W),w),k[w+W]=0,U.setUint32(L,W,!0),0)},["i32","i32","i32","i32","i32","i32"],["i32"]),R("path_remove_directory",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_REMOVE_DIRECTORY,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),te(this).rmdirSync(k),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_REMOVE_DIRECTORY,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),await te(this).promises.rmdir(k),0},["i32","i32","i32"],["i32"]),R("path_rename",function(o,g,y,w,b,L){if(g=Number(g),y=Number(y),b=Number(b),L=Number(L),g===0||b===0)return 28;const k=J.get(this);let U,O;o===w?U=O=k.fds.get(o,C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET,BigInt(0)):(U=k.fds.get(o,C.PATH_RENAME_SOURCE,BigInt(0)),O=k.fds.get(w,C.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:B}=K(this),P=ce(U.realPath,oe.decode(se(B,g,g+y))),F=ce(O.realPath,oe.decode(se(B,b,b+L)));return te(this).renameSync(P,F),0},async function(o,g,y,w,b,L){if(g=Number(g),y=Number(y),b=Number(b),L=Number(L),g===0||b===0)return 28;const k=J.get(this);let U,O;o===w?U=O=k.fds.get(o,C.PATH_RENAME_SOURCE|C.PATH_RENAME_TARGET,BigInt(0)):(U=k.fds.get(o,C.PATH_RENAME_SOURCE,BigInt(0)),O=k.fds.get(w,C.PATH_RENAME_TARGET,BigInt(0)));const{HEAPU8:B}=K(this),P=ce(U.realPath,oe.decode(se(B,g,g+y))),F=ce(O.realPath,oe.decode(se(B,b,b+L)));return await te(this).promises.rename(P,F),0},["i32","i32","i32","i32","i32","i32"],["i32"]),R("path_symlink",function(o,g,y,w,b){if(o=Number(o),g=Number(g),w=Number(w),b=Number(b),o===0||w===0)return 28;const{HEAPU8:L}=K(this),U=J.get(this).fds.get(y,C.PATH_SYMLINK,BigInt(0)),O=oe.decode(se(L,o,o+g));if(O.length>0&&O[0]==="/")return 63;let B=oe.decode(se(L,w,w+b));return B=ce(U.realPath,B),te(this).symlinkSync(O,B),0},async function(o,g,y,w,b){if(o=Number(o),g=Number(g),w=Number(w),b=Number(b),o===0||w===0)return 28;const{HEAPU8:L}=K(this),U=J.get(this).fds.get(y,C.PATH_SYMLINK,BigInt(0)),O=oe.decode(se(L,o,o+g));let B=oe.decode(se(L,w,w+b));return B=ce(U.realPath,B),await te(this).promises.symlink(O,B),0},["i32","i32","i32","i32","i32"],["i32"]),R("path_unlink_file",function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_UNLINK_FILE,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),te(this).unlinkSync(k),0},async function(o,g,y){if(g=Number(g),y=Number(y),g===0)return 28;const{HEAPU8:w}=K(this),L=J.get(this).fds.get(o,C.PATH_UNLINK_FILE,BigInt(0));let k=oe.decode(se(w,g,g+y));return k=ce(L.realPath,k),await te(this).promises.unlink(k),0},["i32","i32","i32"],["i32"]),this._setMemory=function(o){if(!(o instanceof Ge.Memory))throw new TypeError('"instance.exports.memory" property must be a WebAssembly.Memory');Bt.set(T,$i(o))}}static createSync(n,f,d,p,m,h,T){const R=new Hi({size:3,in:p[0],out:p[1],err:p[2],fs:m,print:h,printErr:T}),x=new Me(n,f,R,!1,m);if(d.length>0)for(let z=0;z<d.length;++z){const E=m.realpathSync(d[z].realPath,"utf8"),o=m.openSync(E,"r",438);R.insertPreopen(o,d[z].mappedPath,E)}return x}static async createAsync(n,f,d,p,m,h,T,R){const x=new Gi({size:3,in:p[0],out:p[1],err:p[2],print:h,printErr:T}),z=new Me(n,f,x,!0,m,R);if(d.length>0)for(let E=0;E<d.length;++E){const o=d[E],g=await m.promises.realpath(o.realPath),y=await m.promises.open(g,"r",438);await x.insertPreopen(y,o.mappedPath,g)}return z}}const Xi=Object.freeze(Object.create(null)),Te=Symbol("kExitCode"),Nt=Symbol("kSetMemory"),Br=Symbol("kStarted"),or=Symbol("kInstance"),ur=Symbol("kBindingName");function Zi(u){var n;Ne(u,"options");let f;if(u.version!==void 0)switch(Lt(u.version,"options.version"),u.version){case"unstable":f=Me,this[ur]="wasi_unstable";break;case"preview1":f=Me,this[ur]="wasi_snapshot_preview1";break;default:throw new TypeError(`unsupported WASI version "${u.version}"`)}else f=Me,this[ur]="wasi_snapshot_preview1";u.args!==void 0&&Xn(u.args,"options.args");const d=((n=u.args)!==null&&n!==void 0?n:[]).map(String),p=[];u.env!==void 0&&(Ne(u.env,"options.env"),Object.entries(u.env).forEach(({0:T,1:R})=>{R!==void 0&&p.push(`${T}=${R}`)}));const m=[];if(u.preopens!==void 0&&(Ne(u.preopens,"options.preopens"),Object.entries(u.preopens).forEach(({0:T,1:R})=>m.push({mappedPath:String(T),realPath:String(R)}))),m.length>0){if(u.fs===void 0)throw new Error("filesystem is disabled, can not preopen directory");try{Ne(u.fs,"options.fs")}catch{throw new TypeError("Node.js fs like implementation is not provided")}}return u.print!==void 0&&nr(u.print,"options.print"),u.printErr!==void 0&&nr(u.printErr,"options.printErr"),u.returnOnExit!==void 0&&Zn(u.returnOnExit,"options.returnOnExit"),{args:d,env:p,preopens:m,stdio:[0,1,2],_WASI:f}}function ea(u,n){this[Nt]=u,this.wasiImport=n,this[Br]=!1,this[Te]=0,this[or]=void 0}class ra{constructor(n=Xi){const{args:f,env:d,preopens:p,stdio:m,_WASI:h}=Zi.call(this,n),T=h.createSync(f,d,p,m,n.fs,n.print,n.printErr),R=T._setMemory;delete T._setMemory,ea.call(this,R,T),n.returnOnExit&&(T.proc_exit=ta.bind(this))}finalizeBindings(n,f){var d,{memory:p=(d=n?.exports)===null||d===void 0?void 0:d.memory}=f===void 0?{}:f;if(this[Br])throw new Error("WASI instance has already started");Ne(n,"instance"),Ne(n.exports,"instance.exports"),this[Nt](p),this[or]=n,this[Br]=!0}start(n){this.finalizeBindings(n);const{_start:f,_initialize:d}=this[or].exports;nr(f,"instance.exports._start"),It(d,"instance.exports._initialize");let p;try{p=f()}catch(m){if(m!==Te)throw m}return p instanceof Promise?p.then(()=>this[Te],m=>{if(m!==Te)throw m;return this[Te]}):this[Te]}initialize(n){this.finalizeBindings(n);const{_start:f,_initialize:d}=this[or].exports;if(It(f,"instance.exports._start"),d!==void 0)return nr(d,"instance.exports._initialize"),d()}getImportObject(){return{[this[ur]]:this.wasiImport}}}function ta(u){throw this[Te]=u,Te}const na=new ra({version:"preview1"}),ia=new URL("/assets/turso-browser.wasm32-wasi-BmOG0nHZ.wasm",self.location.href).href,aa=Qn(),Pt=new WebAssembly.Memory({initial:4e3,maximum:65536,shared:!0});function Mt(u,n){return u=u>>>0,new Uint8Array(Pt.buffer).subarray(u,u+n)}var Ur=null,xe=null,Ce=new Map,cr=0,Ve=new Map;let Rr=0;async function xt(u){const d=await(await(await navigator.storage.getDirectory()).getFileHandle(u,{create:!0})).createSyncAccessHandle();return Rr+=1,Ve.set(Rr,d),[u,Rr]}function sa(u,n,f,d){try{const p=Mt(n,f);return Ve.get(Number(u)).read(p,{at:Number(d)})}catch(p){return console.error(p),-1}}function oa(u,n,f,d){try{const p=Mt(n,f);return Ve.get(Number(u)).write(p,{at:Number(d)})}catch(p){return console.error(p),-1}}function ua(){try{return Ve.get(Number(handle)).flush(Vt),0}catch(u){return console.error(u),-1}}function ca(u,n){try{return Ve.get(Number(u)).truncate(n)}catch(f){return console.error(f),-1}}function Vt(u){try{return Ve.get(Number(u)).getSize()}catch(n){return console.error(n),-1}}const fr=1,lr=2,dr=3,fa={TypeError},Wt="[TURSO_CONVERT_TYPE]";function Fr(u){return(u.code??"").startsWith(Wt)?la(u.code.substring(Wt.length),u.message):new gr(u.message,u.code,u.rawCode)}function la(u,n){const f=fa[u];if(!f)throw new Error(`unknown error type ${u} from Turso`);return new f(n)}class da{db;memory;open;_inTransaction=!1;constructor(n,f={}){f.readonly=f.readonly===void 0?!1:f.readonly,f.fileMustExist=f.fileMustExist===void 0?!1:f.fileMustExist,f.timeout=f.timeout===void 0?0:f.timeout;const d=new Ur.exports.Database(n);this.initialize(d,f.path,f.readonly)}static create(){return Object.create(this.prototype)}initialize(n,f,d){this.db=n,this.memory=n.memory,Object.defineProperties(this,{inTransaction:{get:()=>this._inTransaction},name:{get(){return f}},readonly:{get(){return d}},open:{get(){return this.db.open}}})}prepare(n){if(!this.open)throw new TypeError("The database connection is not open");if(!n)throw new RangeError("The supplied SQL string contains no statements");try{return new pa(this.db.prepare(n),this)}catch(f){throw Fr(f)}}transaction(n){if(typeof n!="function")throw new TypeError("Expected first argument to be a function");const f=this,d=m=>(...h)=>{f.exec("BEGIN "+m),f._inTransaction=!0;try{const T=n(...h);return f.exec("COMMIT"),f._inTransaction=!1,T}catch(T){throw f.exec("ROLLBACK"),f._inTransaction=!1,T}},p={default:{value:d("")},deferred:{value:d("DEFERRED")},immediate:{value:d("IMMEDIATE")},exclusive:{value:d("EXCLUSIVE")},database:{value:this,enumerable:!0}};return Object.defineProperties(p.default.value,p),Object.defineProperties(p.deferred.value,p),Object.defineProperties(p.immediate.value,p),Object.defineProperties(p.exclusive.value,p),p.default.value}pragma(n,f){if(f==null&&(f={}),typeof n!="string")throw new TypeError("Expected first argument to be a string");if(typeof f!="object")throw new TypeError("Expected second argument to be an options object");const d=`PRAGMA ${n}`;return this.prepare(d).all()}backup(n,f){throw new Error("not implemented")}serialize(n){throw new Error("not implemented")}function(n,f,d){throw new Error("not implemented")}aggregate(n,f){throw new Error("not implemented")}table(n,f){throw new Error("not implemented")}loadExtension(n){throw new Error("not implemented")}maxWriteReplicationIndex(){throw new Error("not implemented")}exec(n){if(!this.open)throw new TypeError("The database connection is not open");try{this.db.batch(n)}catch(f){throw Fr(f)}}interrupt(){throw new Error("not implemented")}defaultSafeIntegers(n){this.db.defaultSafeIntegers(n)}close(){this.db.close()}}class pa{stmt;db;constructor(n,f){this.stmt=n,this.db=f}raw(n){return this.stmt.raw(n),this}pluck(n){return this.stmt.pluck(n),this}safeIntegers(n){return this.stmt.safeIntegers(n),this}columns(){return this.stmt.columns()}get source(){throw new Error("not implemented")}get reader(){throw new Error("not implemented")}get database(){return this.db}async run(...n){const f=this.db.db.totalChanges();for(this.stmt.reset(),We(this.stmt,n);;){const m=this.stmt.step();if(m===dr){await this.db.db.ioLoopAsync();continue}if(m===lr)break}const d=this.db.db.lastInsertRowid();return{changes:this.db.db.totalChanges()===f?0:this.db.db.changes(),lastInsertRowid:d}}async get(...n){for(this.stmt.reset(),We(this.stmt,n);;){const f=this.stmt.step();if(f===dr){await this.db.db.ioLoopAsync();continue}if(f===lr)return;if(f===fr)return this.stmt.row()}}async*iterate(...n){for(this.stmt.reset(),We(this.stmt,n);;){const f=this.stmt.step();if(f===dr){await this.db.db.ioLoopAsync();continue}if(f===lr)break;f===fr&&(yield this.stmt.row())}}async all(...n){this.stmt.reset(),We(this.stmt,n);const f=[];for(;;){const d=this.stmt.step();if(d===dr){await this.db.db.ioLoopAsync();continue}if(d===lr)break;d===fr&&f.push(this.stmt.row())}return f}interrupt(){throw new Error("not implemented")}bind(...n){try{return We(this.stmt,n),this}catch(f){throw Fr(f)}}}async function ha(){if(Ur!=null)return;const u=await fetch(ia).then(p=>p.arrayBuffer()),{instance:n,module:f,napiModule:d}=Ln(u,{context:aa,asyncWorkPoolSize:0,wasi:na,onCreateWorker(){return null},overwriteImports(p){return p.env={...p.env,...p.napi,...p.emnapi,read:sa,write:oa,sync:ua,truncate:ca,size:Vt,memory:Pt},p},beforeInit({instance:p}){for(const m of Object.keys(p.exports))m.startsWith("__napi_register__")&&p.exports[m]()}});Ur=d}un({async connect(u){await ha();let[n,f]=await xt(u),[d,p]=await xt(`${u}-wal`);xe=new da({path:u,files:{[n]:{handle:f},[d]:{handle:p}}})},prepare(u){return cr+=1,Ce.set(cr,xe.prepare(u)),cr},pragma(u,n){return xe.pragma(u,n)},exec(u){xe.exec(u)},defaultSafeIntegers(u){xe.defaultSafeIntegers(u)},close(){xe.close()},async run(u,n){return Ce.get(u).run(...n)},async all(u,n){return Ce.get(u).all(...n)},pluck(u,n){Ce.get(u).pluck(n)},safeIntegers(u,n){Ce.get(u).safeIntegers(n)},columns(u){return Ce.get(u).stmt.columns()},async get(u,n){return Ce.get(u).get(...n)},bind(u){Ce.get(cr).bind(...u)}})})();
